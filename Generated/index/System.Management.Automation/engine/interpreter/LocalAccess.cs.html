<!DOCTYPE html>
<html><head><title>LocalAccess.cs</title><link rel="stylesheet" href="../../../styles.css"><script src="../../../scripts.js"></script></head>
<body class="cB" onload="i(457);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#System.Management.Automation/engine/interpreter/LocalAccess.cs" target="_top">engine\interpreter\LocalAccess.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#System.Management.Automation" target="_top">src\System.Management.Automation\System.Management.Automation.csproj</a> (System.Management.Automation)</td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">/* ****************************************************************************
 *
 * Copyright (c) Microsoft Corporation.
 *
 * This source code is subject to terms and conditions of the Apache License, Version 2.0. A
 * copy of the license can be found in the License.html file at the root of this distribution. If
 * you cannot locate the Apache License, Version 2.0, please send an email to
 * dlr@microsoft.com. By using this source code in any fashion, you are agreeing to be bound
 * by the terms of the Apache License, Version 2.0.
 *
 * You must not remove this notice, or any other, from this software.
 *
 *
 * ***************************************************************************/</span>
 
<span class="k preprocess">#</span><span class="k preprocess">if</span> !<span class="i">CLR2</span>
<span class="k preprocess">#</span><span class="k preprocess">else</span>
<span class="e">using Microsoft.Scripting.Ast;
</span><span class="k preprocess">#</span><span class="k preprocess">endif</span>
<b>using</b> <span class="i n">System</span>.<span class="i">Reflection</span>;
<b>using</b> <span class="i n">System</span>.<span class="i">Runtime</span>.<span class="i">CompilerServices</span>;
<b>using</b> <span class="i n">System</span>.<span class="i">Collections</span>.<span class="i">Generic</span>;
 
<b>namespace</b> <span class="i n">System</span>.<span class="i n">Management</span>.<span class="i n">Automation</span>.<span class="i n">Interpreter</span>
{
 
<span class="k preprocess">#</span><span class="k preprocess">nullable</span> <span class="k preprocess">enable</span>
    <b>internal interface</b> <a id="8be99111c966ca51" href="../../R/8be99111c966ca51.html" target="n" data-glyph="50,0" class="t t">IBoxableInstruction</a>
    {
        <a href="Instruction.cs.html#ae0e6be378b87eaa" class="t t">Instruction</a>? <a id="6a5fe34142adbd21" href="../../R/6a5fe34142adbd21.html" target="n" data-glyph="72,1" class="i method">BoxIfIndexMatches</a>(<b>int</b> <span id="r0 rd" class="r0 r">index</span>);
    }
<span class="k preprocess">#</span><span class="k preprocess">nullable</span> <span class="k preprocess">restore</span>
 
    <b>internal abstract class</b> <a id="f6c0b58f57551439" href="../../R/f6c0b58f57551439.html" target="n" data-glyph="2,0" class="t t">LocalAccessInstruction</a> : <a href="Instruction.cs.html#ae0e6be378b87eaa" class="t t">Instruction</a>
    {
        <b>internal readonly int</b> <a id="7b629adff4f7ae6e" href="../../R/7b629adff4f7ae6e.html" target="n" data-glyph="44,1" class="i field">_index</a>;
 
        <b>protected</b> <a id="43e0e1c8f2d0906b" href="../../R/43e0e1c8f2d0906b.html" target="n" data-glyph="75,1" class="t constructor">LocalAccessInstruction</a>(<b>int</b> <span id="r1 rd" class="r1 r">index</span>)
        {
            <a href="#7b629adff4f7ae6e" class="i field">_index</a> = <span class="r1 r">index</span>;
        }
 
        <b>public override string</b> <a id="f3f2f4cc5d038027" href="../../R/f3f2f4cc5d038027.html" target="n" data-glyph="72,1" class="i method">ToDebugString</a>(<b>int</b> <span id="r2 rd" class="r2 r">instructionIndex</span>, <b>object</b> <span id="r3 rd" class="r3 r">cookie</span>, <span class="i">Func</span>&lt;<b>int</b>, <b>int</b>&gt; <span id="r4 rd" class="r4 r">labelIndexer</span>, <span class="i">IList</span>&lt;<b>object</b>&gt; <span id="r5 rd" class="r5 r">objects</span>)
        {
            <b>return</b> <span class="r3 r">cookie</span> == <b>null</b> ?
                <a href="Instruction.cs.html#d3163689a00630ac" class="i property">InstructionName</a> + <span class="s">&quot;(&quot;</span> + <a href="#7b629adff4f7ae6e" class="i field">_index</a> + <span class="s">&quot;)&quot;</span> :
                <a href="Instruction.cs.html#d3163689a00630ac" class="i property">InstructionName</a> + <span class="s">&quot;(&quot;</span> + <span class="r3 r">cookie</span> + <span class="s">&quot;: &quot;</span> + <a href="#7b629adff4f7ae6e" class="i field">_index</a> + <span class="s">&quot;)&quot;</span>;
        }
    }
 
    <span class="k preprocess">#</span><span class="k preprocess">region</span> Load
 
    <b>internal sealed class</b> <a id="0f616a471d5f1664" href="../../R/0f616a471d5f1664.html" target="n" data-glyph="2,0" class="t t">LoadLocalInstruction</a> : <a href="#f6c0b58f57551439" class="t t">LocalAccessInstruction</a>, <a href="#8be99111c966ca51" class="t t">IBoxableInstruction</a>
    {
        <b>internal</b> <a id="4b2cb27c11c742db" href="../../R/4b2cb27c11c742db.html" target="n" data-glyph="74,1" class="t constructor">LoadLocalInstruction</a>(<b>int</b> <span id="r6 rd" class="r6 r">index</span>)
            : <a href="#43e0e1c8f2d0906b" class="k">base</a>(<span class="r6 r">index</span>)
        {
        }
 
        <b>public override int</b> <a id="2f29881d17efc5c8" href="../../R/2f29881d17efc5c8.html" target="n" data-glyph="102,1" class="i property">ProducedStack</a> { <b>get</b> { <b>return</b> 1; } }
 
        <b>public override int</b> <a id="c657117f2b573f1e" href="../../R/c657117f2b573f1e.html" target="n" data-glyph="72,1" class="i method">Run</a>(<a href="InterpretedFrame.cs.html#48cb4583b6a7ca66" class="t t">InterpretedFrame</a> <span id="r7 rd" class="r7 r">frame</span>)
        {
            <span class="r7 r">frame</span>.<a href="InterpretedFrame.cs.html#50fbc06c67e027bf" class="i field">Data</a>[<span class="r7 r">frame</span>.<a href="InterpretedFrame.cs.html#5355063fb52fab2a" class="i field">StackIndex</a>++] = <span class="r7 r">frame</span>.<a href="InterpretedFrame.cs.html#50fbc06c67e027bf" class="i field">Data</a>[<a href="#7b629adff4f7ae6e" class="i field">_index</a>];
            <span class="c">// frame.Push(frame.Data[_index]);</span>
            <b>return</b> +1;
        }
 
        <b>public</b> <a href="Instruction.cs.html#ae0e6be378b87eaa" class="t t">Instruction</a> <a id="056f4df3aa8aebaa" href="../../R/056f4df3aa8aebaa.html" target="n" data-glyph="72,1" class="i method">BoxIfIndexMatches</a>(<b>int</b> <span id="r8 rd" class="r8 r">index</span>)
        {
            <b>return</b> (<span class="r8 r">index</span> == <a href="#7b629adff4f7ae6e" class="i field">_index</a>) ? <a href="InstructionList.cs.html#4bc9256c53a38dc2" class="t t">InstructionList</a>.<a href="InstructionList.cs.html#a93a80d03bb4bcd3" class="i method">LoadLocalBoxed</a>(<span class="r8 r">index</span>) : <b>null</b>;
        }
    }
 
    <b>internal sealed class</b> <a id="eb656c9fde04fdc8" href="../../R/eb656c9fde04fdc8.html" target="n" data-glyph="2,0" class="t t">LoadLocalBoxedInstruction</a> : <a href="#f6c0b58f57551439" class="t t">LocalAccessInstruction</a>
    {
        <b>internal</b> <a id="1d87ac4c817a067b" href="../../R/1d87ac4c817a067b.html" target="n" data-glyph="74,1" class="t constructor">LoadLocalBoxedInstruction</a>(<b>int</b> <span id="r9 rd" class="r9 r">index</span>)
            : <a href="#43e0e1c8f2d0906b" class="k">base</a>(<span class="r9 r">index</span>)
        {
        }
 
        <b>public override int</b> <a id="c44f5d50c48b3282" href="../../R/c44f5d50c48b3282.html" target="n" data-glyph="102,1" class="i property">ProducedStack</a> { <b>get</b> { <b>return</b> 1; } }
 
        <b>public override int</b> <a id="8dc840c4a6a97aac" href="../../R/8dc840c4a6a97aac.html" target="n" data-glyph="72,1" class="i method">Run</a>(<a href="InterpretedFrame.cs.html#48cb4583b6a7ca66" class="t t">InterpretedFrame</a> <span id="r10 rd" class="r10 r">frame</span>)
        {
            <b>var</b> <span id="r11 rd" class="r11 r">box</span> = (<span class="i">StrongBox</span>&lt;<b>object</b>&gt;)<span class="r10 r">frame</span>.<a href="InterpretedFrame.cs.html#50fbc06c67e027bf" class="i field">Data</a>[<a href="#7b629adff4f7ae6e" class="i field">_index</a>];
            <span class="r10 r">frame</span>.<a href="InterpretedFrame.cs.html#50fbc06c67e027bf" class="i field">Data</a>[<span class="r10 r">frame</span>.<a href="InterpretedFrame.cs.html#5355063fb52fab2a" class="i field">StackIndex</a>++] = <span class="r11 r">box</span>.<span class="i">Value</span>;
            <b>return</b> +1;
        }
    }
 
    <b>internal sealed class</b> <a id="d983fe608f51e169" href="../../R/d983fe608f51e169.html" target="n" data-glyph="2,0" class="t t">LoadLocalFromClosureInstruction</a> : <a href="#f6c0b58f57551439" class="t t">LocalAccessInstruction</a>
    {
        <b>internal</b> <a id="28f55edce0501a79" href="../../R/28f55edce0501a79.html" target="n" data-glyph="74,1" class="t constructor">LoadLocalFromClosureInstruction</a>(<b>int</b> <span id="r12 rd" class="r12 r">index</span>)
            : <a href="#43e0e1c8f2d0906b" class="k">base</a>(<span class="r12 r">index</span>)
        {
        }
 
        <b>public override int</b> <a id="dc5bb97792fa3949" href="../../R/dc5bb97792fa3949.html" target="n" data-glyph="102,1" class="i property">ProducedStack</a> { <b>get</b> { <b>return</b> 1; } }
 
        <b>public override int</b> <a id="c30e2c94311e8c8e" href="../../R/c30e2c94311e8c8e.html" target="n" data-glyph="72,1" class="i method">Run</a>(<a href="InterpretedFrame.cs.html#48cb4583b6a7ca66" class="t t">InterpretedFrame</a> <span id="r13 rd" class="r13 r">frame</span>)
        {
            <b>var</b> <span id="r14 rd" class="r14 r">box</span> = <span class="r13 r">frame</span>.<a href="InterpretedFrame.cs.html#7c542da1e79564cd" class="i field">Closure</a>[<a href="#7b629adff4f7ae6e" class="i field">_index</a>];
            <span class="r13 r">frame</span>.<a href="InterpretedFrame.cs.html#50fbc06c67e027bf" class="i field">Data</a>[<span class="r13 r">frame</span>.<a href="InterpretedFrame.cs.html#5355063fb52fab2a" class="i field">StackIndex</a>++] = <span class="r14 r">box</span>.<span class="i">Value</span>;
            <b>return</b> +1;
        }
    }
 
    <b>internal sealed class</b> <a id="a8e6314163f3afda" href="../../R/a8e6314163f3afda.html" target="n" data-glyph="2,0" class="t t">LoadLocalFromClosureBoxedInstruction</a> : <a href="#f6c0b58f57551439" class="t t">LocalAccessInstruction</a>
    {
        <b>internal</b> <a id="203dd72863394ed6" href="../../R/203dd72863394ed6.html" target="n" data-glyph="74,1" class="t constructor">LoadLocalFromClosureBoxedInstruction</a>(<b>int</b> <span id="r15 rd" class="r15 r">index</span>)
            : <a href="#43e0e1c8f2d0906b" class="k">base</a>(<span class="r15 r">index</span>)
        {
        }
 
        <b>public override int</b> <a id="906ac2188379a6f7" href="../../R/906ac2188379a6f7.html" target="n" data-glyph="102,1" class="i property">ProducedStack</a> { <b>get</b> { <b>return</b> 1; } }
 
        <b>public override int</b> <a id="7e624e751180fd2b" href="../../R/7e624e751180fd2b.html" target="n" data-glyph="72,1" class="i method">Run</a>(<a href="InterpretedFrame.cs.html#48cb4583b6a7ca66" class="t t">InterpretedFrame</a> <span id="r16 rd" class="r16 r">frame</span>)
        {
            <b>var</b> <span id="r17 rd" class="r17 r">box</span> = <span class="r16 r">frame</span>.<a href="InterpretedFrame.cs.html#7c542da1e79564cd" class="i field">Closure</a>[<a href="#7b629adff4f7ae6e" class="i field">_index</a>];
            <span class="r16 r">frame</span>.<a href="InterpretedFrame.cs.html#50fbc06c67e027bf" class="i field">Data</a>[<span class="r16 r">frame</span>.<a href="InterpretedFrame.cs.html#5355063fb52fab2a" class="i field">StackIndex</a>++] = <span class="r17 r">box</span>;
            <b>return</b> +1;
        }
    }
 
    <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
 
    <span class="k preprocess">#</span><span class="k preprocess">region</span> Store, Assign
 
    <b>internal sealed class</b> <a id="6940fe52c3479635" href="../../R/6940fe52c3479635.html" target="n" data-glyph="2,0" class="t t">AssignLocalInstruction</a> : <a href="#f6c0b58f57551439" class="t t">LocalAccessInstruction</a>, <a href="#8be99111c966ca51" class="t t">IBoxableInstruction</a>
    {
        <b>internal</b> <a id="5943a7be00990160" href="../../R/5943a7be00990160.html" target="n" data-glyph="74,1" class="t constructor">AssignLocalInstruction</a>(<b>int</b> <span id="r18 rd" class="r18 r">index</span>)
            : <a href="#43e0e1c8f2d0906b" class="k">base</a>(<span class="r18 r">index</span>)
        {
        }
 
        <b>public override int</b> <a id="28e8c56a34a90b04" href="../../R/28e8c56a34a90b04.html" target="n" data-glyph="102,1" class="i property">ConsumedStack</a> { <b>get</b> { <b>return</b> 1; } }
 
        <b>public override int</b> <a id="2c3ad71f74abbb28" href="../../R/2c3ad71f74abbb28.html" target="n" data-glyph="102,1" class="i property">ProducedStack</a> { <b>get</b> { <b>return</b> 1; } }
 
        <b>public override int</b> <a id="48c7a37e2d24ae98" href="../../R/48c7a37e2d24ae98.html" target="n" data-glyph="72,1" class="i method">Run</a>(<a href="InterpretedFrame.cs.html#48cb4583b6a7ca66" class="t t">InterpretedFrame</a> <span id="r19 rd" class="r19 r">frame</span>)
        {
            <span class="r19 r">frame</span>.<a href="InterpretedFrame.cs.html#50fbc06c67e027bf" class="i field">Data</a>[<a href="#7b629adff4f7ae6e" class="i field">_index</a>] = <span class="r19 r">frame</span>.<a href="InterpretedFrame.cs.html#20d635977dd6f58d" class="i method">Peek</a>();
            <b>return</b> +1;
        }
 
        <b>public</b> <a href="Instruction.cs.html#ae0e6be378b87eaa" class="t t">Instruction</a> <a id="38184fb58f58fe01" href="../../R/38184fb58f58fe01.html" target="n" data-glyph="72,1" class="i method">BoxIfIndexMatches</a>(<b>int</b> <span id="r20 rd" class="r20 r">index</span>)
        {
            <b>return</b> (<span class="r20 r">index</span> == <a href="#7b629adff4f7ae6e" class="i field">_index</a>) ? <a href="InstructionList.cs.html#4bc9256c53a38dc2" class="t t">InstructionList</a>.<a href="InstructionList.cs.html#06850a5473318130" class="i method">AssignLocalBoxed</a>(<span class="r20 r">index</span>) : <b>null</b>;
        }
    }
 
    <b>internal sealed class</b> <a id="7f14b1c7a977fa47" href="../../R/7f14b1c7a977fa47.html" target="n" data-glyph="2,0" class="t t">StoreLocalInstruction</a> : <a href="#f6c0b58f57551439" class="t t">LocalAccessInstruction</a>, <a href="#8be99111c966ca51" class="t t">IBoxableInstruction</a>
    {
        <b>internal</b> <a id="9744e461d88ef119" href="../../R/9744e461d88ef119.html" target="n" data-glyph="74,1" class="t constructor">StoreLocalInstruction</a>(<b>int</b> <span id="r21 rd" class="r21 r">index</span>)
            : <a href="#43e0e1c8f2d0906b" class="k">base</a>(<span class="r21 r">index</span>)
        {
        }
 
        <b>public override int</b> <a id="6d6ef685fddcacc9" href="../../R/6d6ef685fddcacc9.html" target="n" data-glyph="102,1" class="i property">ConsumedStack</a> { <b>get</b> { <b>return</b> 1; } }
 
        <b>public override int</b> <a id="0bd758b8ca517fcf" href="../../R/0bd758b8ca517fcf.html" target="n" data-glyph="72,1" class="i method">Run</a>(<a href="InterpretedFrame.cs.html#48cb4583b6a7ca66" class="t t">InterpretedFrame</a> <span id="r22 rd" class="r22 r">frame</span>)
        {
            <span class="r22 r">frame</span>.<a href="InterpretedFrame.cs.html#50fbc06c67e027bf" class="i field">Data</a>[<a href="#7b629adff4f7ae6e" class="i field">_index</a>] = <span class="r22 r">frame</span>.<a href="InterpretedFrame.cs.html#50fbc06c67e027bf" class="i field">Data</a>[--<span class="r22 r">frame</span>.<a href="InterpretedFrame.cs.html#5355063fb52fab2a" class="i field">StackIndex</a>];
            <span class="c">// frame.Data[_index] = frame.Pop();</span>
            <b>return</b> +1;
        }
 
        <b>public</b> <a href="Instruction.cs.html#ae0e6be378b87eaa" class="t t">Instruction</a> <a id="cd3d8489af9b2fa1" href="../../R/cd3d8489af9b2fa1.html" target="n" data-glyph="72,1" class="i method">BoxIfIndexMatches</a>(<b>int</b> <span id="r23 rd" class="r23 r">index</span>)
        {
            <b>return</b> (<span class="r23 r">index</span> == <a href="#7b629adff4f7ae6e" class="i field">_index</a>) ? <a href="InstructionList.cs.html#4bc9256c53a38dc2" class="t t">InstructionList</a>.<a href="InstructionList.cs.html#f49f10eaacf1e046" class="i method">StoreLocalBoxed</a>(<span class="r23 r">index</span>) : <b>null</b>;
        }
    }
 
    <b>internal sealed class</b> <a id="69e3b4a4391cf530" href="../../R/69e3b4a4391cf530.html" target="n" data-glyph="2,0" class="t t">AssignLocalBoxedInstruction</a> : <a href="#f6c0b58f57551439" class="t t">LocalAccessInstruction</a>
    {
        <b>internal</b> <a id="1e055251a4e61016" href="../../R/1e055251a4e61016.html" target="n" data-glyph="74,1" class="t constructor">AssignLocalBoxedInstruction</a>(<b>int</b> <span id="r24 rd" class="r24 r">index</span>)
            : <a href="#43e0e1c8f2d0906b" class="k">base</a>(<span class="r24 r">index</span>)
        {
        }
 
        <b>public override int</b> <a id="cd2c9b9cb02b03d2" href="../../R/cd2c9b9cb02b03d2.html" target="n" data-glyph="102,1" class="i property">ConsumedStack</a> { <b>get</b> { <b>return</b> 1; } }
 
        <b>public override int</b> <a id="8dbef32d2d105541" href="../../R/8dbef32d2d105541.html" target="n" data-glyph="102,1" class="i property">ProducedStack</a> { <b>get</b> { <b>return</b> 1; } }
 
        <b>public override int</b> <a id="bf290e5dcb3bbb79" href="../../R/bf290e5dcb3bbb79.html" target="n" data-glyph="72,1" class="i method">Run</a>(<a href="InterpretedFrame.cs.html#48cb4583b6a7ca66" class="t t">InterpretedFrame</a> <span id="r25 rd" class="r25 r">frame</span>)
        {
            <b>var</b> <span id="r26 rd" class="r26 r">box</span> = (<span class="i">StrongBox</span>&lt;<b>object</b>&gt;)<span class="r25 r">frame</span>.<a href="InterpretedFrame.cs.html#50fbc06c67e027bf" class="i field">Data</a>[<a href="#7b629adff4f7ae6e" class="i field">_index</a>];
            <span class="r26 r">box</span>.<span class="i">Value</span> = <span class="r25 r">frame</span>.<a href="InterpretedFrame.cs.html#20d635977dd6f58d" class="i method">Peek</a>();
            <b>return</b> +1;
        }
    }
 
    <b>internal sealed class</b> <a id="1212d1ffc49dbf28" href="../../R/1212d1ffc49dbf28.html" target="n" data-glyph="2,0" class="t t">StoreLocalBoxedInstruction</a> : <a href="#f6c0b58f57551439" class="t t">LocalAccessInstruction</a>
    {
        <b>internal</b> <a id="ad1f6136bbd4a38f" href="../../R/ad1f6136bbd4a38f.html" target="n" data-glyph="74,1" class="t constructor">StoreLocalBoxedInstruction</a>(<b>int</b> <span id="r27 rd" class="r27 r">index</span>)
            : <a href="#43e0e1c8f2d0906b" class="k">base</a>(<span class="r27 r">index</span>)
        {
        }
 
        <b>public override int</b> <a id="4168e5437666a3a7" href="../../R/4168e5437666a3a7.html" target="n" data-glyph="102,1" class="i property">ConsumedStack</a> { <b>get</b> { <b>return</b> 1; } }
 
        <b>public override int</b> <a id="4545b2c4b9e61ed7" href="../../R/4545b2c4b9e61ed7.html" target="n" data-glyph="102,1" class="i property">ProducedStack</a> { <b>get</b> { <b>return</b> 0; } }
 
        <b>public override int</b> <a id="7c6372a966e5d916" href="../../R/7c6372a966e5d916.html" target="n" data-glyph="72,1" class="i method">Run</a>(<a href="InterpretedFrame.cs.html#48cb4583b6a7ca66" class="t t">InterpretedFrame</a> <span id="r28 rd" class="r28 r">frame</span>)
        {
            <b>var</b> <span id="r29 rd" class="r29 r">box</span> = (<span class="i">StrongBox</span>&lt;<b>object</b>&gt;)<span class="r28 r">frame</span>.<a href="InterpretedFrame.cs.html#50fbc06c67e027bf" class="i field">Data</a>[<a href="#7b629adff4f7ae6e" class="i field">_index</a>];
            <span class="r29 r">box</span>.<span class="i">Value</span> = <span class="r28 r">frame</span>.<a href="InterpretedFrame.cs.html#50fbc06c67e027bf" class="i field">Data</a>[--<span class="r28 r">frame</span>.<a href="InterpretedFrame.cs.html#5355063fb52fab2a" class="i field">StackIndex</a>];
            <b>return</b> +1;
        }
    }
 
    <b>internal sealed class</b> <a id="f78b018f87f8df26" href="../../R/f78b018f87f8df26.html" target="n" data-glyph="2,0" class="t t">AssignLocalToClosureInstruction</a> : <a href="#f6c0b58f57551439" class="t t">LocalAccessInstruction</a>
    {
        <b>internal</b> <a id="9e7d75a6ce24b915" href="../../R/9e7d75a6ce24b915.html" target="n" data-glyph="74,1" class="t constructor">AssignLocalToClosureInstruction</a>(<b>int</b> <span id="r30 rd" class="r30 r">index</span>)
            : <a href="#43e0e1c8f2d0906b" class="k">base</a>(<span class="r30 r">index</span>)
        {
        }
 
        <b>public override int</b> <a id="0001d7c90f6930a2" href="../../R/0001d7c90f6930a2.html" target="n" data-glyph="102,1" class="i property">ConsumedStack</a> { <b>get</b> { <b>return</b> 1; } }
 
        <b>public override int</b> <a id="3c64750fd9a35ed5" href="../../R/3c64750fd9a35ed5.html" target="n" data-glyph="102,1" class="i property">ProducedStack</a> { <b>get</b> { <b>return</b> 1; } }
 
        <b>public override int</b> <a id="2b585f79c75a9b73" href="../../R/2b585f79c75a9b73.html" target="n" data-glyph="72,1" class="i method">Run</a>(<a href="InterpretedFrame.cs.html#48cb4583b6a7ca66" class="t t">InterpretedFrame</a> <span id="r31 rd" class="r31 r">frame</span>)
        {
            <b>var</b> <span id="r32 rd" class="r32 r">box</span> = <span class="r31 r">frame</span>.<a href="InterpretedFrame.cs.html#7c542da1e79564cd" class="i field">Closure</a>[<a href="#7b629adff4f7ae6e" class="i field">_index</a>];
            <span class="r32 r">box</span>.<span class="i">Value</span> = <span class="r31 r">frame</span>.<a href="InterpretedFrame.cs.html#20d635977dd6f58d" class="i method">Peek</a>();
            <b>return</b> +1;
        }
    }
 
    <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
 
    <span class="k preprocess">#</span><span class="k preprocess">region</span> Initialize
 
    [<span class="i n">System</span>.<span class="i n">Diagnostics</span>.<span class="i">CodeAnalysis</span>.<span class="i">SuppressMessage</span>(<span class="s">&quot;Microsoft.Design&quot;</span>, <span class="s">&quot;CA1012:AbstractTypesShouldNotHaveConstructors&quot;</span>)]
    <b>internal abstract class</b> <a id="82ed69935c0f9659" href="../../R/82ed69935c0f9659.html" target="n" data-glyph="2,0" class="t t">InitializeLocalInstruction</a> : <a href="#f6c0b58f57551439" class="t t">LocalAccessInstruction</a>
    {
        <b>internal</b> <a id="8e9d9fbe4b8dc6ed" href="../../R/8e9d9fbe4b8dc6ed.html" target="n" data-glyph="74,1" class="t constructor">InitializeLocalInstruction</a>(<b>int</b> <span id="r33 rd" class="r33 r">index</span>)
            : <a href="#43e0e1c8f2d0906b" class="k">base</a>(<span class="r33 r">index</span>)
        {
        }
 
        <b>internal sealed class</b> <a id="fb3604daf121c67d" href="../../R/fb3604daf121c67d.html" target="n" data-glyph="2,1" class="t t">Reference</a> : <a href="#82ed69935c0f9659" class="t t">InitializeLocalInstruction</a>, <a href="#8be99111c966ca51" class="t t">IBoxableInstruction</a>
        {
            <b>internal</b> <a id="a08248164dd88613" href="../../R/a08248164dd88613.html" target="n" data-glyph="74,2" class="t constructor">Reference</a>(<b>int</b> <span id="r34 rd" class="r34 r">index</span>)
                : <a href="#8e9d9fbe4b8dc6ed" class="k">base</a>(<span class="r34 r">index</span>)
            {
            }
 
            <b>public override int</b> <a id="cac29629816d0940" href="../../R/cac29629816d0940.html" target="n" data-glyph="72,2" class="i method">Run</a>(<a href="InterpretedFrame.cs.html#48cb4583b6a7ca66" class="t t">InterpretedFrame</a> <span id="r35 rd" class="r35 r">frame</span>)
            {
                <span class="r35 r">frame</span>.<a href="InterpretedFrame.cs.html#50fbc06c67e027bf" class="i field">Data</a>[<a href="#7b629adff4f7ae6e" class="i field">_index</a>] = <b>null</b>;
                <b>return</b> 1;
            }
 
            <b>public</b> <a href="Instruction.cs.html#ae0e6be378b87eaa" class="t t">Instruction</a> <a id="65c0dab3cc5acb59" href="../../R/65c0dab3cc5acb59.html" target="n" data-glyph="72,2" class="i method">BoxIfIndexMatches</a>(<b>int</b> <span id="r36 rd" class="r36 r">index</span>)
            {
                <b>return</b> (<span class="r36 r">index</span> == <a href="#7b629adff4f7ae6e" class="i field">_index</a>) ? <a href="InstructionList.cs.html#4bc9256c53a38dc2" class="t t">InstructionList</a>.<a href="InstructionList.cs.html#00620c964266f457" class="i method">InitImmutableRefBox</a>(<span class="r36 r">index</span>) : <b>null</b>;
            }
 
            <b>public override string</b> <a id="731a4c48ecd8d5c2" href="../../R/731a4c48ecd8d5c2.html" target="n" data-glyph="102,2" class="i property">InstructionName</a>
            {
                <b>get</b> { <b>return</b> <span class="s">&quot;InitRef&quot;</span>; }
            }
        }
 
        <b>internal sealed class</b> <a id="fa2a1f72fdf5b427" href="../../R/fa2a1f72fdf5b427.html" target="n" data-glyph="2,1" class="t t">ImmutableValue</a> : <a href="#82ed69935c0f9659" class="t t">InitializeLocalInstruction</a>, <a href="#8be99111c966ca51" class="t t">IBoxableInstruction</a>
        {
            <b>private readonly object</b> <a id="08065909b21e1e8a" href="../../R/08065909b21e1e8a.html" target="n" data-glyph="46,2" class="i field">_defaultValue</a>;
 
            <b>internal</b> <a id="b4bff897b9f67b84" href="../../R/b4bff897b9f67b84.html" target="n" data-glyph="74,2" class="t constructor">ImmutableValue</a>(<b>int</b> <span id="r37 rd" class="r37 r">index</span>, <b>object</b> <span id="r38 rd" class="r38 r">defaultValue</span>)
                : <a href="#8e9d9fbe4b8dc6ed" class="k">base</a>(<span class="r37 r">index</span>)
            {
                <a href="#08065909b21e1e8a" class="i field">_defaultValue</a> = <span class="r38 r">defaultValue</span>;
            }
 
            <b>public override int</b> <a id="17588632df138270" href="../../R/17588632df138270.html" target="n" data-glyph="72,2" class="i method">Run</a>(<a href="InterpretedFrame.cs.html#48cb4583b6a7ca66" class="t t">InterpretedFrame</a> <span id="r39 rd" class="r39 r">frame</span>)
            {
                <span class="r39 r">frame</span>.<a href="InterpretedFrame.cs.html#50fbc06c67e027bf" class="i field">Data</a>[<a href="#7b629adff4f7ae6e" class="i field">_index</a>] = <a href="#08065909b21e1e8a" class="i field">_defaultValue</a>;
                <b>return</b> 1;
            }
 
            <b>public</b> <a href="Instruction.cs.html#ae0e6be378b87eaa" class="t t">Instruction</a> <a id="8eb6de66ef2b69e3" href="../../R/8eb6de66ef2b69e3.html" target="n" data-glyph="72,2" class="i method">BoxIfIndexMatches</a>(<b>int</b> <span id="r40 rd" class="r40 r">index</span>)
            {
                <b>return</b> (<span class="r40 r">index</span> == <a href="#7b629adff4f7ae6e" class="i field">_index</a>) ? <b>new</b> <a href="#58c7a62531ae3ae5" class="t constructor">ImmutableBox</a>(<span class="r40 r">index</span>, <a href="#08065909b21e1e8a" class="i field">_defaultValue</a>) : <b>null</b>;
            }
 
            <b>public override string</b> <a id="c9964e715b1434ce" href="../../R/c9964e715b1434ce.html" target="n" data-glyph="102,2" class="i property">InstructionName</a>
            {
                <b>get</b> { <b>return</b> <span class="s">&quot;InitImmutableValue&quot;</span>; }
            }
        }
 
        <b>internal sealed class</b> <a id="89eb8cc78cb69b62" href="../../R/89eb8cc78cb69b62.html" target="n" data-glyph="2,1" class="t t">ImmutableBox</a> : <a href="#82ed69935c0f9659" class="t t">InitializeLocalInstruction</a>
        {
            <span class="c">// immutable value:</span>
            <b>private readonly object</b> <a id="db610bc6c00d0fa9" href="../../R/db610bc6c00d0fa9.html" target="n" data-glyph="46,2" class="i field">_defaultValue</a>;
 
            <b>internal</b> <a id="58c7a62531ae3ae5" href="../../R/58c7a62531ae3ae5.html" target="n" data-glyph="74,2" class="t constructor">ImmutableBox</a>(<b>int</b> <span id="r41 rd" class="r41 r">index</span>, <b>object</b> <span id="r42 rd" class="r42 r">defaultValue</span>)
                : <a href="#8e9d9fbe4b8dc6ed" class="k">base</a>(<span class="r41 r">index</span>)
            {
                <a href="#db610bc6c00d0fa9" class="i field">_defaultValue</a> = <span class="r42 r">defaultValue</span>;
            }
 
            <b>public override int</b> <a id="83b2fae68a28c322" href="../../R/83b2fae68a28c322.html" target="n" data-glyph="72,2" class="i method">Run</a>(<a href="InterpretedFrame.cs.html#48cb4583b6a7ca66" class="t t">InterpretedFrame</a> <span id="r43 rd" class="r43 r">frame</span>)
            {
                <span class="r43 r">frame</span>.<a href="InterpretedFrame.cs.html#50fbc06c67e027bf" class="i field">Data</a>[<a href="#7b629adff4f7ae6e" class="i field">_index</a>] = <b>new</b> <span class="i">StrongBox</span>&lt;<b>object</b>&gt;(<a href="#db610bc6c00d0fa9" class="i field">_defaultValue</a>);
                <b>return</b> 1;
            }
 
            <b>public override string</b> <a id="434e2aba83b7df4c" href="../../R/434e2aba83b7df4c.html" target="n" data-glyph="102,2" class="i property">InstructionName</a>
            {
                <b>get</b> { <b>return</b> <span class="s">&quot;InitImmutableBox&quot;</span>; }
            }
        }
 
        <b>internal sealed class</b> <a id="9eb4227bfa299c6a" href="../../R/9eb4227bfa299c6a.html" target="n" data-glyph="2,1" class="t t">ParameterBox</a> : <a href="#82ed69935c0f9659" class="t t">InitializeLocalInstruction</a>
        {
            <b>public</b> <a id="186f9200fd1d2eb5" href="../../R/186f9200fd1d2eb5.html" target="n" data-glyph="72,2" class="t constructor">ParameterBox</a>(<b>int</b> <span id="r44 rd" class="r44 r">index</span>)
                : <a href="#8e9d9fbe4b8dc6ed" class="k">base</a>(<span class="r44 r">index</span>)
            {
            }
 
            <b>public override int</b> <a id="f4e46b1751037eb2" href="../../R/f4e46b1751037eb2.html" target="n" data-glyph="72,2" class="i method">Run</a>(<a href="InterpretedFrame.cs.html#48cb4583b6a7ca66" class="t t">InterpretedFrame</a> <span id="r45 rd" class="r45 r">frame</span>)
            {
                <span class="r45 r">frame</span>.<a href="InterpretedFrame.cs.html#50fbc06c67e027bf" class="i field">Data</a>[<a href="#7b629adff4f7ae6e" class="i field">_index</a>] = <b>new</b> <span class="i">StrongBox</span>&lt;<b>object</b>&gt;(<span class="r45 r">frame</span>.<a href="InterpretedFrame.cs.html#50fbc06c67e027bf" class="i field">Data</a>[<a href="#7b629adff4f7ae6e" class="i field">_index</a>]);
                <b>return</b> 1;
            }
        }
 
        <b>internal sealed class</b> <a id="6e3129d177109d6e" href="../../R/6e3129d177109d6e.html" target="n" data-glyph="2,1" class="t t">Parameter</a> : <a href="#82ed69935c0f9659" class="t t">InitializeLocalInstruction</a>, <a href="#8be99111c966ca51" class="t t">IBoxableInstruction</a>
        {
            <b>internal</b> <a id="178d3c26838887f9" href="../../R/178d3c26838887f9.html" target="n" data-glyph="74,2" class="t constructor">Parameter</a>(<b>int</b> <span id="r46 rd" class="r46 r">index</span>)
                : <a href="#8e9d9fbe4b8dc6ed" class="k">base</a>(<span class="r46 r">index</span>)
            {
            }
 
            <b>public override int</b> <a id="80c90ebdde2418e8" href="../../R/80c90ebdde2418e8.html" target="n" data-glyph="72,2" class="i method">Run</a>(<a href="InterpretedFrame.cs.html#48cb4583b6a7ca66" class="t t">InterpretedFrame</a> <span id="r47 rd" class="r47 r">frame</span>)
            {
                <span class="c">// nop</span>
                <b>return</b> 1;
            }
 
            <b>public</b> <a href="Instruction.cs.html#ae0e6be378b87eaa" class="t t">Instruction</a> <a id="d8a14c3863fd6a61" href="../../R/d8a14c3863fd6a61.html" target="n" data-glyph="72,2" class="i method">BoxIfIndexMatches</a>(<b>int</b> <span id="r48 rd" class="r48 r">index</span>)
            {
                <b>if</b> (<span class="r48 r">index</span> == <a href="#7b629adff4f7ae6e" class="i field">_index</a>)
                {
                    <b>return</b> <a href="InstructionList.cs.html#4bc9256c53a38dc2" class="t t">InstructionList</a>.<a href="InstructionList.cs.html#34e6f103eddfd022" class="i method">ParameterBox</a>(<span class="r48 r">index</span>);
                }
 
                <b>return</b> <b>null</b>;
            }
 
            <b>public override string</b> <a id="8f23769a44125be7" href="../../R/8f23769a44125be7.html" target="n" data-glyph="102,2" class="i property">InstructionName</a>
            {
                <b>get</b> { <b>return</b> <span class="s">&quot;InitParameter&quot;</span>; }
            }
        }
 
        <b>internal sealed class</b> <a id="ead93f858580da67" href="../../R/ead93f858580da67.html" target="n" data-glyph="2,1" class="t t">MutableValue</a> : <a href="#82ed69935c0f9659" class="t t">InitializeLocalInstruction</a>, <a href="#8be99111c966ca51" class="t t">IBoxableInstruction</a>
        {
            <b>private readonly</b> <span class="i">Type</span> <a id="fc005c6ae4d5f76f" href="../../R/fc005c6ae4d5f76f.html" target="n" data-glyph="46,2" class="i field">_type</a>;
 
            <b>internal</b> <a id="75ee99604d637dbe" href="../../R/75ee99604d637dbe.html" target="n" data-glyph="74,2" class="t constructor">MutableValue</a>(<b>int</b> <span id="r49 rd" class="r49 r">index</span>, <span class="i">Type</span> <span id="r50 rd" class="r50 r">type</span>)
                : <a href="#8e9d9fbe4b8dc6ed" class="k">base</a>(<span class="r49 r">index</span>)
            {
                <a href="#fc005c6ae4d5f76f" class="i field">_type</a> = <span class="r50 r">type</span>;
            }
 
            <b>public override int</b> <a id="a8682e1884aac9dd" href="../../R/a8682e1884aac9dd.html" target="n" data-glyph="72,2" class="i method">Run</a>(<a href="InterpretedFrame.cs.html#48cb4583b6a7ca66" class="t t">InterpretedFrame</a> <span id="r51 rd" class="r51 r">frame</span>)
            {
                <b>try</b>
                {
                    <span class="r51 r">frame</span>.<a href="InterpretedFrame.cs.html#50fbc06c67e027bf" class="i field">Data</a>[<a href="#7b629adff4f7ae6e" class="i field">_index</a>] = <span class="i">Activator</span>.<span class="i">CreateInstance</span>(<a href="#fc005c6ae4d5f76f" class="i field">_type</a>);
                }
                <b>catch</b> (<span class="i">TargetInvocationException</span> <span id="r52 rd" class="r52 r">e</span>)
                {
                    <a href="Utilities.cs.html#594c26773322fda8" class="t t">ExceptionHelpers</a>.<span class="i">UpdateForRethrow</span>(<span class="r52 r">e</span>.<span class="i">InnerException</span>);
                    <b>throw</b> <span class="r52 r">e</span>.<span class="i">InnerException</span>;
                }
 
                <b>return</b> 1;
            }
 
            <b>public</b> <a href="Instruction.cs.html#ae0e6be378b87eaa" class="t t">Instruction</a> <a id="4703bac1ef528da2" href="../../R/4703bac1ef528da2.html" target="n" data-glyph="72,2" class="i method">BoxIfIndexMatches</a>(<b>int</b> <span id="r53 rd" class="r53 r">index</span>)
            {
                <b>return</b> (<span class="r53 r">index</span> == <a href="#7b629adff4f7ae6e" class="i field">_index</a>) ? <b>new</b> <a href="#abb583248b46842c" class="t constructor">MutableBox</a>(<span class="r53 r">index</span>, <a href="#fc005c6ae4d5f76f" class="i field">_type</a>) : <b>null</b>;
            }
 
            <b>public override string</b> <a id="390adb4fa1a9700e" href="../../R/390adb4fa1a9700e.html" target="n" data-glyph="102,2" class="i property">InstructionName</a>
            {
                <b>get</b> { <b>return</b> <span class="s">&quot;InitMutableValue&quot;</span>; }
            }
        }
 
        <b>internal sealed class</b> <a id="11b0f28643a1ddcc" href="../../R/11b0f28643a1ddcc.html" target="n" data-glyph="2,1" class="t t">MutableBox</a> : <a href="#82ed69935c0f9659" class="t t">InitializeLocalInstruction</a>
        {
            <b>private readonly</b> <span class="i">Type</span> <a id="954c0c43bd9dc4f6" href="../../R/954c0c43bd9dc4f6.html" target="n" data-glyph="46,2" class="i field">_type</a>;
 
            <b>internal</b> <a id="abb583248b46842c" href="../../R/abb583248b46842c.html" target="n" data-glyph="74,2" class="t constructor">MutableBox</a>(<b>int</b> <span id="r54 rd" class="r54 r">index</span>, <span class="i">Type</span> <span id="r55 rd" class="r55 r">type</span>)
                : <a href="#8e9d9fbe4b8dc6ed" class="k">base</a>(<span class="r54 r">index</span>)
            {
                <a href="#954c0c43bd9dc4f6" class="i field">_type</a> = <span class="r55 r">type</span>;
            }
 
            <b>public override int</b> <a id="f530962c087b078e" href="../../R/f530962c087b078e.html" target="n" data-glyph="72,2" class="i method">Run</a>(<a href="InterpretedFrame.cs.html#48cb4583b6a7ca66" class="t t">InterpretedFrame</a> <span id="r56 rd" class="r56 r">frame</span>)
            {
                <span class="r56 r">frame</span>.<a href="InterpretedFrame.cs.html#50fbc06c67e027bf" class="i field">Data</a>[<a href="#7b629adff4f7ae6e" class="i field">_index</a>] = <b>new</b> <span class="i">StrongBox</span>&lt;<b>object</b>&gt;(<span class="i">Activator</span>.<span class="i">CreateInstance</span>(<a href="#954c0c43bd9dc4f6" class="i field">_type</a>));
                <b>return</b> 1;
            }
 
            <b>public override string</b> <a id="ca40d2cd7350293c" href="../../R/ca40d2cd7350293c.html" target="n" data-glyph="102,2" class="i property">InstructionName</a>
            {
                <b>get</b> { <b>return</b> <span class="s">&quot;InitMutableBox&quot;</span>; }
            }
        }
    }
 
    <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
 
    <span class="k preprocess">#</span><span class="k preprocess">region</span> RuntimeVariables
 
    <b>internal sealed class</b> <a id="510a1dc890661de5" href="../../R/510a1dc890661de5.html" target="n" data-glyph="2,0" class="t t">RuntimeVariablesInstruction</a> : <a href="Instruction.cs.html#ae0e6be378b87eaa" class="t t">Instruction</a>
    {
        <b>private readonly int</b> <a id="af46d16facae2f14" href="../../R/af46d16facae2f14.html" target="n" data-glyph="46,1" class="i field">_count</a>;
 
        <b>public</b> <a id="d34e54a8d4e03508" href="../../R/d34e54a8d4e03508.html" target="n" data-glyph="72,1" class="t constructor">RuntimeVariablesInstruction</a>(<b>int</b> <span id="r57 rd" class="r57 r">count</span>)
        {
            <a href="#af46d16facae2f14" class="i field">_count</a> = <span class="r57 r">count</span>;
        }
 
        <b>public override int</b> <a id="cd62f1a561bcce70" href="../../R/cd62f1a561bcce70.html" target="n" data-glyph="102,1" class="i property">ProducedStack</a> { <b>get</b> { <b>return</b> 1; } }
 
        <b>public override int</b> <a id="1667df25bfa64293" href="../../R/1667df25bfa64293.html" target="n" data-glyph="102,1" class="i property">ConsumedStack</a> { <b>get</b> { <b>return</b> <a href="#af46d16facae2f14" class="i field">_count</a>; } }
 
        <b>public override int</b> <a id="28a38ef09258e583" href="../../R/28a38ef09258e583.html" target="n" data-glyph="72,1" class="i method">Run</a>(<a href="InterpretedFrame.cs.html#48cb4583b6a7ca66" class="t t">InterpretedFrame</a> <span id="r58 rd" class="r58 r">frame</span>)
        {
            <b>var</b> <span id="r59 rd" class="r59 r">ret</span> = <b>new</b> <span class="i">IStrongBox</span>[<a href="#af46d16facae2f14" class="i field">_count</a>];
            <b>for</b> (<b>int</b> <span id="r60 rd" class="r60 r">i</span> = <span class="r59 r">ret</span>.<span class="i">Length</span> - 1; <span class="r60 r">i</span> &gt;= 0; <span class="r60 r">i</span>--)
            {
                <span class="r59 r">ret</span>[<span class="r60 r">i</span>] = (<span class="i">IStrongBox</span>)<span class="r58 r">frame</span>.<a href="InterpretedFrame.cs.html#85e9eceec0019a13" class="i method">Pop</a>();
            }
 
            <span class="r58 r">frame</span>.<span class="i">Push</span>(<a href="RuntimeVariables.cs.html#82ba0bc814d37445" class="t t">RuntimeVariables</a>.<a href="RuntimeVariables.cs.html#b143525a784e84c1" class="i method">Create</a>(<span class="r59 r">ret</span>));
            <b>return</b> +1;
        }
 
        <b>public override string</b> <a id="8a2a9ff721dff5b1" href="../../R/8a2a9ff721dff5b1.html" target="n" data-glyph="72,1" class="i method">ToString</a>()
        {
            <b>return</b> <span class="s">&quot;GetRuntimeVariables()&quot;</span>;
        }
    }
 
    <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
}
</pre></td></tr></table></div></body></html>

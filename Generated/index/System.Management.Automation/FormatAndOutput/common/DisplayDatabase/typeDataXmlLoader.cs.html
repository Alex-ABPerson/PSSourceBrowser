<!DOCTYPE html>
<html><head><title>typeDataXmlLoader.cs</title><link rel="stylesheet" href="../../../../styles.css"><script src="../../../../scripts.js"></script></head>
<body class="cB" onload="i(2237);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#System.Management.Automation/FormatAndOutput/common/DisplayDatabase/typeDataXmlLoader.cs" target="_top">FormatAndOutput\common\DisplayDatabase\typeDataXmlLoader.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#System.Management.Automation" target="_top">src\System.Management.Automation\System.Management.Automation.csproj</a> (System.Management.Automation)</td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation.</span>
<span class="c">// Licensed under the MIT License.</span>
 
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i">Collections</span>.<span class="i">Concurrent</span>;
<b>using</b> <span class="i n">System</span>.<span class="i">Collections</span>.<span class="i">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i">Globalization</span>;
<b>using</b> <span class="i n">System</span>.<span class="i">Xml</span>;
 
<b>using</b> <span class="i n">System</span>.<span class="i n">Management</span>.<span class="i n">Automation</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Management</span>.<span class="i n">Automation</span>.<span class="i n">Host</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Management</span>.<span class="i n">Automation</span>.<span class="i n">Internal</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Management</span>.<span class="i n">Automation</span>.<span class="i n">Security</span>;
<b>using</b> <span class="i n">System</span>.<span class="i">Threading</span>;
 
<b>namespace</b> <span class="i n">Microsoft</span>.<span class="i n">PowerShell</span>.<span class="i n">Commands</span>.<span class="i n">Internal</span>.<span class="i n">Format</span>
{
    <b>internal sealed class</b> <a id="0bb68492e78001d6" href="../../../R/0bb68492e78001d6.html" target="n" data-glyph="2,0" class="t t">XmlFileLoadInfo</a>
    {
        <b>internal</b> <a id="e063e23152ad31f8" href="../../../R/../../0000000000.html" target="n" data-glyph="74,1" class="t constructor">XmlFileLoadInfo</a>() { }
 
        <b>internal</b> <a id="e8471926d28b8e46" href="../../../R/../../0000000000.html" target="n" data-glyph="74,1" class="t constructor">XmlFileLoadInfo</a>(<b>string</b> <span id="r0 rd" class="r0 r">dir</span>, <b>string</b> <span id="r1 rd" class="r1 r">path</span>, <span class="i">ConcurrentBag</span>&lt;<b>string</b>&gt; <span id="r2 rd" class="r2 r">errors</span>, <b>string</b> <span id="r3 rd" class="r3 r">psSnapinName</span>)
        {
            <a href="#a3ef1f9983ac85b4" class="i field">fileDirectory</a> = <span class="r0 r">dir</span>;
            <a href="#14723d5c0f2fecf3" class="i field">filePath</a> = <span class="r1 r">path</span>;
            <a href="#0bb68492e78001d6" class="k">this</a>.<a href="#8ba29eb99d8c40da" class="i field">errors</a> = <span class="r2 r">errors</span>;
            <a href="#0bb68492e78001d6" class="k">this</a>.<a href="#88bd8dcc97f71ef7" class="i field">psSnapinName</a> = <span class="r3 r">psSnapinName</span>;
        }
 
        <b>internal string</b> <a id="a3ef1f9983ac85b4" href="../../../R/a3ef1f9983ac85b4.html" target="n" data-glyph="44,1" class="i field">fileDirectory</a> = <b>null</b>;
        <b>internal string</b> <a id="14723d5c0f2fecf3" href="../../../R/14723d5c0f2fecf3.html" target="n" data-glyph="44,1" class="i field">filePath</a> = <b>null</b>;
        <b>internal</b> <span class="i">ConcurrentBag</span>&lt;<b>string</b>&gt; <a id="8ba29eb99d8c40da" href="../../../R/8ba29eb99d8c40da.html" target="n" data-glyph="44,1" class="i field">errors</a>;
        <b>internal string</b> <a id="88bd8dcc97f71ef7" href="../../../R/88bd8dcc97f71ef7.html" target="n" data-glyph="44,1" class="i field">psSnapinName</a>;
    }
 
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> Class to load the XML document into data structures.</span>
    <span class="c">///</span><span class="c"> It encapsulates the file format specific code.</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <b>internal sealed</b> <a href="../../../P/f7750b48b6924c50.html" target="s" class="k">partial</a> <b>class</b> <a id="f7750b48b6924c50" href="../../../R/f7750b48b6924c50.html" target="n" data-glyph="2,0" class="t t"><span id="a9037c0e1ec063b2">TypeInfoDataBaseLoader</span></a> : <a href="XmlLoaderBase.cs.html#15fe3d47ab0f16d2" class="t t">XmlLoaderBase</a>
    {
        <b>private const string</b> <a id="eae05674851452f1" href="../../../R/../../0000000000.html" target="n" data-glyph="10,1" class="i field">resBaseName</a> = <span class="s">&quot;TypeInfoDataBaseLoaderStrings&quot;</span>;
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> tracer
        [<span class="i">TraceSource</span>(<span class="s">&quot;TypeInfoDataBaseLoader&quot;</span>, <span class="s">&quot;TypeInfoDataBaseLoader&quot;</span>)]
        <b>private static readonly</b> <a href="../../../P/6de812d1f374e1ae.html#6de812d1f374e1ae" class="t t">PSTraceSource</a> <a id="84c6976811ae5102" href="../../../R/../../0000000000.html" target="n" data-glyph="46,1" class="i field">s_tracer</a> = <a href="../../../P/6de812d1f374e1ae.html#6de812d1f374e1ae" class="t t">PSTraceSource</a>.<a href="../../../utils/MshTraceSource.cs.html#697b06ec70e3c537" class="i method">GetTracer</a>(<span class="s">&quot;TypeInfoDataBaseLoader&quot;</span>, <span class="s">&quot;TypeInfoDataBaseLoader&quot;</span>);
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span> tracer
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Table of XML node tags used in the file format.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>private static class</b> <a id="295af00f946a4221" href="../../../R/295af00f946a4221.html" target="n" data-glyph="4,1" class="t t">XmlTags</a>
        {
            <span class="c">// top level entries in the XML document</span>
            <b>internal const string</b> <a id="5f60395131cb5f32" href="../../../R/5f60395131cb5f32.html" target="n" data-glyph="8,2" class="i field">DefaultSettingsNode</a> = <span class="s">&quot;DefaultSettings&quot;</span>;
            <b>internal const string</b> <a id="d115443baa5956ba" href="../../../R/d115443baa5956ba.html" target="n" data-glyph="8,2" class="i field">ConfigurationNode</a> = <span class="s">&quot;Configuration&quot;</span>;
            <b>internal const string</b> <a id="7cef0525baeeaac1" href="../../../R/7cef0525baeeaac1.html" target="n" data-glyph="8,2" class="i field">SelectionSetsNode</a> = <span class="s">&quot;SelectionSets&quot;</span>;
            <b>internal const string</b> <a id="642a9f4680979307" href="../../../R/642a9f4680979307.html" target="n" data-glyph="8,2" class="i field">ViewDefinitionsNode</a> = <span class="s">&quot;ViewDefinitions&quot;</span>;
            <b>internal const string</b> <a id="4200f415dd0037e2" href="../../../R/4200f415dd0037e2.html" target="n" data-glyph="8,2" class="i field">ControlsNode</a> = <span class="s">&quot;Controls&quot;</span>;
 
            <span class="c">// default settings entries</span>
            <b>internal const string</b> <a id="9b21fd85e8ea16a6" href="../../../R/9b21fd85e8ea16a6.html" target="n" data-glyph="8,2" class="i field">MultilineTablesNode</a> = <span class="s">&quot;WrapTables&quot;</span>;
            <b>internal const string</b> <a id="1333364a41746a4b" href="../../../R/1333364a41746a4b.html" target="n" data-glyph="8,2" class="i field">PropertyCountForTableNode</a> = <span class="s">&quot;PropertyCountForTable&quot;</span>;
            <b>internal const string</b> <a id="61f4e632f599e801" href="../../../R/61f4e632f599e801.html" target="n" data-glyph="8,2" class="i field">ShowErrorsAsMessagesNode</a> = <span class="s">&quot;ShowError&quot;</span>;
            <b>internal const string</b> <a id="87b490a02f00b173" href="../../../R/87b490a02f00b173.html" target="n" data-glyph="8,2" class="i field">ShowErrorsInFormattedOutputNode</a> = <span class="s">&quot;DisplayError&quot;</span>;
            <b>internal const string</b> <a id="9cc5287eda2e56ec" href="../../../R/9cc5287eda2e56ec.html" target="n" data-glyph="8,2" class="i field">EnumerableExpansionsNode</a> = <span class="s">&quot;EnumerableExpansions&quot;</span>;
            <b>internal const string</b> <a id="55c48992651b31e5" href="../../../R/55c48992651b31e5.html" target="n" data-glyph="8,2" class="i field">EnumerableExpansionNode</a> = <span class="s">&quot;EnumerableExpansion&quot;</span>;
            <b>internal const string</b> <a id="294b4212142e4b03" href="../../../R/294b4212142e4b03.html" target="n" data-glyph="8,2" class="i field">ExpandNode</a> = <span class="s">&quot;Expand&quot;</span>;
 
            <span class="c">// entries identifying the various control types definitions</span>
            <b>internal const string</b> <a id="1165d7634ae84a4a" href="../../../R/1165d7634ae84a4a.html" target="n" data-glyph="8,2" class="i field">ControlNode</a> = <span class="s">&quot;Control&quot;</span>;
            <b>internal const string</b> <a id="422e040b0fccfe96" href="../../../R/422e040b0fccfe96.html" target="n" data-glyph="8,2" class="i field">ComplexControlNameNode</a> = <span class="s">&quot;CustomControlName&quot;</span>;
 
            <span class="c">// selection sets (a.k.a. Type Groups)</span>
            <b>internal const string</b> <a id="c0eec50063844067" href="../../../R/c0eec50063844067.html" target="n" data-glyph="8,2" class="i field">SelectionSetNode</a> = <span class="s">&quot;SelectionSet&quot;</span>;
            <b>internal const string</b> <a id="0bd82d59b88aa36d" href="../../../R/0bd82d59b88aa36d.html" target="n" data-glyph="8,2" class="i field">SelectionSetNameNode</a> = <span class="s">&quot;SelectionSetName&quot;</span>;
            <b>internal const string</b> <a id="190b6a1eb65d8657" href="../../../R/190b6a1eb65d8657.html" target="n" data-glyph="8,2" class="i field">SelectionConditionNode</a> = <span class="s">&quot;SelectionCondition&quot;</span>;
            <b>internal const string</b> <a id="c263f844ba0b5084" href="../../../R/c263f844ba0b5084.html" target="n" data-glyph="8,2" class="i field">NameNode</a> = <span class="s">&quot;Name&quot;</span>;
            <b>internal const string</b> <a id="c619c499346fc4c6" href="../../../R/c619c499346fc4c6.html" target="n" data-glyph="8,2" class="i field">TypesNode</a> = <span class="s">&quot;Types&quot;</span>;
            <b>internal const string</b> <a id="11b2946b532385b9" href="../../../R/11b2946b532385b9.html" target="n" data-glyph="8,2" class="i field">TypeNameNode</a> = <span class="s">&quot;TypeName&quot;</span>;
 
            <b>internal const string</b> <a id="72975678e966f256" href="../../../R/72975678e966f256.html" target="n" data-glyph="8,2" class="i field">ViewNode</a> = <span class="s">&quot;View&quot;</span>;
 
            <span class="c">// entries identifying the various control types</span>
            <b>internal const string</b> <a id="5fa03bffceb1f535" href="../../../R/5fa03bffceb1f535.html" target="n" data-glyph="8,2" class="i field">TableControlNode</a> = <span class="s">&quot;TableControl&quot;</span>;
            <b>internal const string</b> <a id="be89ff5100e5ecad" href="../../../R/be89ff5100e5ecad.html" target="n" data-glyph="8,2" class="i field">ListControlNode</a> = <span class="s">&quot;ListControl&quot;</span>;
            <b>internal const string</b> <a id="6e2dd8d85c7976d1" href="../../../R/6e2dd8d85c7976d1.html" target="n" data-glyph="8,2" class="i field">WideControlNode</a> = <span class="s">&quot;WideControl&quot;</span>;
            <b>internal const string</b> <a id="6f16b1bc4b00bed7" href="../../../R/6f16b1bc4b00bed7.html" target="n" data-glyph="8,2" class="i field">ComplexControlNode</a> = <span class="s">&quot;CustomControl&quot;</span>;
            <b>internal const string</b> <a id="a3fa6df653861805" href="../../../R/a3fa6df653861805.html" target="n" data-glyph="8,2" class="i field">FieldControlNode</a> = <span class="s">&quot;FieldControl&quot;</span>;
 
            <span class="c">// view specific tags</span>
            <b>internal const string</b> <a id="d4951df81416e213" href="../../../R/d4951df81416e213.html" target="n" data-glyph="8,2" class="i field">ViewSelectedByNode</a> = <span class="s">&quot;ViewSelectedBy&quot;</span>;
            <b>internal const string</b> <a id="e6a7a7d2b3b9563b" href="../../../R/e6a7a7d2b3b9563b.html" target="n" data-glyph="8,2" class="i field">GroupByNode</a> = <span class="s">&quot;GroupBy&quot;</span>;
            <b>internal const string</b> <a id="a9a019fd650511ab" href="../../../R/a9a019fd650511ab.html" target="n" data-glyph="8,2" class="i field">OutOfBandNode</a> = <span class="s">&quot;OutOfBand&quot;</span>;
 
            <span class="c">// table specific tags</span>
            <b>internal const string</b> <a id="00b93809f7a3d86f" href="../../../R/00b93809f7a3d86f.html" target="n" data-glyph="8,2" class="i field">HideTableHeadersNode</a> = <span class="s">&quot;HideTableHeaders&quot;</span>;
            <b>internal const string</b> <a id="c4bb1512e32bbd89" href="../../../R/c4bb1512e32bbd89.html" target="n" data-glyph="8,2" class="i field">TableHeadersNode</a> = <span class="s">&quot;TableHeaders&quot;</span>;
            <b>internal const string</b> <a id="bf6a863631317dcc" href="../../../R/bf6a863631317dcc.html" target="n" data-glyph="8,2" class="i field">TableColumnHeaderNode</a> = <span class="s">&quot;TableColumnHeader&quot;</span>;
 
            <b>internal const string</b> <a id="9b7c34184dd196c0" href="../../../R/9b7c34184dd196c0.html" target="n" data-glyph="8,2" class="i field">TableRowEntriesNode</a> = <span class="s">&quot;TableRowEntries&quot;</span>;
            <b>internal const string</b> <a id="b78ae7695945f4f9" href="../../../R/b78ae7695945f4f9.html" target="n" data-glyph="8,2" class="i field">TableRowEntryNode</a> = <span class="s">&quot;TableRowEntry&quot;</span>;
            <b>internal const string</b> <a id="f0d548d768730ff2" href="../../../R/f0d548d768730ff2.html" target="n" data-glyph="8,2" class="i field">MultiLineNode</a> = <span class="s">&quot;Wrap&quot;</span>;
            <b>internal const string</b> <a id="f70607491fc77cf0" href="../../../R/f70607491fc77cf0.html" target="n" data-glyph="8,2" class="i field">TableColumnItemsNode</a> = <span class="s">&quot;TableColumnItems&quot;</span>;
            <b>internal const string</b> <a id="7897178cb095851e" href="../../../R/7897178cb095851e.html" target="n" data-glyph="8,2" class="i field">TableColumnItemNode</a> = <span class="s">&quot;TableColumnItem&quot;</span>;
            <b>internal const string</b> <a id="abcdd43a95d64e42" href="../../../R/abcdd43a95d64e42.html" target="n" data-glyph="8,2" class="i field">WidthNode</a> = <span class="s">&quot;Width&quot;</span>;
 
            <span class="c">// list specific tags</span>
            <b>internal const string</b> <a id="6237316f5f8f006b" href="../../../R/6237316f5f8f006b.html" target="n" data-glyph="8,2" class="i field">ListEntriesNode</a> = <span class="s">&quot;ListEntries&quot;</span>;
            <b>internal const string</b> <a id="d64903b383c88a83" href="../../../R/d64903b383c88a83.html" target="n" data-glyph="8,2" class="i field">ListEntryNode</a> = <span class="s">&quot;ListEntry&quot;</span>;
            <b>internal const string</b> <a id="db11fd72cc5b6749" href="../../../R/db11fd72cc5b6749.html" target="n" data-glyph="8,2" class="i field">ListItemsNode</a> = <span class="s">&quot;ListItems&quot;</span>;
            <b>internal const string</b> <a id="626181e425d8356d" href="../../../R/626181e425d8356d.html" target="n" data-glyph="8,2" class="i field">ListItemNode</a> = <span class="s">&quot;ListItem&quot;</span>;
 
            <span class="c">// wide specific tags</span>
            <b>internal const string</b> <a id="b3a1db45cb4c8fbb" href="../../../R/b3a1db45cb4c8fbb.html" target="n" data-glyph="8,2" class="i field">ColumnNumberNode</a> = <span class="s">&quot;ColumnNumber&quot;</span>;
            <b>internal const string</b> <a id="f3d41e4e817c19d2" href="../../../R/f3d41e4e817c19d2.html" target="n" data-glyph="8,2" class="i field">WideEntriesNode</a> = <span class="s">&quot;WideEntries&quot;</span>;
            <b>internal const string</b> <a id="f3f4c94e806cd702" href="../../../R/f3f4c94e806cd702.html" target="n" data-glyph="8,2" class="i field">WideEntryNode</a> = <span class="s">&quot;WideEntry&quot;</span>;
            <b>internal const string</b> <a id="3aec0e1b13bbf550" href="../../../R/3aec0e1b13bbf550.html" target="n" data-glyph="8,2" class="i field">WideItemNode</a> = <span class="s">&quot;WideItem&quot;</span>;
 
            <span class="c">// complex specific tags</span>
            <b>internal const string</b> <a id="8c7861368e5a6bdf" href="../../../R/8c7861368e5a6bdf.html" target="n" data-glyph="8,2" class="i field">ComplexEntriesNode</a> = <span class="s">&quot;CustomEntries&quot;</span>;
            <b>internal const string</b> <a id="cffb70caf360ab84" href="../../../R/cffb70caf360ab84.html" target="n" data-glyph="8,2" class="i field">ComplexEntryNode</a> = <span class="s">&quot;CustomEntry&quot;</span>;
            <b>internal const string</b> <a id="7020f0ac6e6069a3" href="../../../R/7020f0ac6e6069a3.html" target="n" data-glyph="8,2" class="i field">ComplexItemNode</a> = <span class="s">&quot;CustomItem&quot;</span>;
 
            <b>internal const string</b> <a id="ee2922bfed88d578" href="../../../R/ee2922bfed88d578.html" target="n" data-glyph="8,2" class="i field">ExpressionBindingNode</a> = <span class="s">&quot;ExpressionBinding&quot;</span>;
            <b>internal const string</b> <a id="57be32177d6238b6" href="../../../R/57be32177d6238b6.html" target="n" data-glyph="8,2" class="i field">NewLineNode</a> = <span class="s">&quot;NewLine&quot;</span>;
            <b>internal const string</b> <a id="a29dd56afb350d6d" href="../../../R/a29dd56afb350d6d.html" target="n" data-glyph="8,2" class="i field">TextNode</a> = <span class="s">&quot;Text&quot;</span>;
            <b>internal const string</b> <a id="0251bdc69245e99b" href="../../../R/0251bdc69245e99b.html" target="n" data-glyph="8,2" class="i field">FrameNode</a> = <span class="s">&quot;Frame&quot;</span>;
            <b>internal const string</b> <a id="12201e954b435f1b" href="../../../R/12201e954b435f1b.html" target="n" data-glyph="8,2" class="i field">LeftIndentNode</a> = <span class="s">&quot;LeftIndent&quot;</span>;
            <b>internal const string</b> <a id="230296deee33abd6" href="../../../R/230296deee33abd6.html" target="n" data-glyph="8,2" class="i field">RightIndentNode</a> = <span class="s">&quot;RightIndent&quot;</span>;
            <b>internal const string</b> <a id="b127332de49010d7" href="../../../R/b127332de49010d7.html" target="n" data-glyph="8,2" class="i field">FirstLineIndentNode</a> = <span class="s">&quot;FirstLineIndent&quot;</span>;
            <b>internal const string</b> <a id="975f635028a431fc" href="../../../R/975f635028a431fc.html" target="n" data-glyph="8,2" class="i field">FirstLineHangingNode</a> = <span class="s">&quot;FirstLineHanging&quot;</span>;
 
            <b>internal const string</b> <a id="f0064010d0c7c645" href="../../../R/f0064010d0c7c645.html" target="n" data-glyph="8,2" class="i field">EnumerateCollectionNode</a> = <span class="s">&quot;EnumerateCollection&quot;</span>;
 
            <span class="c">// general purpose tags</span>
            <b>internal const string</b> <a id="7a750a96a0bc877e" href="../../../R/7a750a96a0bc877e.html" target="n" data-glyph="8,2" class="i field">AutoSizeNode</a> = <span class="s">&quot;AutoSize&quot;</span>; <span class="c">// valid only for table and wide</span>
            <b>internal const string</b> <a id="98ac522ad3f99bab" href="../../../R/98ac522ad3f99bab.html" target="n" data-glyph="8,2" class="i field">AlignmentNode</a> = <span class="s">&quot;Alignment&quot;</span>;
            <b>internal const string</b> <a id="45cc29f50f75a4ef" href="../../../R/45cc29f50f75a4ef.html" target="n" data-glyph="8,2" class="i field">PropertyNameNode</a> = <span class="s">&quot;PropertyName&quot;</span>;
            <b>internal const string</b> <a id="b0d88ea1df7f4454" href="../../../R/b0d88ea1df7f4454.html" target="n" data-glyph="8,2" class="i field">ScriptBlockNode</a> = <span class="s">&quot;ScriptBlock&quot;</span>;
            <b>internal const string</b> <a id="77acbdc1748a42b0" href="../../../R/77acbdc1748a42b0.html" target="n" data-glyph="8,2" class="i field">FormatStringNode</a> = <span class="s">&quot;FormatString&quot;</span>;
            <b>internal const string</b> <a id="f49af2befec332f6" href="../../../R/f49af2befec332f6.html" target="n" data-glyph="8,2" class="i field">LabelNode</a> = <span class="s">&quot;Label&quot;</span>;
 
            <b>internal const string</b> <a id="81993d0a9838789a" href="../../../R/81993d0a9838789a.html" target="n" data-glyph="8,2" class="i field">EntrySelectedByNode</a> = <span class="s">&quot;EntrySelectedBy&quot;</span>;
            <b>internal const string</b> <a id="40b45df55ac32278" href="../../../R/40b45df55ac32278.html" target="n" data-glyph="8,2" class="i field">ItemSelectionConditionNode</a> = <span class="s">&quot;ItemSelectionCondition&quot;</span>;
 
            <span class="c">// attribute tags for resource strings</span>
            <b>internal const string</b> <a id="8286dd07c3503d19" href="../../../R/8286dd07c3503d19.html" target="n" data-glyph="8,2" class="i field">AssemblyNameAttribute</a> = <span class="s">&quot;AssemblyName&quot;</span>;
            <b>internal const string</b> <a id="d4efb0837f42a681" href="../../../R/d4efb0837f42a681.html" target="n" data-glyph="8,2" class="i field">BaseNameAttribute</a> = <span class="s">&quot;BaseName&quot;</span>;
            <b>internal const string</b> <a id="9e3fb3f7b5b39ebb" href="../../../R/9e3fb3f7b5b39ebb.html" target="n" data-glyph="8,2" class="i field">ResourceIdAttribute</a> = <span class="s">&quot;ResourceId&quot;</span>;
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Table of miscellanea string constant values for XML nodes.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>private static class</b> <a id="831cc0c7876c2da4" href="../../../R/831cc0c7876c2da4.html" target="n" data-glyph="4,1" class="t t">XMLStringValues</a>
        {
            <b>internal const string</b> <a id="02b0b011822b9887" href="../../../R/02b0b011822b9887.html" target="n" data-glyph="8,2" class="i field">True</a> = <span class="s">&quot;TRUE&quot;</span>;
            <b>internal const string</b> <a id="ca09b9597531c23d" href="../../../R/ca09b9597531c23d.html" target="n" data-glyph="8,2" class="i field">False</a> = <span class="s">&quot;FALSE&quot;</span>;
 
            <b>internal const string</b> <a id="0a1ebd15965e7d48" href="../../../R/0a1ebd15965e7d48.html" target="n" data-glyph="8,2" class="i field">AlignmentLeft</a> = <span class="s">&quot;left&quot;</span>;
            <b>internal const string</b> <a id="26ccd9594d49fff3" href="../../../R/26ccd9594d49fff3.html" target="n" data-glyph="8,2" class="i field">AlignmentCenter</a> = <span class="s">&quot;center&quot;</span>;
            <b>internal const string</b> <a id="387ad75a6155ae48" href="../../../R/387ad75a6155ae48.html" target="n" data-glyph="8,2" class="i field">AlignmentRight</a> = <span class="s">&quot;right&quot;</span>;
        }
 
        <span class="c">// Flag that determines whether validation should be suppressed while</span>
        <span class="c">// processing pre-validated type / formatting information.</span>
        <b>private bool</b> <a id="bd346651f1fd9ee0" href="../../../R/bd346651f1fd9ee0.html" target="n" data-glyph="46,1" class="i field">_suppressValidation</a> = <b>false</b>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Entry point for the loader algorithm.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r4 r">info</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Information needed to load the file.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r5 r">db</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Database instance to load the file into.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r6 r">expressionFactory</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Expression factory to validate script blocks.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r7 r">authorizationManager</span><span class="c">&quot;</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Authorization manager to perform signature checks before reading ps1xml files (or null of no checks are needed)</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r8 r">host</span><span class="c">&quot;</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Host passed to </span><span class="c">&lt;</span><span class="c">paramref</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r7 r">authorizationManager</span><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.  Can be null if no interactive questions should be asked.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r9 r">preValidated</span><span class="c">&quot;</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> True if the format data has been pre-validated (build time, manual testing, etc) so that validation can be</span>
        <span class="c">///</span><span class="c"> skipped at runtime.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">True if successful.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>internal bool</b> <a id="cd24475f96b06f9e" href="../../../R/cd24475f96b06f9e.html" target="n" data-glyph="74,1" class="i method">LoadXmlFile</a>(
            <a href="#0bb68492e78001d6" class="t t">XmlFileLoadInfo</a> <span id="r4 rd" class="r4 r">info</span>,
            <a href="../../../P/e64c182db20ea05c.html#e64c182db20ea05c" class="t t">TypeInfoDataBase</a> <span id="r5 rd" class="r5 r">db</span>,
            <a href="../Utilities/MshObjectUtil.cs.html#ac8b562fd83d9f0f" class="t t">PSPropertyExpressionFactory</a> <span id="r6 rd" class="r6 r">expressionFactory</span>,
            <a href="../../../engine/SecurityManagerBase.cs.html#971c00f0dacd0dc9" class="t t">AuthorizationManager</a> <span id="r7 rd" class="r7 r">authorizationManager</span>,
            <a href="../../../engine/hostifaces/MshHost.cs.html#7b79cd90e035740e" class="t t">PSHost</a> <span id="r8 rd" class="r8 r">host</span>,
            <b>bool</b> <span id="r9 rd" class="r9 r">preValidated</span>)
        {
            <b>if</b> (<span class="r4 r">info</span> == <b>null</b>)
                <b>throw</b> <a href="../../../P/6de812d1f374e1ae.html#6de812d1f374e1ae" class="t t">PSTraceSource</a>.<a href="../../../utils/MshTraceSource.cs.html#fbe67220ad7522a0" class="i method">NewArgumentNullException</a>(<b>nameof</b>(<span class="r4 r">info</span>));
 
            <b>if</b> (<span class="r4 r">info</span>.<a href="#14723d5c0f2fecf3" class="i field">filePath</a> == <b>null</b>)
                <b>throw</b> <a href="../../../P/6de812d1f374e1ae.html#6de812d1f374e1ae" class="t t">PSTraceSource</a>.<a href="../../../utils/MshTraceSource.cs.html#fbe67220ad7522a0" class="i method">NewArgumentNullException</a>(<span class="s">&quot;info.filePath&quot;</span>);
 
            <b>if</b> (<span class="r5 r">db</span> == <b>null</b>)
                <b>throw</b> <a href="../../../P/6de812d1f374e1ae.html#6de812d1f374e1ae" class="t t">PSTraceSource</a>.<a href="../../../utils/MshTraceSource.cs.html#fbe67220ad7522a0" class="i method">NewArgumentNullException</a>(<b>nameof</b>(<span class="r5 r">db</span>));
 
            <b>if</b> (<span class="r6 r">expressionFactory</span> == <b>null</b>)
                <b>throw</b> <a href="../../../P/6de812d1f374e1ae.html#6de812d1f374e1ae" class="t t">PSTraceSource</a>.<a href="../../../utils/MshTraceSource.cs.html#fbe67220ad7522a0" class="i method">NewArgumentNullException</a>(<b>nameof</b>(<span class="r6 r">expressionFactory</span>));
 
            <b>if</b> (<a href="../../../security/SecuritySupport.cs.html#5c234bd2337db61c" class="t t">SecuritySupport</a>.<a href="../../../security/SecuritySupport.cs.html#ce590ce9a9baa6b9" class="i method">IsProductBinary</a>(<span class="r4 r">info</span>.<a href="#14723d5c0f2fecf3" class="i field">filePath</a>))
            {
                <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#4b0c909095960b9e" class="i method">SetLoadingInfoIsProductCode</a>(<b>true</b>);
            }
 
            <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#e9cf356a3e6732d9" class="i field">displayResourceManagerCache</a> = <span class="r5 r">db</span>.<a href="displayDescriptionData.cs.html#e0a60407d1f4cd87" class="i field">displayResourceManagerCache</a>;
 
            <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#34cbdfcab9d0f1ed" class="i field">expressionFactory</a> = <span class="r6 r">expressionFactory</span>;
            <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#81474498314d3c54" class="i method">SetDatabaseLoadingInfo</a>(<span class="r4 r">info</span>);
            <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#088223c5b2c4ade1" class="i method">ReportTrace</a>(<span class="s">&quot;loading file started&quot;</span>);
 
            <span class="c">// load file into XML document</span>
            <span class="i">XmlDocument</span> <span id="r10 rd" class="r10 r">newDocument</span> = <b>null</b>;
            <b>bool</b> <span id="r11 rd" class="r11 r">isFullyTrusted</span> = <b>false</b>;
 
            <span class="r10 r">newDocument</span> = <a href="XmlLoaderBase.cs.html#d4c23811abb5e045" class="i method">LoadXmlDocumentFromFileLoadingInfo</a>(<span class="r7 r">authorizationManager</span>, <span class="r8 r">host</span>, <b>out</b> <span class="r11 r">isFullyTrusted</span>);
 
            <span class="c">// If we&#39;re not in a locked-down environment, types and formatting are allowed based just on the authorization</span>
            <span class="c">// manager. If we are in a locked-down environment, additionally check the system policy.</span>
            <b>if</b> (<a href="../../../security/wldpNativeMethods.cs.html#6b51558a7a8cde26" class="t t">SystemPolicy</a>.<a href="../../../security/wldpNativeMethods.cs.html#2c0da8883146dab2" class="i method">GetSystemLockdownPolicy</a>() == <a href="../../../security/wldpNativeMethods.cs.html#9f0915f7b351778e" class="t t">SystemEnforcementMode</a>.<a href="../../../security/wldpNativeMethods.cs.html#5d74206001d0b817" class="i field">Enforce</a>)
            {
                <a href="XmlLoaderBase.cs.html#5a2bd43d33ebdfec" class="i method">SetLoadingInfoIsFullyTrusted</a>(<span class="r11 r">isFullyTrusted</span>);
            }
 
            <b>if</b> (<span class="r10 r">newDocument</span> == <b>null</b>)
            {
                <b>return</b> <b>false</b>;
            }
 
            <span class="c">// load the XML document into a copy of the</span>
            <span class="c">// in memory database</span>
            <b>bool</b> <span id="r12 rd" class="r12 r">previousSuppressValidation</span> = <a href="#bd346651f1fd9ee0" class="i field">_suppressValidation</a>;
            <b>try</b>
            {
                <a href="#bd346651f1fd9ee0" class="i field">_suppressValidation</a> = <span class="r9 r">preValidated</span>;
 
                <b>try</b>
                {
                    <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="#280a11c1979104e6" class="i method">LoadData</a>(<span class="r10 r">newDocument</span>, <span class="r5 r">db</span>);
                }
                <b>catch</b> (<a href="XmlLoaderBase.cs.html#b7fd570092248af0" class="t t">TooManyErrorsException</a>)
                {
                    <span class="c">// already logged an error before throwing</span>
                    <b>return</b> <b>false</b>;
                }
                <b>catch</b> (<span class="i">Exception</span> <span id="r13 rd" class="r13 r">e</span>) <span class="c">// will rethrow</span>
                {
                    <span class="c">// Error in file {0}: {1}</span>
 
                    <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#db3c8d17c0ceaeb5" class="i method">ReportError</a>(<a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">ErrorInFile</span>, <a href="XmlLoaderBase.cs.html#6b0418522d2dfb04" class="i property">FilePath</a>, <span class="r13 r">e</span>.<span class="i">Message</span>));
                    <b>throw</b>;
                }
 
                <b>if</b> (<a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#e95c8edc036f44a1" class="i property">HasErrors</a>)
                {
                    <b>return</b> <b>false</b>;
                }
            }
            <b>finally</b>
            {
                <a href="#bd346651f1fd9ee0" class="i field">_suppressValidation</a> = <span class="r12 r">previousSuppressValidation</span>;
            }
 
            <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#088223c5b2c4ade1" class="i method">ReportTrace</a>(<span class="s">&quot;file loaded with no errors&quot;</span>);
            <b>return</b> <b>true</b>;
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Entry point for the loader algorithm to load formatting data from ExtendedTypeDefinition.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r14 r">typeDefinition</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The ExtendedTypeDefinition instance to load formatting data from.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r15 r">db</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Database instance to load the formatting data into.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r16 r">expressionFactory</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Expression factory to validate the script block.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r17 r">isBuiltInFormatData</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Do we implicitly trust the script blocks (so they should run in full langauge mode)?</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r18 r">isForHelp</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">True when the view is for help output.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>internal bool</b> <a id="16db4737db1a1a7b" href="../../../R/16db4737db1a1a7b.html" target="n" data-glyph="74,1" class="i method">LoadFormattingData</a>(
            <a href="displayDescriptionData.cs.html#f507ec3cc270989a" class="t t">ExtendedTypeDefinition</a> <span id="r14 rd" class="r14 r">typeDefinition</span>,
            <a href="../../../P/e64c182db20ea05c.html#e64c182db20ea05c" class="t t">TypeInfoDataBase</a> <span id="r15 rd" class="r15 r">db</span>,
            <a href="../Utilities/MshObjectUtil.cs.html#ac8b562fd83d9f0f" class="t t">PSPropertyExpressionFactory</a> <span id="r16 rd" class="r16 r">expressionFactory</span>,
            <b>bool</b> <span id="r17 rd" class="r17 r">isBuiltInFormatData</span>,
            <b>bool</b> <span id="r18 rd" class="r18 r">isForHelp</span>)
        {
            <b>if</b> (<span class="r14 r">typeDefinition</span> == <b>null</b>)
                <b>throw</b> <a href="../../../P/6de812d1f374e1ae.html#6de812d1f374e1ae" class="t t">PSTraceSource</a>.<a href="../../../utils/MshTraceSource.cs.html#fbe67220ad7522a0" class="i method">NewArgumentNullException</a>(<b>nameof</b>(<span class="r14 r">typeDefinition</span>));
            <b>if</b> (<span class="r14 r">typeDefinition</span>.<a href="displayDescriptionData.cs.html#b53d31d7e7755c4f" class="i property">TypeName</a> == <b>null</b>)
                <b>throw</b> <a href="../../../P/6de812d1f374e1ae.html#6de812d1f374e1ae" class="t t">PSTraceSource</a>.<a href="../../../utils/MshTraceSource.cs.html#fbe67220ad7522a0" class="i method">NewArgumentNullException</a>(<span class="s">&quot;typeDefinition.TypeName&quot;</span>);
            <b>if</b> (<span class="r15 r">db</span> == <b>null</b>)
                <b>throw</b> <a href="../../../P/6de812d1f374e1ae.html#6de812d1f374e1ae" class="t t">PSTraceSource</a>.<a href="../../../utils/MshTraceSource.cs.html#fbe67220ad7522a0" class="i method">NewArgumentNullException</a>(<b>nameof</b>(<span class="r15 r">db</span>));
            <b>if</b> (<span class="r16 r">expressionFactory</span> == <b>null</b>)
                <b>throw</b> <a href="../../../P/6de812d1f374e1ae.html#6de812d1f374e1ae" class="t t">PSTraceSource</a>.<a href="../../../utils/MshTraceSource.cs.html#fbe67220ad7522a0" class="i method">NewArgumentNullException</a>(<b>nameof</b>(<span class="r16 r">expressionFactory</span>));
 
            <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#34cbdfcab9d0f1ed" class="i field">expressionFactory</a> = <span class="r16 r">expressionFactory</span>;
            <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#088223c5b2c4ade1" class="i method">ReportTrace</a>(<span class="s">&quot;loading ExtendedTypeDefinition started&quot;</span>);
 
            <b>try</b>
            {
                <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#5a2bd43d33ebdfec" class="i method">SetLoadingInfoIsFullyTrusted</a>(<span class="r17 r">isBuiltInFormatData</span>);
                <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#4b0c909095960b9e" class="i method">SetLoadingInfoIsProductCode</a>(<span class="r17 r">isBuiltInFormatData</span>);
                <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="#76a7a79fd78e39cb" class="i method">LoadData</a>(<span class="r14 r">typeDefinition</span>, <span class="r15 r">db</span>, <span class="r18 r">isForHelp</span>);
            }
            <b>catch</b> (<a href="XmlLoaderBase.cs.html#b7fd570092248af0" class="t t">TooManyErrorsException</a>)
            {
                <span class="c">// already logged an error before throwing</span>
                <b>return</b> <b>false</b>;
            }
            <b>catch</b> (<span class="i">Exception</span> <span id="r19 rd" class="r19 r">e</span>) <span class="c">// will rethrow</span>
            {
                <span class="c">// Error in formatting data &quot;{0}&quot;: {1}</span>
 
                <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#5109b6e3de4bb1b1" class="i method">ReportErrorForLoadingFromObjectModel</a>(
                    <a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">ErrorInFormattingData</span>, <span class="r14 r">typeDefinition</span>.<a href="displayDescriptionData.cs.html#b53d31d7e7755c4f" class="i property">TypeName</a>, <span class="r19 r">e</span>.<span class="i">Message</span>), <span class="r14 r">typeDefinition</span>.<a href="displayDescriptionData.cs.html#b53d31d7e7755c4f" class="i property">TypeName</a>);
                <b>throw</b>;
            }
 
            <b>if</b> (<a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#e95c8edc036f44a1" class="i property">HasErrors</a>)
            {
                <b>return</b> <b>false</b>;
            }
 
            <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#088223c5b2c4ade1" class="i method">ReportTrace</a>(<span class="s">&quot;ExtendedTypeDefinition loaded with no errors&quot;</span>);
            <b>return</b> <b>true</b>;
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Load the content of the XML document into the data instance.</span>
        <span class="c">///</span><span class="c"> It assumes that the XML document has been successfully loaded.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r20 r">doc</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">XML document to load from, cannot be null.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r21 r">db</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Instance of the databaseto load into.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <b>private void</b> <a id="280a11c1979104e6" href="../../../R/280a11c1979104e6.html" target="n" data-glyph="76,1" class="i method">LoadData</a>(<span class="i">XmlDocument</span> <span id="r20 rd" class="r20 r">doc</span>, <a href="../../../P/e64c182db20ea05c.html#e64c182db20ea05c" class="t t">TypeInfoDataBase</a> <span id="r21 rd" class="r21 r">db</span>)
        {
            <b>if</b> (<span class="r20 r">doc</span> == <b>null</b>)
                <b>throw</b> <a href="../../../P/6de812d1f374e1ae.html#6de812d1f374e1ae" class="t t">PSTraceSource</a>.<a href="../../../utils/MshTraceSource.cs.html#fbe67220ad7522a0" class="i method">NewArgumentNullException</a>(<b>nameof</b>(<span class="r20 r">doc</span>));
 
            <b>if</b> (<span class="r21 r">db</span> == <b>null</b>)
                <b>throw</b> <a href="../../../P/6de812d1f374e1ae.html#6de812d1f374e1ae" class="t t">PSTraceSource</a>.<a href="../../../utils/MshTraceSource.cs.html#fbe67220ad7522a0" class="i method">NewArgumentNullException</a>(<b>nameof</b>(<span class="r21 r">db</span>));
 
            <span class="c">// create a new instance of the database to be loaded</span>
            <span class="i">XmlElement</span> <span id="r22 rd" class="r22 r">documentElement</span> = <span class="r20 r">doc</span>.<span class="i">DocumentElement</span>;
 
            <b>bool</b> <span id="r23 rd" class="r23 r">defaultSettingsNodeFound</span> = <b>false</b>;
            <b>bool</b> <span id="r24 rd" class="r24 r">typeGroupsFound</span> = <b>false</b>;
            <b>bool</b> <span id="r25 rd" class="r25 r">viewDefinitionsFound</span> = <b>false</b>;
            <b>bool</b> <span id="r26 rd" class="r26 r">controlDefinitionsFound</span> = <b>false</b>;
 
            <b>if</b> (<span class="i">MatchNodeNameWithAttributes</span>(<span class="r22 r">documentElement</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#d115443baa5956ba" class="i field">ConfigurationNode</a>))
            {
                <span class="c">// load the various sections</span>
                <b>using</b> (<a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<span class="i">StackFrame</span>(<span class="r22 r">documentElement</span>))
                {
                    <b>foreach</b> (<span class="i">XmlNode</span> <span id="r27 rd" class="r27 r">n</span> <b>in</b> <span class="r22 r">documentElement</span>.<span class="i">ChildNodes</span>)
                    {
                        <b>if</b> (<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r27 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#5f60395131cb5f32" class="i field">DefaultSettingsNode</a>))
                        {
                            <b>if</b> (<span class="r23 r">defaultSettingsNodeFound</span>)
                            {
                                <a href="XmlLoaderBase.cs.html#92faf1fee4b3e75a" class="i method">ProcessDuplicateNode</a>(<span class="r27 r">n</span>);
                            }
                            <span class="r23 r">defaultSettingsNodeFound</span> = <b>true</b>;
                            <a href="#c9e2471b55fcc312" class="i method">LoadDefaultSettings</a>(<span class="r21 r">db</span>, <span class="r27 r">n</span>);
                        }
                        <b>else</b> <b>if</b> (<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r27 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#7cef0525baeeaac1" class="i field">SelectionSetsNode</a>))
                        {
                            <b>if</b> (<span class="r24 r">typeGroupsFound</span>)
                            {
                                <a href="XmlLoaderBase.cs.html#92faf1fee4b3e75a" class="i method">ProcessDuplicateNode</a>(<span class="r27 r">n</span>);
                            }
 
                            <span class="r24 r">typeGroupsFound</span> = <b>true</b>;
                            <a href="#dd820c849a88ad25" class="i method">LoadTypeGroups</a>(<span class="r21 r">db</span>, <span class="r27 r">n</span>);
                        }
                        <b>else</b> <b>if</b> (<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r27 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#642a9f4680979307" class="i field">ViewDefinitionsNode</a>))
                        {
                            <b>if</b> (<span class="r25 r">viewDefinitionsFound</span>)
                            {
                                <a href="XmlLoaderBase.cs.html#92faf1fee4b3e75a" class="i method">ProcessDuplicateNode</a>(<span class="r27 r">n</span>);
                            }
 
                            <span class="r25 r">viewDefinitionsFound</span> = <b>true</b>;
                            <a href="typeDataXmlLoader_Views.cs.html#7e50ae59043c400a" class="i method">LoadViewDefinitions</a>(<span class="r21 r">db</span>, <span class="r27 r">n</span>);
                        }
                        <b>else</b> <b>if</b> (<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r27 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#4200f415dd0037e2" class="i field">ControlsNode</a>))
                        {
                            <b>if</b> (<span class="r26 r">controlDefinitionsFound</span>)
                            {
                                <a href="XmlLoaderBase.cs.html#92faf1fee4b3e75a" class="i method">ProcessDuplicateNode</a>(<span class="r27 r">n</span>);
                            }
 
                            <span class="r26 r">controlDefinitionsFound</span> = <b>true</b>;
                            <a href="typeDataXmlLoader_Views.cs.html#e947d08d5cdc2f34" class="i method">LoadControlDefinitions</a>(<span class="r27 r">n</span>, <span class="r21 r">db</span>.<a href="displayDescriptionData.cs.html#423ee4fdd708f7cb" class="i field">formatControlDefinitionHolder</a>.<a href="displayDescriptionData.cs.html#63ed85d946592a81" class="i field">controlDefinitionList</a>);
                        }
                        <b>else</b>
                        {
                            <a href="XmlLoaderBase.cs.html#749fc461c72a3868" class="i method">ProcessUnknownNode</a>(<span class="r27 r">n</span>);
                        }
                    }
                }
            }
            <b>else</b>
            {
                <span class="i">ProcessUnknownNode</span>(<span class="r22 r">documentElement</span>);
            }
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> load formatting data from FormatViewDefinition
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Load the content of the ExtendedTypeDefinition instance into the db.</span>
        <span class="c">///</span><span class="c"> Only support following view controls:</span>
        <span class="c">///</span><span class="c">     TableControl</span>
        <span class="c">///</span><span class="c">     ListControl</span>
        <span class="c">///</span><span class="c">     WideControl</span>
        <span class="c">///</span><span class="c">     CustomControl.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r28 r">typeDefinition</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">ExtendedTypeDefinition instances to load from, cannot be null.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r29 r">db</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Instance of the database to load into.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r30 r">isForHelpOutput</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">True if the formatter is used for formatting help objects.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <b>private void</b> <a id="76a7a79fd78e39cb" href="../../../R/76a7a79fd78e39cb.html" target="n" data-glyph="76,1" class="i method">LoadData</a>(<a href="displayDescriptionData.cs.html#f507ec3cc270989a" class="t t">ExtendedTypeDefinition</a> <span id="r28 rd" class="r28 r">typeDefinition</span>, <a href="../../../P/e64c182db20ea05c.html#e64c182db20ea05c" class="t t">TypeInfoDataBase</a> <span id="r29 rd" class="r29 r">db</span>, <b>bool</b> <span id="r30 rd" class="r30 r">isForHelpOutput</span>)
        {
            <b>if</b> (<span class="r28 r">typeDefinition</span> == <b>null</b>)
                <b>throw</b> <a href="../../../P/6de812d1f374e1ae.html#6de812d1f374e1ae" class="t t">PSTraceSource</a>.<a href="../../../utils/MshTraceSource.cs.html#fbe67220ad7522a0" class="i method">NewArgumentNullException</a>(<span class="s">&quot;viewDefinition&quot;</span>);
 
            <b>if</b> (<span class="r29 r">db</span> == <b>null</b>)
                <b>throw</b> <a href="../../../P/6de812d1f374e1ae.html#6de812d1f374e1ae" class="t t">PSTraceSource</a>.<a href="../../../utils/MshTraceSource.cs.html#fbe67220ad7522a0" class="i method">NewArgumentNullException</a>(<b>nameof</b>(<span class="r29 r">db</span>));
 
            <b>int</b> <span id="r31 rd" class="r31 r">viewIndex</span> = 0;
            <b>foreach</b> (<a href="displayDescriptionData.cs.html#f06b7548d648d6d9" class="t t">FormatViewDefinition</a> <span id="r32 rd" class="r32 r">formatView</span> <b>in</b> <span class="r28 r">typeDefinition</span>.<a href="displayDescriptionData.cs.html#2dd18c17a2b1514c" class="i property">FormatViewDefinition</a>)
            {
                <a href="displayDescriptionData.cs.html#a2841e9b0027167f" class="t t">ViewDefinition</a> <span id="r33 rd" class="r33 r">view</span> = <span class="i">LoadViewFromObjectModel</span>(<span class="r28 r">typeDefinition</span>.<a href="displayDescriptionData.cs.html#1b8df980714da796" class="i property">TypeNames</a>, <span class="r32 r">formatView</span>, <span class="r31 r">viewIndex</span>++);
                <b>if</b> (<span class="r33 r">view</span> != <b>null</b>)
                {
                    <span class="i">ReportTrace</span>(<b>string</b>.<span class="i">Format</span>(<span class="i">CultureInfo</span>.<span class="i">InvariantCulture</span>,
                        <span class="s">&quot;{0} view {1} is loaded from the &#39;FormatViewDefinition&#39; at index {2} in &#39;ExtendedTypeDefinition&#39; with type name {3}&quot;</span>,
                        <a href="displayDescriptionData.cs.html#8f28d7f0c894b08f" class="t t">ControlBase</a>.<a href="displayDescriptionData.cs.html#826731854b18826e" class="i method">GetControlShapeName</a>(<span class="r33 r">view</span>.<a href="displayDescriptionData.cs.html#7ecc51405216112c" class="i field">mainControl</a>),
                        <span class="r33 r">view</span>.<a href="displayDescriptionData.cs.html#fe2f859d4c82481b" class="i field">name</a>, <span class="r31 r">viewIndex</span> - 1, <span class="r28 r">typeDefinition</span>.<a href="displayDescriptionData.cs.html#b53d31d7e7755c4f" class="i property">TypeName</a>));
 
                    <span class="c">// we are fine, add the view to the list</span>
                    <span class="r29 r">db</span>.<a href="displayDescriptionData.cs.html#63e926f26a6da5a5" class="i field">viewDefinitionsSection</a>.<a href="displayDescriptionData.cs.html#bf04e3771cfbee35" class="i field">viewDefinitionList</a>.<span class="i">Add</span>(<span class="r33 r">view</span>);
 
                    <span class="r33 r">view</span>.<a href="displayDescriptionData.cs.html#c9b22677d64cbd6d" class="i field">loadingInfo</a> = <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#b5bb26d42e2bf240" class="i property">LoadingInfo</a>;
                    <span class="r33 r">view</span>.<a href="displayDescriptionData.cs.html#32bb81d78bcb26b7" class="i field">isHelpFormatter</a> = <span class="r30 r">isForHelpOutput</span>;
                }
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Load the view into a ViewDefinition.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r34 r">typeNames</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The TypeName tag under SelectedBy tag.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r35 r">formatView</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r36 r">viewIndex</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>private</b> <a href="displayDescriptionData.cs.html#a2841e9b0027167f" class="t t">ViewDefinition</a> <a id="28e3edd1ac53b7ce" href="../../../R/../../0000000000.html" target="n" data-glyph="76,1" class="i method">LoadViewFromObjectModel</a>(<span class="i">List</span>&lt;<b>string</b>&gt; <span id="r34 rd" class="r34 r">typeNames</span>, <a href="displayDescriptionData.cs.html#f06b7548d648d6d9" class="t t">FormatViewDefinition</a> <span id="r35 rd" class="r35 r">formatView</span>, <b>int</b> <span id="r36 rd" class="r36 r">viewIndex</span>)
        {
            <span class="c">// Get AppliesTo information</span>
            <a href="../../../P/10db14cd82cd996e.html#10db14cd82cd996e" class="t t">AppliesTo</a> <span id="r37 rd" class="r37 r">appliesTo</span> = <b>new</b> <span class="t">AppliesTo</span>();
            <b>foreach</b> (<b>var</b> <span id="r38 rd" class="r38 r">typename</span> <b>in</b> <span class="r34 r">typeNames</span>)
            {
                <a href="displayDescriptionData.cs.html#ce3ec3d4f9138a8f" class="t t">TypeReference</a> <span id="r39 rd" class="r39 r">tr</span> = <b>new</b> <span class="t">TypeReference</span> { <a href="displayDescriptionData.cs.html#df908891090d2c93" class="i field">name</a> = <span class="r38 r">typename</span> };
                <span class="r37 r">appliesTo</span>.<a href="displayDescriptionData.cs.html#e562e7ea6df51ae6" class="i field">referenceList</a>.<span class="i">Add</span>(<span class="r39 r">tr</span>);
            }
 
            <span class="c">// Set AppliesTo and Name in the view</span>
            <a href="displayDescriptionData.cs.html#a2841e9b0027167f" class="t t">ViewDefinition</a> <span id="r40 rd" class="r40 r">view</span> = <b>new</b> <a href="displayDescriptionData.cs.html#d2863f7b49c21947" class="t constructor">ViewDefinition</a>();
            <span class="r40 r">view</span>.<a href="displayDescriptionData.cs.html#32d268bba2ea075f" class="i field">appliesTo</a> = <span class="r37 r">appliesTo</span>;
            <span class="r40 r">view</span>.<a href="displayDescriptionData.cs.html#fe2f859d4c82481b" class="i field">name</a> = <span class="r35 r">formatView</span>.<a href="displayDescriptionData.cs.html#eece8ff86d351095" class="i property">Name</a>;
 
            <b>var</b> <span id="r41 rd" class="r41 r">firstTypeName</span> = <span class="r34 r">typeNames</span>[0];
            <a href="displayDescriptionData.cs.html#87760d4efd2e8d05" class="t t">PSControl</a> <span id="r42 rd" class="r42 r">control</span> = <span class="r35 r">formatView</span>.<a href="displayDescriptionData.cs.html#35e68f2bb0e6f6c6" class="i property">Control</a>;
            <b>if</b> (<span class="r42 r">control</span> <b>is</b> <a href="displayDescriptionData_Table.cs.html#2e6dff0a2047d6b4" class="t t">TableControl</a>)
            {
                <a href="displayDescriptionData_Table.cs.html#2e6dff0a2047d6b4" class="k">var</a> <span id="r43 rd" class="r43 r">tableControl</span> = <span class="r42 r">control</span> <b>as</b> <a href="displayDescriptionData_Table.cs.html#2e6dff0a2047d6b4" class="t t">TableControl</a>;
                <span class="r40 r">view</span>.<a href="displayDescriptionData.cs.html#7ecc51405216112c" class="i field">mainControl</a> = <span class="i">LoadTableControlFromObjectModel</span>(<span class="r43 r">tableControl</span>, <span class="r36 r">viewIndex</span>, <span class="r41 r">firstTypeName</span>);
            }
            <b>else</b> <b>if</b> (<span class="r42 r">control</span> <b>is</b> <a href="displayDescriptionData_List.cs.html#0a7aab714f1c3a67" class="t t">ListControl</a>)
            {
                <a href="displayDescriptionData_List.cs.html#0a7aab714f1c3a67" class="k">var</a> <span id="r44 rd" class="r44 r">listControl</span> = <span class="r42 r">control</span> <b>as</b> <a href="displayDescriptionData_List.cs.html#0a7aab714f1c3a67" class="t t">ListControl</a>;
                <span class="r40 r">view</span>.<a href="displayDescriptionData.cs.html#7ecc51405216112c" class="i field">mainControl</a> = <span class="i">LoadListControlFromObjectModel</span>(<span class="r44 r">listControl</span>, <span class="r36 r">viewIndex</span>, <span class="r41 r">firstTypeName</span>);
            }
            <b>else</b> <b>if</b> (<span class="r42 r">control</span> <b>is</b> <a href="displayDescriptionData_Wide.cs.html#05413cd678f4777b" class="t t">WideControl</a>)
            {
                <a href="displayDescriptionData_Wide.cs.html#05413cd678f4777b" class="k">var</a> <span id="r45 rd" class="r45 r">wideControl</span> = <span class="r42 r">control</span> <b>as</b> <a href="displayDescriptionData_Wide.cs.html#05413cd678f4777b" class="t t">WideControl</a>;
                <span class="r40 r">view</span>.<a href="displayDescriptionData.cs.html#7ecc51405216112c" class="i field">mainControl</a> = <span class="i">LoadWideControlFromObjectModel</span>(<span class="r45 r">wideControl</span>, <span class="r36 r">viewIndex</span>, <span class="r41 r">firstTypeName</span>);
            }
            <b>else</b>
            {
                <span class="r40 r">view</span>.<a href="displayDescriptionData.cs.html#7ecc51405216112c" class="i field">mainControl</a> = <span class="i">LoadCustomControlFromObjectModel</span>((<a href="displayDescriptionData_Complex.cs.html#fb8209059b0d94bb" class="t t">CustomControl</a>)<span class="r42 r">control</span>, <span class="r36 r">viewIndex</span>, <span class="r41 r">firstTypeName</span>);
            }
 
            <span class="c">// Check if the PSControl is successfully loaded</span>
            <b>if</b> (<span class="r40 r">view</span>.<a href="displayDescriptionData.cs.html#7ecc51405216112c" class="i field">mainControl</a> == <b>null</b>)
            {
                <b>return</b> <b>null</b>;
            }
 
            <span class="r40 r">view</span>.<a href="displayDescriptionData.cs.html#f1f2db4076dc87ae" class="i field">outOfBand</a> = <span class="r42 r">control</span>.<a href="displayDescriptionData.cs.html#2ab4d12080d2166d" class="i property">OutOfBand</a>;
 
            <b>if</b> (<span class="r42 r">control</span>.<a href="displayDescriptionData.cs.html#0c27a644c20f470b" class="i property">GroupBy</a> != <b>null</b>)
            {
                <span class="r40 r">view</span>.<a href="displayDescriptionData.cs.html#dd570ebf439ee6fe" class="i field">groupBy</a> = <b>new</b> <span class="t">GroupBy</span>
                {
                    <a href="displayDescriptionData.cs.html#f54b39541eadad34" class="i field">startGroup</a> = <b>new</b> <span class="t">StartGroup</span>
                    {
                        <a href="displayDescriptionData.cs.html#2e573193654fc040" class="i field">expression</a> = <span class="i">LoadExpressionFromObjectModel</span>(<span class="r42 r">control</span>.<a href="displayDescriptionData.cs.html#0c27a644c20f470b" class="i property">GroupBy</a>.<a href="displayDescriptionData.cs.html#3c83fba85164f02c" class="i property">Expression</a>, <span class="r36 r">viewIndex</span>, <span class="r41 r">firstTypeName</span>)
                    }
                };
                <b>if</b> (<span class="r42 r">control</span>.<a href="displayDescriptionData.cs.html#0c27a644c20f470b" class="i property">GroupBy</a>.<a href="displayDescriptionData.cs.html#5dae5f095868de08" class="i property">Label</a> != <b>null</b>)
                {
                    <span class="r40 r">view</span>.<a href="displayDescriptionData.cs.html#dd570ebf439ee6fe" class="i field">groupBy</a>.<a href="displayDescriptionData.cs.html#f54b39541eadad34" class="i field">startGroup</a>.<a href="displayDescriptionData.cs.html#9103af8f3796e0b6" class="i field">labelTextToken</a> = <b>new</b> <span class="t">TextToken</span> { <a href="displayDescriptionData.cs.html#7b4fb5ae800201aa" class="i field">text</a> = <span class="r42 r">control</span>.<a href="displayDescriptionData.cs.html#0c27a644c20f470b" class="i property">GroupBy</a>.<a href="displayDescriptionData.cs.html#5dae5f095868de08" class="i property">Label</a> };
                }
 
                <b>if</b> (<span class="r42 r">control</span>.<a href="displayDescriptionData.cs.html#0c27a644c20f470b" class="i property">GroupBy</a>.<a href="displayDescriptionData.cs.html#7e27302bb0b4dd66" class="i property">CustomControl</a> != <b>null</b>)
                {
                    <span class="r40 r">view</span>.<a href="displayDescriptionData.cs.html#dd570ebf439ee6fe" class="i field">groupBy</a>.<a href="displayDescriptionData.cs.html#f54b39541eadad34" class="i field">startGroup</a>.<a href="displayDescriptionData.cs.html#923c0361be24ef70" class="i field">control</a> = <span class="i">LoadCustomControlFromObjectModel</span>(<span class="r42 r">control</span>.<a href="displayDescriptionData.cs.html#0c27a644c20f470b" class="i property">GroupBy</a>.<a href="displayDescriptionData.cs.html#7e27302bb0b4dd66" class="i property">CustomControl</a>, <span class="r36 r">viewIndex</span>, <span class="r41 r">firstTypeName</span>);
                }
            }
 
            <b>return</b> <span class="r40 r">view</span>;
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Load TableControl
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Load the TableControl to ControlBase.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r46 r">table</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r47 r">viewIndex</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r48 r">typeName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>private</b> <a href="displayDescriptionData.cs.html#8f28d7f0c894b08f" class="t t">ControlBase</a> <a id="f622d9f0fe359810" href="../../../R/../../0000000000.html" target="n" data-glyph="76,1" class="i method">LoadTableControlFromObjectModel</a>(<a href="displayDescriptionData_Table.cs.html#2e6dff0a2047d6b4" class="t t">TableControl</a> <span id="r46 rd" class="r46 r">table</span>, <b>int</b> <span id="r47 rd" class="r47 r">viewIndex</span>, <b>string</b> <span id="r48 rd" class="r48 r">typeName</span>)
        {
            <a href="displayDescriptionData_Table.cs.html#ccad4737e6e7dc9d" class="t t">TableControlBody</a> <span id="r49 rd" class="r49 r">tableBody</span> = <b>new</b> <span class="t">TableControlBody</span> { <a href="displayDescriptionData.cs.html#5dde2d85b74b9d51" class="i field">autosize</a> = <span class="r46 r">table</span>.<a href="displayDescriptionData_Table.cs.html#0671dde3ec81943d" class="i property">AutoSize</a> };
 
            <a href="#83ca0ab395b2fe41" class="i method">LoadHeadersSectionFromObjectModel</a>(<span class="r49 r">tableBody</span>, <span class="r46 r">table</span>.<a href="displayDescriptionData_Table.cs.html#5fc1a2b45115c238" class="i property">Headers</a>);
 
            <span class="c">// No &#39;SelectedBy&#39; data supplied, so the rowEntry will only be set to</span>
            <span class="c">// tableBody.defaultDefinition. There cannot be more than one &#39;defaultDefinition&#39;</span>
            <span class="c">// defined for the tableBody.</span>
            <b>if</b> (<span class="r46 r">table</span>.<a href="displayDescriptionData_Table.cs.html#128f02444b16da05" class="i property">Rows</a>.<span class="i">Count</span> &gt; 1)
            {
                <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#5109b6e3de4bb1b1" class="i method">ReportErrorForLoadingFromObjectModel</a>(
                    <a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">MultipleRowEntriesFoundInFormattingData</span>, <span class="r48 r">typeName</span>, <span class="r47 r">viewIndex</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#b78ae7695945f4f9" class="i field">TableRowEntryNode</a>), <span class="r48 r">typeName</span>);
                <b>return</b> <b>null</b>;
            }
 
            <a href="#dbcfdb1d1719e0d3" class="i method">LoadRowEntriesSectionFromObjectModel</a>(<span class="r49 r">tableBody</span>, <span class="r46 r">table</span>.<a href="displayDescriptionData_Table.cs.html#128f02444b16da05" class="i property">Rows</a>, <span class="r47 r">viewIndex</span>, <span class="r48 r">typeName</span>);
            <span class="c">// When error occurs while loading rowEntry, the tableBody.defaultDefinition would be null</span>
            <b>if</b> (<span class="r49 r">tableBody</span>.<a href="displayDescriptionData_Table.cs.html#91e76432ceda4460" class="i field">defaultDefinition</a> == <b>null</b>)
            {
                <b>return</b> <b>null</b>;
            }
 
            <span class="c">// CHECK: verify consistency of headers and row entries</span>
            <b>if</b> (<span class="r49 r">tableBody</span>.<a href="displayDescriptionData_Table.cs.html#2b2f552642e43ca0" class="i field">header</a>.<a href="displayDescriptionData_Table.cs.html#f8f0bbaa5b123317" class="i field">columnHeaderDefinitionList</a>.<span class="i">Count</span> != 0)
            {
                <span class="c">// CHECK: if there are headers in the list, their number has to match</span>
                <span class="c">// the default row definition item count</span>
                <b>if</b> (<span class="r49 r">tableBody</span>.<a href="displayDescriptionData_Table.cs.html#2b2f552642e43ca0" class="i field">header</a>.<a href="displayDescriptionData_Table.cs.html#f8f0bbaa5b123317" class="i field">columnHeaderDefinitionList</a>.<span class="i">Count</span> !=
                    <span class="r49 r">tableBody</span>.<a href="displayDescriptionData_Table.cs.html#91e76432ceda4460" class="i field">defaultDefinition</a>.<a href="displayDescriptionData_Table.cs.html#64bdeaa76c4c67a4" class="i field">rowItemDefinitionList</a>.<span class="i">Count</span>)
                {
                    <span class="c">// Error at XPath {0} in file {1}: Header item count = {2} does not match default row item count = {3}.</span>
                    <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#5109b6e3de4bb1b1" class="i method">ReportErrorForLoadingFromObjectModel</a>(
                        <a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">IncorrectHeaderItemCountInFormattingData</span>, <span class="r48 r">typeName</span>, <span class="r47 r">viewIndex</span>,
                        <span class="r49 r">tableBody</span>.<a href="displayDescriptionData_Table.cs.html#2b2f552642e43ca0" class="i field">header</a>.<a href="displayDescriptionData_Table.cs.html#f8f0bbaa5b123317" class="i field">columnHeaderDefinitionList</a>.<span class="i">Count</span>,
                        <span class="r49 r">tableBody</span>.<a href="displayDescriptionData_Table.cs.html#91e76432ceda4460" class="i field">defaultDefinition</a>.<a href="displayDescriptionData_Table.cs.html#64bdeaa76c4c67a4" class="i field">rowItemDefinitionList</a>.<span class="i">Count</span>), <span class="r48 r">typeName</span>);
 
                    <b>return</b> <b>null</b>; <span class="c">// fatal error</span>
                }
            }
            <span class="c">// CHECK: if there are alternative row definitions. There should be no alternative row definitions here.</span>
            <a href="../../../utils/assert.cs.html#c04955255430d32f" class="t t">Diagnostics</a>.<a href="../../../utils/assert.cs.html#703dade50a6809cd" class="i method">Assert</a>(<span class="r49 r">tableBody</span>.<a href="displayDescriptionData_Table.cs.html#432dbd0c3df61e6b" class="i field">optionalDefinitionList</a>.<span class="i">Count</span> == 0,
                <span class="s">&quot;there should be no alternative row definitions because no SelectedBy is defined for TableControlRow&quot;</span>);
 
            <b>return</b> <span class="r49 r">tableBody</span>;
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Load the headers defined for columns.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r50 r">tableBody</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r51 r">headers</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <b>private static void</b> <a id="83ca0ab395b2fe41" href="../../../R/83ca0ab395b2fe41.html" target="n" data-glyph="76,1" class="i method">LoadHeadersSectionFromObjectModel</a>(<a href="displayDescriptionData_Table.cs.html#ccad4737e6e7dc9d" class="t t">TableControlBody</a> <span id="r50 rd" class="r50 r">tableBody</span>, <span class="i">List</span>&lt;<a href="displayDescriptionData_Table.cs.html#8de7b62acebc6e04" class="t t">TableControlColumnHeader</a>&gt; <span id="r51 rd" class="r51 r">headers</span>)
        {
            <b>foreach</b> (<a href="displayDescriptionData_Table.cs.html#8de7b62acebc6e04" class="t t">TableControlColumnHeader</a> <span id="r52 rd" class="r52 r">header</span> <b>in</b> <span class="r51 r">headers</span>)
            {
                <a href="displayDescriptionData_Table.cs.html#a4532cab5767ac62" class="t t">TableColumnHeaderDefinition</a> <span id="r53 rd" class="r53 r">chd</span> = <b>new</b> <span class="t">TableColumnHeaderDefinition</span>();
 
                <span class="c">// Contains:</span>
                <span class="c">//   Label     --- Label     cardinality 0..1</span>
                <span class="c">//   Width     --- Width     cardinality 0..1</span>
                <span class="c">//   Alignment --- Alignment cardinality 0..1</span>
                <b>if</b> (!<b>string</b>.<span class="i">IsNullOrEmpty</span>(<span class="r52 r">header</span>.<a href="displayDescriptionData_Table.cs.html#93830a3c616efeb1" class="i property">Label</a>))
                {
                    <a href="displayDescriptionData.cs.html#9ea056dc3d88f871" class="t t">TextToken</a> <span id="r54 rd" class="r54 r">tt</span> = <b>new</b> <span class="t">TextToken</span>();
                    <span class="r54 r">tt</span>.<a href="displayDescriptionData.cs.html#7b4fb5ae800201aa" class="i field">text</a> = <span class="r52 r">header</span>.<a href="displayDescriptionData_Table.cs.html#93830a3c616efeb1" class="i property">Label</a>;
                    <span class="r53 r">chd</span>.<a href="displayDescriptionData_Table.cs.html#7b5a1345e7bd81d1" class="i field">label</a> = <span class="r54 r">tt</span>;
                }
 
                <span class="r53 r">chd</span>.<a href="displayDescriptionData_Table.cs.html#eefbc87600f906b6" class="i field">width</a> = <span class="r52 r">header</span>.<a href="displayDescriptionData_Table.cs.html#3aed1911459539e0" class="i property">Width</a>;
                <span class="r53 r">chd</span>.<a href="displayDescriptionData_Table.cs.html#35873c4686d0e2db" class="i field">alignment</a> = (<b>int</b>)<span class="r52 r">header</span>.<a href="displayDescriptionData_Table.cs.html#9fae49121f8122e5" class="i property">Alignment</a>;
                <span class="r50 r">tableBody</span>.<a href="displayDescriptionData_Table.cs.html#2b2f552642e43ca0" class="i field">header</a>.<a href="displayDescriptionData_Table.cs.html#f8f0bbaa5b123317" class="i field">columnHeaderDefinitionList</a>.<span class="i">Add</span>(<span class="r53 r">chd</span>);
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Load row enties, set the defaultDefinition of the TableControlBody.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r55 r">tableBody</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r56 r">rowEntries</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r57 r">viewIndex</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r58 r">typeName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <b>private void</b> <a id="dbcfdb1d1719e0d3" href="../../../R/dbcfdb1d1719e0d3.html" target="n" data-glyph="76,1" class="i method">LoadRowEntriesSectionFromObjectModel</a>(<a href="displayDescriptionData_Table.cs.html#ccad4737e6e7dc9d" class="t t">TableControlBody</a> <span id="r55 rd" class="r55 r">tableBody</span>, <span class="i">List</span>&lt;<a href="displayDescriptionData_Table.cs.html#c9bb940410c81f0f" class="t t">TableControlRow</a>&gt; <span id="r56 rd" class="r56 r">rowEntries</span>, <b>int</b> <span id="r57 rd" class="r57 r">viewIndex</span>, <b>string</b> <span id="r58 rd" class="r58 r">typeName</span>)
        {
            <b>foreach</b> (<a href="displayDescriptionData_Table.cs.html#c9bb940410c81f0f" class="t t">TableControlRow</a> <span id="r59 rd" class="r59 r">row</span> <b>in</b> <span class="r56 r">rowEntries</span>)
            {
                <a href="displayDescriptionData_Table.cs.html#0e9fb63d89d3bfb2" class="t t">TableRowDefinition</a> <span id="r60 rd" class="r60 r">trd</span> = <b>new</b> <span class="t">TableRowDefinition</span> { <a href="displayDescriptionData_Table.cs.html#41727285fc33926c" class="i field">multiLine</a> = <span class="r59 r">row</span>.<a href="displayDescriptionData_Table.cs.html#8be9232743b53353" class="i property">Wrap</a> };
 
                <span class="c">// Contains:</span>
                <span class="c">//   Columns --- TableColumnItems cardinality: 0..1</span>
                <span class="c">// No SelectedBy is supplied in the TableControlRow</span>
                <b>if</b> (<span class="r59 r">row</span>.<a href="displayDescriptionData_Table.cs.html#0f5b11944f6bcfcd" class="i property">Columns</a>.<span class="i">Count</span> &gt; 0)
                {
                    <a href="#eedca2a37fadaf4c" class="i method">LoadColumnEntriesFromObjectModel</a>(<span class="r60 r">trd</span>, <span class="r59 r">row</span>.<a href="displayDescriptionData_Table.cs.html#0f5b11944f6bcfcd" class="i property">Columns</a>, <span class="r57 r">viewIndex</span>, <span class="r58 r">typeName</span>);
                    <span class="c">// trd.rowItemDefinitionList is null, it means there was a failure</span>
                    <b>if</b> (<span class="r60 r">trd</span>.<a href="displayDescriptionData_Table.cs.html#64bdeaa76c4c67a4" class="i field">rowItemDefinitionList</a> == <b>null</b>)
                    {
                        <span class="r55 r">tableBody</span>.<a href="displayDescriptionData_Table.cs.html#91e76432ceda4460" class="i field">defaultDefinition</a> = <b>null</b>;
                        <b>return</b>;
                    }
                }
 
                <b>if</b> (<span class="r59 r">row</span>.<a href="displayDescriptionData_Table.cs.html#b52d7269e2906737" class="i property">SelectedBy</a> != <b>null</b>)
                {
                    <span class="r60 r">trd</span>.<a href="displayDescriptionData_Table.cs.html#3dcc007e844dd72a" class="i field">appliesTo</a> = <a href="#0fcc9d9fe58c3b7e" class="i method">LoadAppliesToSectionFromObjectModel</a>(<span class="r59 r">row</span>.<a href="displayDescriptionData_Table.cs.html#b52d7269e2906737" class="i property">SelectedBy</a>.<a href="displayDescriptionData.cs.html#cd692e73c9519ed6" class="i property">TypeNames</a>, <span class="r59 r">row</span>.<a href="displayDescriptionData_Table.cs.html#b52d7269e2906737" class="i property">SelectedBy</a>.<a href="displayDescriptionData.cs.html#f6e5a365f98e421c" class="i property">SelectionCondition</a>);
                    <span class="r55 r">tableBody</span>.<a href="displayDescriptionData_Table.cs.html#432dbd0c3df61e6b" class="i field">optionalDefinitionList</a>.<span class="i">Add</span>(<span class="r60 r">trd</span>);
                }
                <b>else</b>
                {
                    <span class="r55 r">tableBody</span>.<a href="displayDescriptionData_Table.cs.html#91e76432ceda4460" class="i field">defaultDefinition</a> = <span class="r60 r">trd</span>;
                }
            }
 
            <span class="c">// rowEntries must not be empty</span>
            <b>if</b> (<span class="r55 r">tableBody</span>.<a href="displayDescriptionData_Table.cs.html#91e76432ceda4460" class="i field">defaultDefinition</a> == <b>null</b>)
            {
                <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#5109b6e3de4bb1b1" class="i method">ReportErrorForLoadingFromObjectModel</a>(
                    <a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">NoDefaultShapeEntryInFormattingData</span>, <span class="r58 r">typeName</span>, <span class="r57 r">viewIndex</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#b78ae7695945f4f9" class="i field">TableRowEntryNode</a>), <span class="r58 r">typeName</span>);
                <b>return</b>;
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Load the column items into the TableRowDefinition.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r61 r">trd</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r62 r">columns</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r63 r">viewIndex</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r64 r">typeName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <b>private void</b> <a id="eedca2a37fadaf4c" href="../../../R/eedca2a37fadaf4c.html" target="n" data-glyph="76,1" class="i method">LoadColumnEntriesFromObjectModel</a>(<a href="displayDescriptionData_Table.cs.html#0e9fb63d89d3bfb2" class="t t">TableRowDefinition</a> <span id="r61 rd" class="r61 r">trd</span>, <span class="i">List</span>&lt;<a href="displayDescriptionData_Table.cs.html#e171f7796c952fb2" class="t t">TableControlColumn</a>&gt; <span id="r62 rd" class="r62 r">columns</span>, <b>int</b> <span id="r63 rd" class="r63 r">viewIndex</span>, <b>string</b> <span id="r64 rd" class="r64 r">typeName</span>)
        {
            <b>foreach</b> (<a href="displayDescriptionData_Table.cs.html#e171f7796c952fb2" class="t t">TableControlColumn</a> <span id="r65 rd" class="r65 r">column</span> <b>in</b> <span class="r62 r">columns</span>)
            {
                <a href="displayDescriptionData_Table.cs.html#6c08cc0b0e714bf7" class="t t">TableRowItemDefinition</a> <span id="r66 rd" class="r66 r">rid</span> = <b>new</b> <span class="t">TableRowItemDefinition</span>();
 
                <span class="c">// Contain:</span>
                <span class="c">//   DisplayEntry --- Expression cardinality: 0..1</span>
                <span class="c">//   Alignment    --- Alignment  cardinality: 0..1</span>
                <b>if</b> (<span class="r65 r">column</span>.<a href="displayDescriptionData_Table.cs.html#463718fcd69927ea" class="i property">DisplayEntry</a> != <b>null</b>)
                {
                    <a href="displayDescriptionData.cs.html#82a5bbc134cdede1" class="t t">ExpressionToken</a> <span id="r67 rd" class="r67 r">expression</span> = <a href="#0c1021b2501fb778" class="i method">LoadExpressionFromObjectModel</a>(<span class="r65 r">column</span>.<a href="displayDescriptionData_Table.cs.html#463718fcd69927ea" class="i property">DisplayEntry</a>, <span class="r63 r">viewIndex</span>, <span class="r64 r">typeName</span>);
                    <b>if</b> (<span class="r67 r">expression</span> == <b>null</b>)
                    {
                        <span class="r61 r">trd</span>.<a href="displayDescriptionData_Table.cs.html#64bdeaa76c4c67a4" class="i field">rowItemDefinitionList</a> = <b>null</b>;
                        <b>return</b>;
                    }
 
                    <a href="displayDescriptionData.cs.html#b4e928acc71d759e" class="t t">FieldPropertyToken</a> <span id="r68 rd" class="r68 r">fpt</span> = <b>new</b> <span class="t">FieldPropertyToken</span>();
                    <span class="r68 r">fpt</span>.<a href="displayDescriptionData.cs.html#290a24606a772090" class="i field">expression</a> = <span class="r67 r">expression</span>;
                    <span class="r68 r">fpt</span>.<a href="displayDescriptionData.cs.html#995a46da4576f744" class="i field">fieldFormattingDirective</a>.<a href="displayDescriptionData.cs.html#3f9e1708749d83d3" class="i field">formatString</a> = <span class="r65 r">column</span>.<a href="displayDescriptionData_Table.cs.html#4b5874e23c64d0bf" class="i property">FormatString</a>;
                    <span class="r66 r">rid</span>.<a href="displayDescriptionData_Table.cs.html#105472a64ef12609" class="i field">formatTokenList</a>.<span class="i">Add</span>(<span class="r68 r">fpt</span>);
                }
 
                <span class="r66 r">rid</span>.<a href="displayDescriptionData_Table.cs.html#e4283ddc1d96b01f" class="i field">alignment</a> = (<b>int</b>)<span class="r65 r">column</span>.<a href="displayDescriptionData_Table.cs.html#b2de72aba7f19508" class="i property">Alignment</a>;
                <span class="r61 r">trd</span>.<a href="displayDescriptionData_Table.cs.html#64bdeaa76c4c67a4" class="i field">rowItemDefinitionList</a>.<span class="i">Add</span>(<span class="r66 r">rid</span>);
            }
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span> Load TableControl
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Load the expression information from DisplayEntry.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r69 r">displayEntry</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r70 r">viewIndex</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r71 r">typeName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>private</b> <a href="displayDescriptionData.cs.html#82a5bbc134cdede1" class="t t">ExpressionToken</a> <a id="0c1021b2501fb778" href="../../../R/0c1021b2501fb778.html" target="n" data-glyph="76,1" class="i method">LoadExpressionFromObjectModel</a>(<a href="displayDescriptionData.cs.html#ca8865c5954381a8" class="t t">DisplayEntry</a> <span id="r69 rd" class="r69 r">displayEntry</span>, <b>int</b> <span id="r70 rd" class="r70 r">viewIndex</span>, <b>string</b> <span id="r71 rd" class="r71 r">typeName</span>)
        {
            <a href="displayDescriptionData.cs.html#82a5bbc134cdede1" class="t t">ExpressionToken</a> <span id="r72 rd" class="r72 r">token</span> = <b>new</b> <a href="displayDescriptionData.cs.html#c09e995e6761c462" class="t constructor">ExpressionToken</a>();
            <b>if</b> (<span class="r69 r">displayEntry</span>.<a href="displayDescriptionData.cs.html#3f8798835111f4f6" class="i property">ValueType</a> == <a href="displayDescriptionData.cs.html#2f044210ced40398" class="t t">DisplayEntryValueType</a>.<a href="displayDescriptionData.cs.html#5d9b7ae64e4cc0d1" class="i field">Property</a>)
            {
                <span class="r72 r">token</span>.<a href="displayDescriptionData.cs.html#5d00f85462b58293" class="i field">expressionValue</a> = <span class="r69 r">displayEntry</span>.<a href="displayDescriptionData.cs.html#96a5a26c84c885b2" class="i property">Value</a>;
                <b>return</b> <span class="r72 r">token</span>;
            }
            <b>else</b> <b>if</b> (<span class="r69 r">displayEntry</span>.<a href="displayDescriptionData.cs.html#3f8798835111f4f6" class="i property">ValueType</a> == <a href="displayDescriptionData.cs.html#2f044210ced40398" class="t t">DisplayEntryValueType</a>.<a href="displayDescriptionData.cs.html#e114ad79a5283648" class="i field">ScriptBlock</a>)
            {
                <span class="r72 r">token</span>.<a href="displayDescriptionData.cs.html#0739e14437b19f5a" class="i field">isScriptBlock</a> = <b>true</b>;
                <span class="r72 r">token</span>.<a href="displayDescriptionData.cs.html#5d00f85462b58293" class="i field">expressionValue</a> = <span class="r69 r">displayEntry</span>.<a href="displayDescriptionData.cs.html#96a5a26c84c885b2" class="i property">Value</a>;
 
                <b>try</b>
                {
                    <span class="c">// For faster startup, we don&#39;t validate any of the built-in formatting script blocks, where isFullyTrusted == built-in.</span>
                    <b>if</b> (!<a href="XmlLoaderBase.cs.html#b5bb26d42e2bf240" class="i property">LoadingInfo</a>.<a href="displayDescriptionData.cs.html#ce1a4be78365b0d0" class="i field">isFullyTrusted</a>)
                    {
                        <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#34cbdfcab9d0f1ed" class="i field">expressionFactory</a>.<a href="../Utilities/MshObjectUtil.cs.html#b42dc4dca2b927f7" class="i method">VerifyScriptBlockText</a>(<span class="r72 r">token</span>.<a href="displayDescriptionData.cs.html#5d00f85462b58293" class="i field">expressionValue</a>);
                    }
                }
                <b>catch</b> (<a href="../../../utils/ParserException.cs.html#89a0a90c9fc1219d" class="t t">ParseException</a> <span id="r73 rd" class="r73 r">e</span>)
                {
                    <span class="c">// Error at</span>
                    <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#5109b6e3de4bb1b1" class="i method">ReportErrorForLoadingFromObjectModel</a>(
                        <a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">InvalidScriptBlockInFormattingData</span>, <span class="r71 r">typeName</span>, <span class="r70 r">viewIndex</span>, <span class="r73 r">e</span>.<a href="../../../utils/ParserException.cs.html#f8b287eab458b0b1" class="i property">Message</a>), <span class="r71 r">typeName</span>);
                    <b>return</b> <b>null</b>;
                }
                <b>catch</b> (<span class="i">Exception</span> <span id="r74 rd" class="r74 r">e</span>) <span class="c">// will rethrow</span>
                {
                    <a href="../../../utils/assert.cs.html#c04955255430d32f" class="t t">Diagnostics</a>.<span class="i">Assert</span>(<b>false</b>, <span class="s">&quot;TypeInfoBaseLoader.VerifyScriptBlock unexpected exception &quot;</span> + <span class="r74 r">e</span>.<span class="i">GetType</span>().<span class="i">FullName</span>);
                    <b>throw</b>;
                }
 
                <b>return</b> <span class="r72 r">token</span>;
            }
            <span class="c">// this should never happen if the API is used correctly</span>
            <a href="../../../P/6de812d1f374e1ae.html#6de812d1f374e1ae" class="t t">PSTraceSource</a>.<a href="../../../utils/MshTraceSource.cs.html#4f3f8175dd33a015" class="i method">NewInvalidOperationException</a>();
            <b>return</b> <b>null</b>;
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Load EntrySelectedBy (TypeName) into AppliesTo.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>private static</b> <a href="../../../P/10db14cd82cd996e.html#10db14cd82cd996e" class="t t">AppliesTo</a> <a id="0fcc9d9fe58c3b7e" href="../../../R/0fcc9d9fe58c3b7e.html" target="n" data-glyph="76,1" class="i method">LoadAppliesToSectionFromObjectModel</a>(<span class="i">List</span>&lt;<b>string</b>&gt; <span id="r75 rd" class="r75 r">selectedBy</span>, <span class="i">List</span>&lt;<a href="displayDescriptionData.cs.html#ca8865c5954381a8" class="t t">DisplayEntry</a>&gt; <span id="r76 rd" class="r76 r">condition</span>)
        {
            <a href="../../../P/10db14cd82cd996e.html#10db14cd82cd996e" class="t t">AppliesTo</a> <span id="r77 rd" class="r77 r">appliesTo</span> = <b>new</b> <span class="t">AppliesTo</span>();
 
            <b>if</b> (<span class="r75 r">selectedBy</span> != <b>null</b>)
            {
                <b>foreach</b> (<b>string</b> <span id="r78 rd" class="r78 r">type</span> <b>in</b> <span class="r75 r">selectedBy</span>)
                {
                    <b>if</b> (<b>string</b>.<span class="i">IsNullOrEmpty</span>(<span class="r78 r">type</span>))
                        <b>return</b> <b>null</b>;
                    <a href="displayDescriptionData.cs.html#ce3ec3d4f9138a8f" class="t t">TypeReference</a> <span id="r79 rd" class="r79 r">tr</span> = <b>new</b> <span class="t">TypeReference</span> { <a href="displayDescriptionData.cs.html#df908891090d2c93" class="i field">name</a> = <span class="r78 r">type</span> };
                    <span class="r77 r">appliesTo</span>.<a href="displayDescriptionData.cs.html#e562e7ea6df51ae6" class="i field">referenceList</a>.<span class="i">Add</span>(<span class="r79 r">tr</span>);
                }
            }
 
            <b>if</b> (<span class="r76 r">condition</span> != <b>null</b>)
            {
                <b>foreach</b> (<b>var</b> <span id="r80 rd" class="r80 r">cond</span> <b>in</b> <span class="r76 r">condition</span>)
                {
                    <span class="c">// TODO</span>
                }
            }
 
            <b>return</b> <span class="r77 r">appliesTo</span>;
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Load ListControl
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Load LoisControl into the ListControlBody.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r81 r">list</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r82 r">viewIndex</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r83 r">typeName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>private</b> <a href="displayDescriptionData_List.cs.html#3771338ebddfda56" class="t t">ListControlBody</a> <a id="f31f625d0e289a31" href="../../../R/../../0000000000.html" target="n" data-glyph="76,1" class="i method">LoadListControlFromObjectModel</a>(<a href="displayDescriptionData_List.cs.html#0a7aab714f1c3a67" class="t t">ListControl</a> <span id="r81 rd" class="r81 r">list</span>, <b>int</b> <span id="r82 rd" class="r82 r">viewIndex</span>, <b>string</b> <span id="r83 rd" class="r83 r">typeName</span>)
        {
            <a href="displayDescriptionData_List.cs.html#3771338ebddfda56" class="t t">ListControlBody</a> <span id="r84 rd" class="r84 r">listBody</span> = <b>new</b> <span class="t">ListControlBody</span>();
 
            <span class="c">// load the list entries section</span>
            <a href="#694aa09c8dd33e53" class="i method">LoadListControlEntriesFromObjectModel</a>(<span class="r84 r">listBody</span>, <span class="r81 r">list</span>.<a href="displayDescriptionData_List.cs.html#8d5082c6940b2f46" class="i property">Entries</a>, <span class="r82 r">viewIndex</span>, <span class="r83 r">typeName</span>);
            <b>if</b> (<span class="r84 r">listBody</span>.<a href="displayDescriptionData_List.cs.html#8376ffcdb3cea6f9" class="i field">defaultEntryDefinition</a> == <b>null</b>)
            {
                <b>return</b> <b>null</b>; <span class="c">// fatal error</span>
            }
 
            <b>return</b> <span class="r84 r">listBody</span>;
        }
 
        <b>private void</b> <a id="694aa09c8dd33e53" href="../../../R/694aa09c8dd33e53.html" target="n" data-glyph="76,1" class="i method">LoadListControlEntriesFromObjectModel</a>(<a href="displayDescriptionData_List.cs.html#3771338ebddfda56" class="t t">ListControlBody</a> <span id="r85 rd" class="r85 r">listBody</span>, <span class="i">List</span>&lt;<a href="displayDescriptionData_List.cs.html#e4f4c1fbd5d6efe8" class="t t">ListControlEntry</a>&gt; <span id="r86 rd" class="r86 r">entries</span>, <b>int</b> <span id="r87 rd" class="r87 r">viewIndex</span>, <b>string</b> <span id="r88 rd" class="r88 r">typeName</span>)
        {
            <span class="c">// Contains:</span>
            <span class="c">//   Entries --- ListEntries cardinality 1</span>
            <b>foreach</b> (<a href="displayDescriptionData_List.cs.html#e4f4c1fbd5d6efe8" class="t t">ListControlEntry</a> <span id="r89 rd" class="r89 r">listEntry</span> <b>in</b> <span class="r86 r">entries</span>)
            {
                <a href="displayDescriptionData_List.cs.html#81288ec169c3db70" class="t t">ListControlEntryDefinition</a> <span id="r90 rd" class="r90 r">lved</span> = <a href="#31a5e7a2f92785e1" class="i method">LoadListControlEntryDefinitionFromObjectModel</a>(<span class="r89 r">listEntry</span>, <span class="r87 r">viewIndex</span>, <span class="r88 r">typeName</span>);
                <b>if</b> (<span class="r90 r">lved</span> == <b>null</b>)
                {
                    <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#5109b6e3de4bb1b1" class="i method">ReportErrorForLoadingFromObjectModel</a>(
                        <a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">LoadTagFailedInFormattingData</span>, <span class="r88 r">typeName</span>, <span class="r87 r">viewIndex</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#d64903b383c88a83" class="i field">ListEntryNode</a>), <span class="r88 r">typeName</span>);
                    <span class="r85 r">listBody</span>.<a href="displayDescriptionData_List.cs.html#8376ffcdb3cea6f9" class="i field">defaultEntryDefinition</a> = <b>null</b>;
                    <b>return</b>;
                }
                <span class="c">// determine if we have a default entry and if it&#39;s already set</span>
                <b>if</b> (<span class="r90 r">lved</span>.<a href="displayDescriptionData_List.cs.html#7c624abcc09e9589" class="i field">appliesTo</a> == <b>null</b>)
                {
                    <b>if</b> (<span class="r85 r">listBody</span>.<a href="displayDescriptionData_List.cs.html#8376ffcdb3cea6f9" class="i field">defaultEntryDefinition</a> == <b>null</b>)
                    {
                        <span class="r85 r">listBody</span>.<a href="displayDescriptionData_List.cs.html#8376ffcdb3cea6f9" class="i field">defaultEntryDefinition</a> = <span class="r90 r">lved</span>;
                    }
                    <b>else</b>
                    {
                        <span class="c">// Error at XPath {0} in file {1}: There cannot be more than one default {2}.</span>
                        <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#5109b6e3de4bb1b1" class="i method">ReportErrorForLoadingFromObjectModel</a>(
                            <a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">TooManyDefaultShapeEntryInFormattingData</span>, <span class="r88 r">typeName</span>, <span class="r87 r">viewIndex</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#d64903b383c88a83" class="i field">ListEntryNode</a>), <span class="r88 r">typeName</span>);
                        <span class="r85 r">listBody</span>.<a href="displayDescriptionData_List.cs.html#8376ffcdb3cea6f9" class="i field">defaultEntryDefinition</a> = <b>null</b>;
                        <b>return</b>; <span class="c">// fatal error</span>
                    }
                }
                <b>else</b>
                {
                    <span class="r85 r">listBody</span>.<a href="displayDescriptionData_List.cs.html#2ab256f7049d00b2" class="i field">optionalEntryList</a>.<span class="i">Add</span>(<span class="r90 r">lved</span>);
                }
            }
            <span class="c">// list entries is empty</span>
            <b>if</b> (<span class="r85 r">listBody</span>.<a href="displayDescriptionData_List.cs.html#8376ffcdb3cea6f9" class="i field">defaultEntryDefinition</a> == <b>null</b>)
            {
                <span class="c">// Error: there must be at least one default</span>
                <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#5109b6e3de4bb1b1" class="i method">ReportErrorForLoadingFromObjectModel</a>(
                    <a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">NoDefaultShapeEntryInFormattingData</span>, <span class="r88 r">typeName</span>, <span class="r87 r">viewIndex</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#d64903b383c88a83" class="i field">ListEntryNode</a>), <span class="r88 r">typeName</span>);
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Load ListEntry into ListControlEntryDefinition.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r91 r">listEntry</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r92 r">viewIndex</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r93 r">typeName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>private</b> <a href="displayDescriptionData_List.cs.html#81288ec169c3db70" class="t t">ListControlEntryDefinition</a> <a id="31a5e7a2f92785e1" href="../../../R/31a5e7a2f92785e1.html" target="n" data-glyph="76,1" class="i method">LoadListControlEntryDefinitionFromObjectModel</a>(<a href="displayDescriptionData_List.cs.html#e4f4c1fbd5d6efe8" class="t t">ListControlEntry</a> <span id="r91 rd" class="r91 r">listEntry</span>, <b>int</b> <span id="r92 rd" class="r92 r">viewIndex</span>, <b>string</b> <span id="r93 rd" class="r93 r">typeName</span>)
        {
            <a href="displayDescriptionData_List.cs.html#81288ec169c3db70" class="t t">ListControlEntryDefinition</a> <span id="r94 rd" class="r94 r">lved</span> = <b>new</b> <span class="t">ListControlEntryDefinition</span>();
 
            <span class="c">// Contains:</span>
            <span class="c">//   SelectedBy ---  EntrySelectedBy(TypeName)  cardinality 0..1</span>
            <span class="c">//   Items      ---  ListItems                  cardinality 1</span>
            <b>if</b> (<span class="r91 r">listEntry</span>.<a href="displayDescriptionData_List.cs.html#ab619676685153e0" class="i property">EntrySelectedBy</a> != <b>null</b>)
            {
                <span class="r94 r">lved</span>.<a href="displayDescriptionData_List.cs.html#7c624abcc09e9589" class="i field">appliesTo</a> = <a href="#0fcc9d9fe58c3b7e" class="i method">LoadAppliesToSectionFromObjectModel</a>(<span class="r91 r">listEntry</span>.<a href="displayDescriptionData_List.cs.html#ab619676685153e0" class="i property">EntrySelectedBy</a>.<a href="displayDescriptionData.cs.html#cd692e73c9519ed6" class="i property">TypeNames</a>, <span class="r91 r">listEntry</span>.<a href="displayDescriptionData_List.cs.html#ab619676685153e0" class="i property">EntrySelectedBy</a>.<a href="displayDescriptionData.cs.html#f6e5a365f98e421c" class="i property">SelectionCondition</a>);
            }
 
            <a href="#6108727cbfaaaa5b" class="i method">LoadListControlItemDefinitionsFromObjectModel</a>(<span class="r94 r">lved</span>, <span class="r91 r">listEntry</span>.<a href="displayDescriptionData_List.cs.html#c10497e464c8461a" class="i property">Items</a>, <span class="r92 r">viewIndex</span>, <span class="r93 r">typeName</span>);
            <b>if</b> (<span class="r94 r">lved</span>.<a href="displayDescriptionData_List.cs.html#9a037174143f13fa" class="i field">itemDefinitionList</a> == <b>null</b>)
            {
                <b>return</b> <b>null</b>;
            }
 
            <b>return</b> <span class="r94 r">lved</span>;
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Load ListItems into ListControlItemDefinition.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r95 r">lved</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r96 r">listItems</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r97 r">viewIndex</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r98 r">typeName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <b>private void</b> <a id="6108727cbfaaaa5b" href="../../../R/6108727cbfaaaa5b.html" target="n" data-glyph="76,1" class="i method">LoadListControlItemDefinitionsFromObjectModel</a>(<a href="displayDescriptionData_List.cs.html#81288ec169c3db70" class="t t">ListControlEntryDefinition</a> <span id="r95 rd" class="r95 r">lved</span>, <span class="i">List</span>&lt;<a href="displayDescriptionData_List.cs.html#d0834c53815ad342" class="t t">ListControlEntryItem</a>&gt; <span id="r96 rd" class="r96 r">listItems</span>, <b>int</b> <span id="r97 rd" class="r97 r">viewIndex</span>, <b>string</b> <span id="r98 rd" class="r98 r">typeName</span>)
        {
            <b>foreach</b> (<a href="displayDescriptionData_List.cs.html#d0834c53815ad342" class="t t">ListControlEntryItem</a> <span id="r99 rd" class="r99 r">listItem</span> <b>in</b> <span class="r96 r">listItems</span>)
            {
                <a href="displayDescriptionData_List.cs.html#db6a67326678ba9a" class="t t">ListControlItemDefinition</a> <span id="r100 rd" class="r100 r">lvid</span> = <b>new</b> <span class="t">ListControlItemDefinition</span>();
 
                <span class="c">// Contains:</span>
                <span class="c">//   DisplayEntry --- Expression  cardinality 0..1</span>
                <span class="c">//   Label        --- Label       cardinality 0..1</span>
                <b>if</b> (<span class="r99 r">listItem</span>.<a href="displayDescriptionData_List.cs.html#e69e05bde3391bf8" class="i property">DisplayEntry</a> != <b>null</b>)
                {
                    <a href="displayDescriptionData.cs.html#82a5bbc134cdede1" class="t t">ExpressionToken</a> <span id="r101 rd" class="r101 r">expression</span> = <a href="#0c1021b2501fb778" class="i method">LoadExpressionFromObjectModel</a>(<span class="r99 r">listItem</span>.<a href="displayDescriptionData_List.cs.html#e69e05bde3391bf8" class="i property">DisplayEntry</a>, <span class="r97 r">viewIndex</span>, <span class="r98 r">typeName</span>);
                    <b>if</b> (<span class="r101 r">expression</span> == <b>null</b>)
                    {
                        <span class="r95 r">lved</span>.<a href="displayDescriptionData_List.cs.html#9a037174143f13fa" class="i field">itemDefinitionList</a> = <b>null</b>;
                        <b>return</b>; <span class="c">// fatal</span>
                    }
 
                    <a href="displayDescriptionData.cs.html#b4e928acc71d759e" class="t t">FieldPropertyToken</a> <span id="r102 rd" class="r102 r">fpt</span> = <b>new</b> <span class="t">FieldPropertyToken</span>();
                    <span class="r102 r">fpt</span>.<a href="displayDescriptionData.cs.html#290a24606a772090" class="i field">expression</a> = <span class="r101 r">expression</span>;
                    <span class="r102 r">fpt</span>.<a href="displayDescriptionData.cs.html#995a46da4576f744" class="i field">fieldFormattingDirective</a>.<a href="displayDescriptionData.cs.html#3f9e1708749d83d3" class="i field">formatString</a> = <span class="r99 r">listItem</span>.<a href="displayDescriptionData_List.cs.html#40dd9a776021a410" class="i property">FormatString</a>;
                    <span class="r100 r">lvid</span>.<a href="displayDescriptionData_List.cs.html#6407b8a2f3a89441" class="i field">formatTokenList</a>.<span class="i">Add</span>(<span class="r102 r">fpt</span>);
                }
 
                <b>if</b> (!<b>string</b>.<span class="i">IsNullOrEmpty</span>(<span class="r99 r">listItem</span>.<a href="displayDescriptionData_List.cs.html#93e69304e03a2437" class="i property">Label</a>))
                {
                    <a href="displayDescriptionData.cs.html#9ea056dc3d88f871" class="t t">TextToken</a> <span id="r103 rd" class="r103 r">tt</span> = <b>new</b> <span class="t">TextToken</span>();
                    <span class="r103 r">tt</span>.<a href="displayDescriptionData.cs.html#7b4fb5ae800201aa" class="i field">text</a> = <span class="r99 r">listItem</span>.<a href="displayDescriptionData_List.cs.html#93e69304e03a2437" class="i property">Label</a>;
                    <span class="r100 r">lvid</span>.<a href="displayDescriptionData_List.cs.html#0f788d5d29d01ec2" class="i field">label</a> = <span class="r103 r">tt</span>;
                }
 
                <span class="r95 r">lved</span>.<a href="displayDescriptionData_List.cs.html#9a037174143f13fa" class="i field">itemDefinitionList</a>.<span class="i">Add</span>(<span class="r100 r">lvid</span>);
            }
 
            <span class="c">// we must have at least a definition in th elist</span>
            <b>if</b> (<span class="r95 r">lved</span>.<a href="displayDescriptionData_List.cs.html#9a037174143f13fa" class="i field">itemDefinitionList</a>.<span class="i">Count</span> == 0)
            {
                <span class="c">// Error: At least one list view item must be specified.</span>
                <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#5109b6e3de4bb1b1" class="i method">ReportErrorForLoadingFromObjectModel</a>(
                    <a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">NoListViewItemInFormattingData</span>, <span class="r98 r">typeName</span>, <span class="r97 r">viewIndex</span>), <span class="r98 r">typeName</span>);
                <span class="r95 r">lved</span>.<a href="displayDescriptionData_List.cs.html#9a037174143f13fa" class="i field">itemDefinitionList</a> = <b>null</b>;
                <b>return</b>; <span class="c">// fatal</span>
            }
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span> Load ListControl
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Load WideControl
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Load the WideControl into the WideControlBody.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r104 r">wide</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r105 r">viewIndex</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r106 r">typeName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>private</b> <a href="displayDescriptionData_Wide.cs.html#6fd8600eba3bbaa2" class="t t">WideControlBody</a> <a id="323d60fc6b72b788" href="../../../R/../../0000000000.html" target="n" data-glyph="76,1" class="i method">LoadWideControlFromObjectModel</a>(<a href="displayDescriptionData_Wide.cs.html#05413cd678f4777b" class="t t">WideControl</a> <span id="r104 rd" class="r104 r">wide</span>, <b>int</b> <span id="r105 rd" class="r105 r">viewIndex</span>, <b>string</b> <span id="r106 rd" class="r106 r">typeName</span>)
        {
            <a href="displayDescriptionData_Wide.cs.html#6fd8600eba3bbaa2" class="t t">WideControlBody</a> <span id="r107 rd" class="r107 r">wideBody</span> = <b>new</b> <span class="t">WideControlBody</span>();
 
            <span class="c">// Contains:</span>
            <span class="c">//   Columns --- ColumnNumbers  cardinality 0..1</span>
            <span class="c">//   Entries --- WideEntries    cardinality 1</span>
            <span class="r107 r">wideBody</span>.<a href="displayDescriptionData_Wide.cs.html#da2e42878266c162" class="i field">columns</a> = (<b>int</b>)<span class="r104 r">wide</span>.<a href="displayDescriptionData_Wide.cs.html#a69d31d155bf74ea" class="i property">Columns</a>;
 
            <b>if</b> (<span class="r104 r">wide</span>.<a href="displayDescriptionData_Wide.cs.html#ba9536686d4b2448" class="i property">AutoSize</a>)
                <span class="r107 r">wideBody</span>.<a href="displayDescriptionData.cs.html#5dde2d85b74b9d51" class="i field">autosize</a> = <b>true</b>;
 
            <a href="#5ae9c34ab7a60605" class="i method">LoadWideControlEntriesFromObjectModel</a>(<span class="r107 r">wideBody</span>, <span class="r104 r">wide</span>.<a href="displayDescriptionData_Wide.cs.html#031e76f3060590f9" class="i property">Entries</a>, <span class="r105 r">viewIndex</span>, <span class="r106 r">typeName</span>);
            <b>if</b> (<span class="r107 r">wideBody</span>.<a href="displayDescriptionData_Wide.cs.html#d3d79f21633d7d74" class="i field">defaultEntryDefinition</a> == <b>null</b>)
            {
                <span class="c">// if we have no default entry definition, it means there was a failure</span>
                <b>return</b> <b>null</b>;
            }
 
            <b>return</b> <span class="r107 r">wideBody</span>;
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Load WideEntries.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r108 r">wideBody</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r109 r">wideEntries</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r110 r">viewIndex</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r111 r">typeName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <b>private void</b> <a id="5ae9c34ab7a60605" href="../../../R/5ae9c34ab7a60605.html" target="n" data-glyph="76,1" class="i method">LoadWideControlEntriesFromObjectModel</a>(<a href="displayDescriptionData_Wide.cs.html#6fd8600eba3bbaa2" class="t t">WideControlBody</a> <span id="r108 rd" class="r108 r">wideBody</span>, <span class="i">List</span>&lt;<a href="displayDescriptionData_Wide.cs.html#ab1e040d09a19665" class="t t">WideControlEntryItem</a>&gt; <span id="r109 rd" class="r109 r">wideEntries</span>, <b>int</b> <span id="r110 rd" class="r110 r">viewIndex</span>, <b>string</b> <span id="r111 rd" class="r111 r">typeName</span>)
        {
            <b>foreach</b> (<a href="displayDescriptionData_Wide.cs.html#ab1e040d09a19665" class="t t">WideControlEntryItem</a> <span id="r112 rd" class="r112 r">wideItem</span> <b>in</b> <span class="r109 r">wideEntries</span>)
            {
                <a href="displayDescriptionData_Wide.cs.html#96508af7b392a793" class="t t">WideControlEntryDefinition</a> <span id="r113 rd" class="r113 r">wved</span> = <a href="#41e4b80f4e2acd8f" class="i method">LoadWideControlEntryFromObjectModel</a>(<span class="r112 r">wideItem</span>, <span class="r110 r">viewIndex</span>, <span class="r111 r">typeName</span>);
                <b>if</b> (<span class="r113 r">wved</span> == <b>null</b>)
                {
                    <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#5109b6e3de4bb1b1" class="i method">ReportErrorForLoadingFromObjectModel</a>(
                        <a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">InvalidFormattingData</span>, <span class="r111 r">typeName</span>, <span class="r110 r">viewIndex</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#f3f4c94e806cd702" class="i field">WideEntryNode</a>), <span class="r111 r">typeName</span>);
                    <span class="r108 r">wideBody</span>.<a href="displayDescriptionData_Wide.cs.html#d3d79f21633d7d74" class="i field">defaultEntryDefinition</a> = <b>null</b>;
                    <b>return</b>;
                }
 
                <span class="c">// determine if we have a default entry and if it&#39;s already set</span>
                <b>if</b> (<span class="r113 r">wved</span>.<a href="displayDescriptionData_Wide.cs.html#58ab60ca28afd21c" class="i field">appliesTo</a> == <b>null</b>)
                {
                    <b>if</b> (<span class="r108 r">wideBody</span>.<a href="displayDescriptionData_Wide.cs.html#d3d79f21633d7d74" class="i field">defaultEntryDefinition</a> == <b>null</b>)
                    {
                        <span class="r108 r">wideBody</span>.<a href="displayDescriptionData_Wide.cs.html#d3d79f21633d7d74" class="i field">defaultEntryDefinition</a> = <span class="r113 r">wved</span>;
                    }
                    <b>else</b>
                    {
                        <span class="c">// Error at XPath {0} in file {1}: There cannot be more than one default {2}.</span>
                        <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#5109b6e3de4bb1b1" class="i method">ReportErrorForLoadingFromObjectModel</a>(
                            <a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">TooManyDefaultShapeEntryInFormattingData</span>, <span class="r111 r">typeName</span>, <span class="r110 r">viewIndex</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#f3f4c94e806cd702" class="i field">WideEntryNode</a>), <span class="r111 r">typeName</span>);
                        <span class="r108 r">wideBody</span>.<a href="displayDescriptionData_Wide.cs.html#d3d79f21633d7d74" class="i field">defaultEntryDefinition</a> = <b>null</b>;
                        <b>return</b>; <span class="c">// fatal error</span>
                    }
                }
                <b>else</b>
                {
                    <span class="r108 r">wideBody</span>.<a href="displayDescriptionData_Wide.cs.html#79665264f372060c" class="i field">optionalEntryList</a>.<span class="i">Add</span>(<span class="r113 r">wved</span>);
                }
            }
 
            <b>if</b> (<span class="r108 r">wideBody</span>.<a href="displayDescriptionData_Wide.cs.html#d3d79f21633d7d74" class="i field">defaultEntryDefinition</a> == <b>null</b>)
            {
                <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#5109b6e3de4bb1b1" class="i method">ReportErrorForLoadingFromObjectModel</a>(
                    <a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">NoDefaultShapeEntryInFormattingData</span>, <span class="r111 r">typeName</span>, <span class="r110 r">viewIndex</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#f3f4c94e806cd702" class="i field">WideEntryNode</a>), <span class="r111 r">typeName</span>);
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Load WideEntry into WieControlEntryDefinition.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r114 r">wideItem</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r115 r">viewIndex</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r116 r">typeName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>private</b> <a href="displayDescriptionData_Wide.cs.html#96508af7b392a793" class="t t">WideControlEntryDefinition</a> <a id="41e4b80f4e2acd8f" href="../../../R/41e4b80f4e2acd8f.html" target="n" data-glyph="76,1" class="i method">LoadWideControlEntryFromObjectModel</a>(<a href="displayDescriptionData_Wide.cs.html#ab1e040d09a19665" class="t t">WideControlEntryItem</a> <span id="r114 rd" class="r114 r">wideItem</span>, <b>int</b> <span id="r115 rd" class="r115 r">viewIndex</span>, <b>string</b> <span id="r116 rd" class="r116 r">typeName</span>)
        {
            <a href="displayDescriptionData_Wide.cs.html#96508af7b392a793" class="t t">WideControlEntryDefinition</a> <span id="r117 rd" class="r117 r">wved</span> = <b>new</b> <span class="t">WideControlEntryDefinition</span>();
 
            <span class="c">// Contains:</span>
            <span class="c">//   SelectedBy   --- EntrySelectedBy (TypeName)  cardinality 0..1</span>
            <span class="c">//   DisplayEntry --- WideItem (Expression)       cardinality 1</span>
            <span class="c">// process selectedBy property</span>
            <b>if</b> (<span class="r114 r">wideItem</span>.<a href="displayDescriptionData_Wide.cs.html#5e3dd1099dddc6fb" class="i property">EntrySelectedBy</a> != <b>null</b>)
            {
                <span class="r117 r">wved</span>.<a href="displayDescriptionData_Wide.cs.html#58ab60ca28afd21c" class="i field">appliesTo</a> = <a href="#0fcc9d9fe58c3b7e" class="i method">LoadAppliesToSectionFromObjectModel</a>(<span class="r114 r">wideItem</span>.<a href="displayDescriptionData_Wide.cs.html#5e3dd1099dddc6fb" class="i property">EntrySelectedBy</a>.<a href="displayDescriptionData.cs.html#cd692e73c9519ed6" class="i property">TypeNames</a>, <span class="r114 r">wideItem</span>.<a href="displayDescriptionData_Wide.cs.html#5e3dd1099dddc6fb" class="i property">EntrySelectedBy</a>.<a href="displayDescriptionData.cs.html#f6e5a365f98e421c" class="i property">SelectionCondition</a>);
            }
 
            <span class="c">// process displayEntry property</span>
            <a href="displayDescriptionData.cs.html#82a5bbc134cdede1" class="t t">ExpressionToken</a> <span id="r118 rd" class="r118 r">expression</span> = <a href="#0c1021b2501fb778" class="i method">LoadExpressionFromObjectModel</a>(<span class="r114 r">wideItem</span>.<a href="displayDescriptionData_Wide.cs.html#946f08dc9f355afd" class="i property">DisplayEntry</a>, <span class="r115 r">viewIndex</span>, <span class="r116 r">typeName</span>);
            <b>if</b> (<span class="r118 r">expression</span> == <b>null</b>)
            {
                <b>return</b> <b>null</b>; <span class="c">// fatal</span>
            }
 
            <a href="displayDescriptionData.cs.html#b4e928acc71d759e" class="t t">FieldPropertyToken</a> <span id="r119 rd" class="r119 r">fpt</span> = <b>new</b> <span class="t">FieldPropertyToken</span>();
            <span class="r119 r">fpt</span>.<a href="displayDescriptionData.cs.html#290a24606a772090" class="i field">expression</a> = <span class="r118 r">expression</span>;
            <span class="r119 r">fpt</span>.<a href="displayDescriptionData.cs.html#995a46da4576f744" class="i field">fieldFormattingDirective</a>.<a href="displayDescriptionData.cs.html#3f9e1708749d83d3" class="i field">formatString</a> = <span class="r114 r">wideItem</span>.<a href="displayDescriptionData_Wide.cs.html#c40b4537d783b1e3" class="i property">FormatString</a>;
            <span class="r117 r">wved</span>.<a href="displayDescriptionData_Wide.cs.html#804db128d463295b" class="i field">formatTokenList</a>.<span class="i">Add</span>(<span class="r119 r">fpt</span>);
 
            <b>return</b> <span class="r117 r">wved</span>;
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span> Load WideControl
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Load CustomControl
 
        <b>private</b> <a href="displayDescriptionData_Complex.cs.html#7a2c532347a3934e" class="t t">ComplexControlBody</a> <a id="16e8616cfd40c0f4" href="../../../R/16e8616cfd40c0f4.html" target="n" data-glyph="76,1" class="i method">LoadCustomControlFromObjectModel</a>(<a href="displayDescriptionData_Complex.cs.html#fb8209059b0d94bb" class="t t">CustomControl</a> <span id="r120 rd" class="r120 r">custom</span>, <b>int</b> <span id="r121 rd" class="r121 r">viewIndex</span>, <b>string</b> <span id="r122 rd" class="r122 r">typeName</span>)
        {
            <b>if</b> (<span class="r120 r">custom</span>.<a href="displayDescriptionData_Complex.cs.html#4f04adc03978c714" class="i field">_cachedBody</a> != <b>null</b>)
                <b>return</b> <span class="r120 r">custom</span>.<a href="displayDescriptionData_Complex.cs.html#4f04adc03978c714" class="i field">_cachedBody</a>;
 
            <a href="displayDescriptionData_Complex.cs.html#7a2c532347a3934e" class="k">var</a> <span id="r123 rd" class="r123 r">ccb</span> = <b>new</b> <span class="t">ComplexControlBody</span>();
 
            <b>foreach</b> (<b>var</b> <span id="r124 rd" class="r124 r">entry</span> <b>in</b> <span class="r120 r">custom</span>.<a href="displayDescriptionData_Complex.cs.html#f7141e607124ed02" class="i property">Entries</a>)
            {
                <a href="displayDescriptionData_Complex.cs.html#f45a1bce8f5f571d" class="k">var</a> <span id="r125 rd" class="r125 r">cced</span> = <span class="i">LoadComplexControlEntryDefinitionFromObjectModel</span>(<span class="r124 r">entry</span>, <span class="r121 r">viewIndex</span>, <span class="r122 r">typeName</span>);
                <b>if</b> (<span class="r125 r">cced</span>.<a href="displayDescriptionData_Complex.cs.html#566a2784c455086f" class="i field">appliesTo</a> == <b>null</b>)
                {
                    <span class="r123 r">ccb</span>.<a href="displayDescriptionData_Complex.cs.html#b7e4fd11cf1878b2" class="i field">defaultEntry</a> = <span class="r125 r">cced</span>;
                }
                <b>else</b>
                {
                    <span class="r123 r">ccb</span>.<a href="displayDescriptionData_Complex.cs.html#174fdbef536fb93b" class="i field">optionalEntryList</a>.<span class="i">Add</span>(<span class="r125 r">cced</span>);
                }
            }
 
            <span class="i">Interlocked</span>.<span class="i">CompareExchange</span>(<b>ref</b> <span class="r120 r">custom</span>.<a href="displayDescriptionData_Complex.cs.html#4f04adc03978c714" class="i field">_cachedBody</a>, <span class="r123 r">ccb</span>, <b>null</b>);
            <b>return</b> <span class="r123 r">ccb</span>;
        }
 
        <b>private</b> <a href="displayDescriptionData_Complex.cs.html#f45a1bce8f5f571d" class="t t">ComplexControlEntryDefinition</a> <a id="f40944de94dfd2df" href="../../../R/../../0000000000.html" target="n" data-glyph="76,1" class="i method">LoadComplexControlEntryDefinitionFromObjectModel</a>(<a href="displayDescriptionData_Complex.cs.html#a7c2e8cb994c8339" class="t t">CustomControlEntry</a> <span id="r126 rd" class="r126 r">entry</span>, <b>int</b> <span id="r127 rd" class="r127 r">viewIndex</span>, <b>string</b> <span id="r128 rd" class="r128 r">typeName</span>)
        {
            <a href="displayDescriptionData_Complex.cs.html#f45a1bce8f5f571d" class="k">var</a> <span id="r129 rd" class="r129 r">cced</span> = <b>new</b> <span class="t">ComplexControlEntryDefinition</span>();
            <b>if</b> (<span class="r126 r">entry</span>.<a href="displayDescriptionData_Complex.cs.html#859f4591a1f37fa9" class="i property">SelectedBy</a> != <b>null</b>)
            {
                <span class="r129 r">cced</span>.<a href="displayDescriptionData_Complex.cs.html#566a2784c455086f" class="i field">appliesTo</a> = <a href="#0fcc9d9fe58c3b7e" class="i method">LoadAppliesToSectionFromObjectModel</a>(<span class="r126 r">entry</span>.<a href="displayDescriptionData_Complex.cs.html#859f4591a1f37fa9" class="i property">SelectedBy</a>.<a href="displayDescriptionData.cs.html#cd692e73c9519ed6" class="i property">TypeNames</a>, <span class="r126 r">entry</span>.<a href="displayDescriptionData_Complex.cs.html#859f4591a1f37fa9" class="i property">SelectedBy</a>.<a href="displayDescriptionData.cs.html#f6e5a365f98e421c" class="i property">SelectionCondition</a>);
            }
 
            <b>foreach</b> (<b>var</b> <span id="r130 rd" class="r130 r">item</span> <b>in</b> <span class="r126 r">entry</span>.<a href="displayDescriptionData_Complex.cs.html#f49790bf8be7823b" class="i property">CustomItems</a>)
            {
                <span class="r129 r">cced</span>.<a href="displayDescriptionData_Complex.cs.html#2e6c7078199a0a87" class="i field">itemDefinition</a>.<a href="displayDescriptionData_Complex.cs.html#6ec68525c45d8456" class="i field">formatTokenList</a>.<span class="i">Add</span>(<span class="i">LoadFormatTokenFromObjectModel</span>(<span class="r130 r">item</span>, <span class="r127 r">viewIndex</span>, <span class="r128 r">typeName</span>));
            }
 
            <b>return</b> <span class="r129 r">cced</span>;
        }
 
        <b>private</b> <a href="displayDescriptionData.cs.html#3165e4839d638a14" class="t t">FormatToken</a> <a id="14941ec3cc716b9f" href="../../../R/../../0000000000.html" target="n" data-glyph="76,1" class="i method">LoadFormatTokenFromObjectModel</a>(<a href="displayDescriptionData_Complex.cs.html#c0bc0eb3b8fe54ed" class="t t">CustomItemBase</a> <span id="r131 rd" class="r131 r">item</span>, <b>int</b> <span id="r132 rd" class="r132 r">viewIndex</span>, <b>string</b> <span id="r133 rd" class="r133 r">typeName</span>)
        {
            <a href="displayDescriptionData_Complex.cs.html#52a96854438dccab" class="k">var</a> <span id="r134 rd" class="r134 r">newline</span> = <span class="r131 r">item</span> <b>as</b> <a href="displayDescriptionData_Complex.cs.html#52a96854438dccab" class="t t">CustomItemNewline</a>;
            <b>if</b> (<span class="r134 r">newline</span> != <b>null</b>)
            {
                <b>return</b> <b>new</b> <span class="t">NewLineToken</span> { <a href="displayDescriptionData.cs.html#20917f3293ed14b3" class="i field">count</a> = <span class="r134 r">newline</span>.<a href="displayDescriptionData_Complex.cs.html#8108962f5fb3e409" class="i property">Count</a> };
            }
 
            <a href="displayDescriptionData_Complex.cs.html#f453f8c422da83be" class="k">var</a> <span id="r135 rd" class="r135 r">text</span> = <span class="r131 r">item</span> <b>as</b> <a href="displayDescriptionData_Complex.cs.html#f453f8c422da83be" class="t t">CustomItemText</a>;
            <b>if</b> (<span class="r135 r">text</span> != <b>null</b>)
            {
                <b>return</b> <b>new</b> <span class="t">TextToken</span> { <a href="displayDescriptionData.cs.html#7b4fb5ae800201aa" class="i field">text</a> = <span class="r135 r">text</span>.<a href="displayDescriptionData_Complex.cs.html#9ccc3fd090fc0f86" class="i property">Text</a> };
            }
 
            <a href="displayDescriptionData_Complex.cs.html#c1e93f76e8cdd84a" class="k">var</a> <span id="r136 rd" class="r136 r">expr</span> = <span class="r131 r">item</span> <b>as</b> <a href="displayDescriptionData_Complex.cs.html#c1e93f76e8cdd84a" class="t t">CustomItemExpression</a>;
            <b>if</b> (<span class="r136 r">expr</span> != <b>null</b>)
            {
                <a href="displayDescriptionData.cs.html#2fef245f1232b6cc" class="k">var</a> <span id="r137 rd" class="r137 r">cpt</span> = <b>new</b> <span class="t">CompoundPropertyToken</span> { <a href="displayDescriptionData.cs.html#b8143f210ef4f18c" class="i field">enumerateCollection</a> = <span class="r136 r">expr</span>.<a href="displayDescriptionData_Complex.cs.html#470749defc285826" class="i property">EnumerateCollection</a> };
 
                <b>if</b> (<span class="r136 r">expr</span>.<a href="displayDescriptionData_Complex.cs.html#6c91a4f6e26b3af7" class="i property">ItemSelectionCondition</a> != <b>null</b>)
                {
                    <span class="r137 r">cpt</span>.<a href="displayDescriptionData.cs.html#bc89f26dd68ecce3" class="i field">conditionToken</a> = <a href="#0c1021b2501fb778" class="i method">LoadExpressionFromObjectModel</a>(<span class="r136 r">expr</span>.<a href="displayDescriptionData_Complex.cs.html#6c91a4f6e26b3af7" class="i property">ItemSelectionCondition</a>, <span class="r132 r">viewIndex</span>, <span class="r133 r">typeName</span>);
                }
 
                <b>if</b> (<span class="r136 r">expr</span>.<a href="displayDescriptionData_Complex.cs.html#84e5d2b6c125cbe8" class="i property">Expression</a> != <b>null</b>)
                {
                    <span class="r137 r">cpt</span>.<a href="displayDescriptionData.cs.html#290a24606a772090" class="i field">expression</a> = <a href="#0c1021b2501fb778" class="i method">LoadExpressionFromObjectModel</a>(<span class="r136 r">expr</span>.<a href="displayDescriptionData_Complex.cs.html#84e5d2b6c125cbe8" class="i property">Expression</a>, <span class="r132 r">viewIndex</span>, <span class="r133 r">typeName</span>);
                }
 
                <b>if</b> (<span class="r136 r">expr</span>.<a href="displayDescriptionData_Complex.cs.html#bba179c9a85e42f8" class="i property">CustomControl</a> != <b>null</b>)
                {
                    <span class="r137 r">cpt</span>.<a href="displayDescriptionData.cs.html#7a9545ab76072c90" class="i field">control</a> = <a href="#16e8616cfd40c0f4" class="i method">LoadCustomControlFromObjectModel</a>(<span class="r136 r">expr</span>.<a href="displayDescriptionData_Complex.cs.html#bba179c9a85e42f8" class="i property">CustomControl</a>, <span class="r132 r">viewIndex</span>, <span class="r133 r">typeName</span>);
                }
 
                <b>return</b> <span class="r137 r">cpt</span>;
            }
 
            <a href="displayDescriptionData_Complex.cs.html#200cf1eb48d34b81" class="k">var</a> <span id="r138 rd" class="r138 r">frame</span> = (<a href="displayDescriptionData_Complex.cs.html#200cf1eb48d34b81" class="t t">CustomItemFrame</a>)<span class="r131 r">item</span>;
            <a href="displayDescriptionData.cs.html#fbfb7a1c796e4583" class="k">var</a> <span id="r139 rd" class="r139 r">frameToken</span> = <b>new</b> <span class="t">FrameToken</span>
            {
                <a href="displayDescriptionData.cs.html#ca4e66c87c45b617" class="i field">frameInfoDefinition</a> =
                {
                    <a href="displayDescriptionData.cs.html#1cdf969f8416851b" class="i field">leftIndentation</a> = (<b>int</b>)<span class="r138 r">frame</span>.<a href="displayDescriptionData_Complex.cs.html#a78e7c63b79990c4" class="i property">LeftIndent</a>,
                    <a href="displayDescriptionData.cs.html#b345a59343577c2f" class="i field">rightIndentation</a> = (<b>int</b>)<span class="r138 r">frame</span>.<a href="displayDescriptionData_Complex.cs.html#b851165dc9c289ad" class="i property">RightIndent</a>,
                    <a href="displayDescriptionData.cs.html#b7d2dcd04c6f327f" class="i field">firstLine</a> = <span class="r138 r">frame</span>.<a href="displayDescriptionData_Complex.cs.html#09f9cf9ee7ec46ff" class="i property">FirstLineHanging</a> != 0 ? -(<b>int</b>)<span class="r138 r">frame</span>.<a href="displayDescriptionData_Complex.cs.html#09f9cf9ee7ec46ff" class="i property">FirstLineHanging</a> : (<b>int</b>)<span class="r138 r">frame</span>.<a href="displayDescriptionData_Complex.cs.html#d6da2961b76bae85" class="i property">FirstLineIndent</a>
                }
            };
 
            <b>foreach</b> (<b>var</b> <span id="r140 rd" class="r140 r">i</span> <b>in</b> <span class="r138 r">frame</span>.<a href="displayDescriptionData_Complex.cs.html#9daec3fb6f0670d6" class="i property">CustomItems</a>)
            {
                <span class="r139 r">frameToken</span>.<a href="displayDescriptionData.cs.html#65ae9878360152fd" class="i field">itemDefinition</a>.<a href="displayDescriptionData_Complex.cs.html#6ec68525c45d8456" class="i field">formatTokenList</a>.<span class="i">Add</span>(<span class="i">LoadFormatTokenFromObjectModel</span>(<span class="r140 r">i</span>, <span class="r132 r">viewIndex</span>, <span class="r133 r">typeName</span>));
            }
 
            <b>return</b> <span class="r139 r">frameToken</span>;
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span> Load Custom Control
 
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span> load formatting data from FormatViewDefinition
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Default Settings Loading
 
        <b>private void</b> <a id="c9e2471b55fcc312" href="../../../R/c9e2471b55fcc312.html" target="n" data-glyph="76,1" class="i method">LoadDefaultSettings</a>(<a href="../../../P/e64c182db20ea05c.html#e64c182db20ea05c" class="t t">TypeInfoDataBase</a> <span id="r141 rd" class="r141 r">db</span>, <span class="i">XmlNode</span> <span id="r142 rd" class="r142 r">defaultSettingsNode</span>)
        {
            <span class="c">// all these nodes are of [0..1] cardinality</span>
            <b>bool</b> <span id="r143 rd" class="r143 r">propertyCountForTableFound</span> = <b>false</b>;
            <b>bool</b> <span id="r144 rd" class="r144 r">showErrorsAsMessagesFound</span> = <b>false</b>;
            <b>bool</b> <span id="r145 rd" class="r145 r">showErrorsInFormattedOutputFound</span> = <b>false</b>;
            <b>bool</b> <span id="r146 rd" class="r146 r">enumerableExpansionsFound</span> = <b>false</b>;
            <b>bool</b> <span id="r147 rd" class="r147 r">multilineTablesFound</span> = <b>false</b>;
 
            <b>bool</b> <span id="r148 rd" class="r148 r">tempVal</span>;
 
            <b>using</b> (<a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#7e1b21c2c0328cf1" class="i method">StackFrame</a>(<span class="r142 r">defaultSettingsNode</span>))
            {
                <b>foreach</b> (<span class="i">XmlNode</span> <span id="r149 rd" class="r149 r">n</span> <b>in</b> <span class="r142 r">defaultSettingsNode</span>.<span class="i">ChildNodes</span>)
                {
                    <b>if</b> (<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r149 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#61f4e632f599e801" class="i field">ShowErrorsAsMessagesNode</a>))
                    {
                        <b>if</b> (<span class="r144 r">showErrorsAsMessagesFound</span>)
                        {
                            <a href="XmlLoaderBase.cs.html#92faf1fee4b3e75a" class="i method">ProcessDuplicateNode</a>(<span class="r149 r">n</span>);
                        }
 
                        <span class="r144 r">showErrorsAsMessagesFound</span> = <b>true</b>;
                        <b>if</b> (<a href="typeDataXmlLoader_Complex.cs.html#7dead30431909994" class="i method">ReadBooleanNode</a>(<span class="r149 r">n</span>, <b>out</b> <span class="r148 r">tempVal</span>))
                            <span class="r141 r">db</span>.<a href="displayDescriptionData.cs.html#5d5797f04122ce29" class="i field">defaultSettingsSection</a>.<a href="displayDescriptionData.cs.html#4f1082348c20feed" class="i field">formatErrorPolicy</a>.<a href="displayDescriptionData.cs.html#4bb7858f6fc0148a" class="i property">ShowErrorsAsMessages</a> = <span class="r148 r">tempVal</span>;
                    }
                    <b>else</b> <b>if</b> (<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r149 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#87b490a02f00b173" class="i field">ShowErrorsInFormattedOutputNode</a>))
                    {
                        <b>if</b> (<span class="r145 r">showErrorsInFormattedOutputFound</span>)
                        {
                            <a href="XmlLoaderBase.cs.html#92faf1fee4b3e75a" class="i method">ProcessDuplicateNode</a>(<span class="r149 r">n</span>);
                        }
 
                        <span class="r145 r">showErrorsInFormattedOutputFound</span> = <b>true</b>;
                        <b>if</b> (<a href="typeDataXmlLoader_Complex.cs.html#7dead30431909994" class="i method">ReadBooleanNode</a>(<span class="r149 r">n</span>, <b>out</b> <span class="r148 r">tempVal</span>))
                            <span class="r141 r">db</span>.<a href="displayDescriptionData.cs.html#5d5797f04122ce29" class="i field">defaultSettingsSection</a>.<a href="displayDescriptionData.cs.html#4f1082348c20feed" class="i field">formatErrorPolicy</a>.<a href="displayDescriptionData.cs.html#8539dcca38fb4f53" class="i property">ShowErrorsInFormattedOutput</a> = <span class="r148 r">tempVal</span>;
                    }
                    <b>else</b> <b>if</b> (<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r149 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#1333364a41746a4b" class="i field">PropertyCountForTableNode</a>))
                    {
                        <b>if</b> (<span class="r143 r">propertyCountForTableFound</span>)
                        {
                            <a href="XmlLoaderBase.cs.html#92faf1fee4b3e75a" class="i method">ProcessDuplicateNode</a>(<span class="r149 r">n</span>);
                        }
 
                        <span class="r143 r">propertyCountForTableFound</span> = <b>true</b>;
                        <b>int</b> <span id="r150 rd" class="r150 r">val</span>;
                        <b>if</b> (<a href="typeDataXmlLoader_Table.cs.html#cbe16abb9b483984" class="i method">ReadPositiveIntegerValue</a>(<span class="r149 r">n</span>, <b>out</b> <span class="r150 r">val</span>))
                        {
                            <span class="r141 r">db</span>.<a href="displayDescriptionData.cs.html#5d5797f04122ce29" class="i field">defaultSettingsSection</a>.<a href="displayDescriptionData.cs.html#ca1c6165e6b3b47a" class="i field">shapeSelectionDirectives</a>.<a href="displayDescriptionData.cs.html#48752cb0977a5340" class="i property">PropertyCountForTable</a> = <span class="r150 r">val</span>;
                        }
                        <b>else</b>
                        {
                            <span class="c">// Error at XPath {0} in file {1}: Invalid {2} value.</span>
                            <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#db3c8d17c0ceaeb5" class="i method">ReportError</a>(<a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">InvalidNodeValue</span>, <a href="XmlLoaderBase.cs.html#1b9e969885176790" class="i method">ComputeCurrentXPath</a>(), <a href="XmlLoaderBase.cs.html#6b0418522d2dfb04" class="i property">FilePath</a>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#1333364a41746a4b" class="i field">PropertyCountForTableNode</a>));
                        }
                    }
                    <b>else</b> <b>if</b> (<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r149 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#9b21fd85e8ea16a6" class="i field">MultilineTablesNode</a>))
                    {
                        <b>if</b> (<span class="r147 r">multilineTablesFound</span>)
                        {
                            <a href="XmlLoaderBase.cs.html#92faf1fee4b3e75a" class="i method">ProcessDuplicateNode</a>(<span class="r149 r">n</span>);
                        }
 
                        <span class="r147 r">multilineTablesFound</span> = <b>true</b>;
                        <b>if</b> (<a href="typeDataXmlLoader_Complex.cs.html#7dead30431909994" class="i method">ReadBooleanNode</a>(<span class="r149 r">n</span>, <b>out</b> <span class="r148 r">tempVal</span>))
                        {
                            <span class="r141 r">db</span>.<a href="displayDescriptionData.cs.html#5d5797f04122ce29" class="i field">defaultSettingsSection</a>.<a href="displayDescriptionData.cs.html#eee13633184daeb6" class="i property">MultilineTables</a> = <span class="r148 r">tempVal</span>;
                        }
                        <b>else</b>
                        {
                            <span class="c">// Error at XPath {0} in file {1}: Invalid {2} value.</span>
                            <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#db3c8d17c0ceaeb5" class="i method">ReportError</a>(<a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">InvalidNodeValue</span>, <a href="XmlLoaderBase.cs.html#1b9e969885176790" class="i method">ComputeCurrentXPath</a>(), <a href="XmlLoaderBase.cs.html#6b0418522d2dfb04" class="i property">FilePath</a>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#9b21fd85e8ea16a6" class="i field">MultilineTablesNode</a>));
                        }
                    }
                    <b>else</b> <b>if</b> (<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r149 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#9cc5287eda2e56ec" class="i field">EnumerableExpansionsNode</a>))
                    {
                        <b>if</b> (<span class="r146 r">enumerableExpansionsFound</span>)
                        {
                            <a href="XmlLoaderBase.cs.html#92faf1fee4b3e75a" class="i method">ProcessDuplicateNode</a>(<span class="r149 r">n</span>);
                        }
 
                        <span class="r146 r">enumerableExpansionsFound</span> = <b>true</b>;
                        <span class="r141 r">db</span>.<a href="displayDescriptionData.cs.html#5d5797f04122ce29" class="i field">defaultSettingsSection</a>.<a href="displayDescriptionData.cs.html#55f15b1be159f070" class="i field">enumerableExpansionDirectiveList</a> =
                            <a href="#2b3a5cdd4082fc21" class="i method">LoadEnumerableExpansionDirectiveList</a>(<span class="r149 r">n</span>);
                    }
                    <b>else</b>
                    {
                        <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#749fc461c72a3868" class="i method">ProcessUnknownNode</a>(<span class="r149 r">n</span>);
                    }
                }
            }
        }
 
        <b>private</b> <span class="i">List</span>&lt;<a href="displayDescriptionData.cs.html#b15af672d477dd31" class="t t">EnumerableExpansionDirective</a>&gt; <a id="2b3a5cdd4082fc21" href="../../../R/2b3a5cdd4082fc21.html" target="n" data-glyph="76,1" class="i method">LoadEnumerableExpansionDirectiveList</a>(<span class="i">XmlNode</span> <span id="r151 rd" class="r151 r">expansionListNode</span>)
        {
            <span class="i">List</span>&lt;<a href="displayDescriptionData.cs.html#b15af672d477dd31" class="t t">EnumerableExpansionDirective</a>&gt; <span id="r152 rd" class="r152 r">retVal</span> =
                                <b>new</b> <span class="i">List</span>&lt;<a href="displayDescriptionData.cs.html#b15af672d477dd31" class="t t">EnumerableExpansionDirective</a>&gt;();
            <b>using</b> (<a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#7e1b21c2c0328cf1" class="i method">StackFrame</a>(<span class="r151 r">expansionListNode</span>))
            {
                <b>int</b> <span id="r153 rd" class="r153 r">k</span> = 0;
                <b>foreach</b> (<span class="i">XmlNode</span> <span id="r154 rd" class="r154 r">n</span> <b>in</b> <span class="r151 r">expansionListNode</span>.<span class="i">ChildNodes</span>)
                {
                    <b>if</b> (<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r154 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#55c48992651b31e5" class="i field">EnumerableExpansionNode</a>))
                    {
                        <a href="displayDescriptionData.cs.html#b15af672d477dd31" class="t t">EnumerableExpansionDirective</a> <span id="r155 rd" class="r155 r">eed</span> = <span class="i">LoadEnumerableExpansionDirective</span>(<span class="r154 r">n</span>, <span class="r153 r">k</span>++);
                        <b>if</b> (<span class="r155 r">eed</span> == <b>null</b>)
                        {
                            <span class="c">// Error at XPath {0} in file {1}: {2} failed to load.</span>
                            <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#db3c8d17c0ceaeb5" class="i method">ReportError</a>(<a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">LoadTagFailed</span>, <a href="XmlLoaderBase.cs.html#1b9e969885176790" class="i method">ComputeCurrentXPath</a>(), <a href="XmlLoaderBase.cs.html#6b0418522d2dfb04" class="i property">FilePath</a>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#55c48992651b31e5" class="i field">EnumerableExpansionNode</a>));
                            <b>return</b> <b>null</b>; <span class="c">// fatal error</span>
                        }
 
                        <span class="r152 r">retVal</span>.<span class="i">Add</span>(<span class="r155 r">eed</span>);
                    }
                    <b>else</b>
                    {
                        <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#749fc461c72a3868" class="i method">ProcessUnknownNode</a>(<span class="r154 r">n</span>);
                    }
                }
            }
 
            <b>return</b> <span class="r152 r">retVal</span>;
        }
 
        <b>private</b> <a href="displayDescriptionData.cs.html#b15af672d477dd31" class="t t">EnumerableExpansionDirective</a> <a id="b1473ddba77b3e86" href="../../../R/../../0000000000.html" target="n" data-glyph="76,1" class="i method">LoadEnumerableExpansionDirective</a>(<span class="i">XmlNode</span> <span id="r156 rd" class="r156 r">directive</span>, <b>int</b> <span id="r157 rd" class="r157 r">index</span>)
        {
            <b>using</b> (<a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#b3899680a865af06" class="i method">StackFrame</a>(<span class="r156 r">directive</span>, <span class="r157 r">index</span>))
            {
                <a href="displayDescriptionData.cs.html#b15af672d477dd31" class="t t">EnumerableExpansionDirective</a> <span id="r158 rd" class="r158 r">eed</span> = <b>new</b> <span class="t">EnumerableExpansionDirective</span>();
 
                <b>bool</b> <span id="r159 rd" class="r159 r">appliesToNodeFound</span> = <b>false</b>;    <span class="c">// cardinality 1</span>
                <b>bool</b> <span id="r160 rd" class="r160 r">expandNodeFound</span> = <b>false</b>;    <span class="c">// cardinality 1</span>
 
                <b>foreach</b> (<span class="i">XmlNode</span> <span id="r161 rd" class="r161 r">n</span> <b>in</b> <span class="r156 r">directive</span>.<span class="i">ChildNodes</span>)
                {
                    <b>if</b> (<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r161 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#81993d0a9838789a" class="i field">EntrySelectedByNode</a>))
                    {
                        <b>if</b> (<span class="r159 r">appliesToNodeFound</span>)
                        {
                            <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#92faf1fee4b3e75a" class="i method">ProcessDuplicateNode</a>(<span class="r161 r">n</span>);
                            <b>return</b> <b>null</b>; <span class="c">// fatal</span>
                        }
 
                        <span class="r159 r">appliesToNodeFound</span> = <b>true</b>;
                        <span class="r158 r">eed</span>.<a href="displayDescriptionData.cs.html#8dbb170f78b5230a" class="i field">appliesTo</a> = <a href="#d0329fd2bde3df3d" class="i method">LoadAppliesToSection</a>(<span class="r161 r">n</span>, <b>true</b>);
                    }
                    <b>else</b> <b>if</b> (<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r161 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#294b4212142e4b03" class="i field">ExpandNode</a>))
                    {
                        <b>if</b> (<span class="r160 r">expandNodeFound</span>)
                        {
                            <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#92faf1fee4b3e75a" class="i method">ProcessDuplicateNode</a>(<span class="r161 r">n</span>);
                            <b>return</b> <b>null</b>; <span class="c">// fatal</span>
                        }
 
                        <span class="r160 r">expandNodeFound</span> = <b>true</b>;
                        <b>string</b> <span id="r162 rd" class="r162 r">s</span> = <a href="XmlLoaderBase.cs.html#f3f79d66c29b9a5d" class="i method">GetMandatoryInnerText</a>(<span class="r161 r">n</span>);
                        <b>if</b> (<span class="r162 r">s</span> == <b>null</b>)
                        {
                            <b>return</b> <b>null</b>; <span class="c">// fatal</span>
                        }
 
                        <b>bool</b> <span id="r163 rd" class="r163 r">success</span> = <a href="commands.cs.html#e9bfff239d124b39" class="t t">EnumerableExpansionConversion</a>.<a href="commands.cs.html#0d999d07647b478e" class="i method">Convert</a>(<span class="r162 r">s</span>, <b>out</b> <span class="r158 r">eed</span>.<a href="displayDescriptionData.cs.html#f2baea6ec811fd4a" class="i field">enumerableExpansion</a>);
                        <b>if</b> (!<span class="r163 r">success</span>)
                        {
                            <span class="c">// Error at XPath {0} in file {1}: Invalid {2} value.</span>
                            <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#db3c8d17c0ceaeb5" class="i method">ReportError</a>(<a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">InvalidNodeValue</span>, <a href="XmlLoaderBase.cs.html#1b9e969885176790" class="i method">ComputeCurrentXPath</a>(), <a href="XmlLoaderBase.cs.html#6b0418522d2dfb04" class="i property">FilePath</a>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#294b4212142e4b03" class="i field">ExpandNode</a>));
                            <b>return</b> <b>null</b>; <span class="c">// fatal</span>
                        }
                    }
                    <b>else</b>
                    {
                        <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#749fc461c72a3868" class="i method">ProcessUnknownNode</a>(<span class="r161 r">n</span>);
                    }
                }
 
                <b>return</b> <span class="r158 r">eed</span>;
            }
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Type Groups Loading
 
        <b>private void</b> <a id="dd820c849a88ad25" href="../../../R/dd820c849a88ad25.html" target="n" data-glyph="76,1" class="i method">LoadTypeGroups</a>(<a href="../../../P/e64c182db20ea05c.html#e64c182db20ea05c" class="t t">TypeInfoDataBase</a> <span id="r164 rd" class="r164 r">db</span>, <span class="i">XmlNode</span> <span id="r165 rd" class="r165 r">typeGroupsNode</span>)
        {
            <b>using</b> (<a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#7e1b21c2c0328cf1" class="i method">StackFrame</a>(<span class="r165 r">typeGroupsNode</span>))
            {
                <b>int</b> <span id="r166 rd" class="r166 r">typeGroupCount</span> = 0;
 
                <b>foreach</b> (<span class="i">XmlNode</span> <span id="r167 rd" class="r167 r">n</span> <b>in</b> <span class="r165 r">typeGroupsNode</span>.<span class="i">ChildNodes</span>)
                {
                    <b>if</b> (<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r167 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#c0eec50063844067" class="i field">SelectionSetNode</a>))
                    {
                        <span class="i">LoadTypeGroup</span>(<span class="r164 r">db</span>, <span class="r167 r">n</span>, <span class="r166 r">typeGroupCount</span>++);
                    }
                    <b>else</b>
                    {
                        <a href="XmlLoaderBase.cs.html#749fc461c72a3868" class="i method">ProcessUnknownNode</a>(<span class="r167 r">n</span>);
                    }
                }
            }
        }
 
        <b>private void</b> <a id="9b2db87ce62540bc" href="../../../R/../../0000000000.html" target="n" data-glyph="76,1" class="i method">LoadTypeGroup</a>(<a href="../../../P/e64c182db20ea05c.html#e64c182db20ea05c" class="t t">TypeInfoDataBase</a> <span id="r168 rd" class="r168 r">db</span>, <span class="i">XmlNode</span> <span id="r169 rd" class="r169 r">typeGroupNode</span>, <b>int</b> <span id="r170 rd" class="r170 r">index</span>)
        {
            <b>using</b> (<a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#b3899680a865af06" class="i method">StackFrame</a>(<span class="r169 r">typeGroupNode</span>, <span class="r170 r">index</span>))
            {
                <span class="c">// create data structure</span>
                <a href="displayDescriptionData.cs.html#6d60493504ca1f24" class="t t">TypeGroupDefinition</a> <span id="r171 rd" class="r171 r">typeGroupDefinition</span> = <b>new</b> <span class="t">TypeGroupDefinition</span>();
                <b>bool</b> <span id="r172 rd" class="r172 r">nameNodeFound</span> = <b>false</b>;
 
                <b>foreach</b> (<span class="i">XmlNode</span> <span id="r173 rd" class="r173 r">n</span> <b>in</b> <span class="r169 r">typeGroupNode</span>.<span class="i">ChildNodes</span>)
                {
                    <b>if</b> (<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r173 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#c263f844ba0b5084" class="i field">NameNode</a>))
                    {
                        <b>if</b> (<span class="r172 r">nameNodeFound</span>)
                        {
                            <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#92faf1fee4b3e75a" class="i method">ProcessDuplicateNode</a>(<span class="r173 r">n</span>);
                            <b>continue</b>;
                        }
 
                        <span class="r172 r">nameNodeFound</span> = <b>true</b>;
                        <span class="r171 r">typeGroupDefinition</span>.<a href="displayDescriptionData.cs.html#57f0e846b2911153" class="i field">name</a> = <a href="XmlLoaderBase.cs.html#f3f79d66c29b9a5d" class="i method">GetMandatoryInnerText</a>(<span class="r173 r">n</span>);
                    }
                    <b>else</b> <b>if</b> (<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r173 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#c619c499346fc4c6" class="i field">TypesNode</a>))
                    {
                        <a href="#c786a464c432f993" class="i method">LoadTypeGroupTypeRefs</a>(<span class="r173 r">n</span>, <span class="r171 r">typeGroupDefinition</span>);
                    }
                    <b>else</b>
                    {
                        <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#749fc461c72a3868" class="i method">ProcessUnknownNode</a>(<span class="r173 r">n</span>);
                    }
                }
 
                <b>if</b> (!<span class="r172 r">nameNodeFound</span>)
                {
                    <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#6e07889eb3560d31" class="i method">ReportMissingNode</a>(<a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#c263f844ba0b5084" class="i field">NameNode</a>);
                }
 
                <span class="c">// finally add to the list</span>
                <span class="r168 r">db</span>.<a href="displayDescriptionData.cs.html#0144f9e9559faf03" class="i field">typeGroupSection</a>.<a href="displayDescriptionData.cs.html#a1c2d4c303dad081" class="i field">typeGroupDefinitionList</a>.<span class="i">Add</span>(<span class="r171 r">typeGroupDefinition</span>);
            }
        }
 
        <b>private void</b> <a id="c786a464c432f993" href="../../../R/c786a464c432f993.html" target="n" data-glyph="76,1" class="i method">LoadTypeGroupTypeRefs</a>(<span class="i">XmlNode</span> <span id="r174 rd" class="r174 r">typesNode</span>, <a href="displayDescriptionData.cs.html#6d60493504ca1f24" class="t t">TypeGroupDefinition</a> <span id="r175 rd" class="r175 r">typeGroupDefinition</span>)
        {
            <b>using</b> (<a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#7e1b21c2c0328cf1" class="i method">StackFrame</a>(<span class="r174 r">typesNode</span>))
            {
                <b>int</b> <span id="r176 rd" class="r176 r">typeRefCount</span> = 0;
 
                <b>foreach</b> (<span class="i">XmlNode</span> <span id="r177 rd" class="r177 r">n</span> <b>in</b> <span class="r174 r">typesNode</span>.<span class="i">ChildNodes</span>)
                {
                    <b>if</b> (<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r177 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#11b2946b532385b9" class="i field">TypeNameNode</a>))
                    {
                        <b>using</b> (<a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<span class="i">StackFrame</span>(<span class="r177 r">n</span>, <span class="r176 r">typeRefCount</span>++))
                        {
                            <a href="displayDescriptionData.cs.html#ce3ec3d4f9138a8f" class="t t">TypeReference</a> <span id="r178 rd" class="r178 r">tr</span> = <b>new</b> <span class="t">TypeReference</span>();
 
                            <span class="r178 r">tr</span>.<a href="displayDescriptionData.cs.html#df908891090d2c93" class="i field">name</a> = <a href="XmlLoaderBase.cs.html#f3f79d66c29b9a5d" class="i method">GetMandatoryInnerText</a>(<span class="r177 r">n</span>);
                            <span class="r175 r">typeGroupDefinition</span>.<a href="displayDescriptionData.cs.html#0671553b6a493078" class="i field">typeReferenceList</a>.<span class="i">Add</span>(<span class="r178 r">tr</span>);
                        }
                    }
                    <b>else</b>
                    {
                        <a href="XmlLoaderBase.cs.html#749fc461c72a3868" class="i method">ProcessUnknownNode</a>(<span class="r177 r">n</span>);
                    }
                }
            }
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> AppliesTo Loading
 
        <b>private</b> <a href="../../../P/10db14cd82cd996e.html#10db14cd82cd996e" class="t t">AppliesTo</a> <a id="d0329fd2bde3df3d" href="../../../R/d0329fd2bde3df3d.html" target="n" data-glyph="76,1" class="i method">LoadAppliesToSection</a>(<span class="i">XmlNode</span> <span id="r179 rd" class="r179 r">appliesToNode</span>, <b>bool</b> <span id="r180 rd" class="r180 r">allowSelectionCondition</span>)
        {
            <b>using</b> (<a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#7e1b21c2c0328cf1" class="i method">StackFrame</a>(<span class="r179 r">appliesToNode</span>))
            {
                <a href="../../../P/10db14cd82cd996e.html#10db14cd82cd996e" class="t t">AppliesTo</a> <span id="r181 rd" class="r181 r">appliesTo</span> = <b>new</b> <span class="t">AppliesTo</span>();
 
                <span class="c">// expect: type ref, group ref, or nothing</span>
                <b>foreach</b> (<span class="i">XmlNode</span> <span id="r182 rd" class="r182 r">n</span> <b>in</b> <span class="r179 r">appliesToNode</span>.<span class="i">ChildNodes</span>)
                {
                    <b>using</b> (<a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#7e1b21c2c0328cf1" class="i method">StackFrame</a>(<span class="r182 r">n</span>))
                    {
                        <b>if</b> (<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r182 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#0bd82d59b88aa36d" class="i field">SelectionSetNameNode</a>))
                        {
                            <a href="displayDescriptionData.cs.html#2be49cd264807a2a" class="t t">TypeGroupReference</a> <span id="r183 rd" class="r183 r">tgr</span> = <a href="#2a27d4b80130f865" class="i method">LoadTypeGroupReference</a>(<span class="r182 r">n</span>);
                            <b>if</b> (<span class="r183 r">tgr</span> != <b>null</b>)
                            {
                                <span class="r181 r">appliesTo</span>.<a href="displayDescriptionData.cs.html#e562e7ea6df51ae6" class="i field">referenceList</a>.<span class="i">Add</span>(<span class="r183 r">tgr</span>);
                            }
                            <b>else</b>
                            {
                                <b>return</b> <b>null</b>;
                            }
                        }
                        <b>else</b> <b>if</b> (<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r182 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#11b2946b532385b9" class="i field">TypeNameNode</a>))
                        {
                            <a href="displayDescriptionData.cs.html#ce3ec3d4f9138a8f" class="t t">TypeReference</a> <span id="r184 rd" class="r184 r">tr</span> = <a href="#0d813485df513a5b" class="i method">LoadTypeReference</a>(<span class="r182 r">n</span>);
                            <b>if</b> (<span class="r184 r">tr</span> != <b>null</b>)
                            {
                                <span class="r181 r">appliesTo</span>.<a href="displayDescriptionData.cs.html#e562e7ea6df51ae6" class="i field">referenceList</a>.<span class="i">Add</span>(<span class="r184 r">tr</span>);
                            }
                            <b>else</b>
                            {
                                <b>return</b> <b>null</b>;
                            }
                        }
                        <b>else</b> <b>if</b> (<span class="r180 r">allowSelectionCondition</span> &amp;&amp; <a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r182 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#190b6a1eb65d8657" class="i field">SelectionConditionNode</a>))
                        {
                            <a href="displayDescriptionData.cs.html#c83e340e0e2a174f" class="t t">TypeOrGroupReference</a> <span id="r185 rd" class="r185 r">tgr</span> = <a href="#35f164de3edfee00" class="i method">LoadSelectionConditionNode</a>(<span class="r182 r">n</span>);
                            <b>if</b> (<span class="r185 r">tgr</span> != <b>null</b>)
                            {
                                <span class="r181 r">appliesTo</span>.<a href="displayDescriptionData.cs.html#e562e7ea6df51ae6" class="i field">referenceList</a>.<span class="i">Add</span>(<span class="r185 r">tgr</span>);
                            }
                            <b>else</b>
                            {
                                <b>return</b> <b>null</b>;
                            }
                        }
                        <b>else</b>
                        {
                            <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#749fc461c72a3868" class="i method">ProcessUnknownNode</a>(<span class="r182 r">n</span>);
                        }
                    }
                }
 
                <b>if</b> (<span class="r181 r">appliesTo</span>.<a href="displayDescriptionData.cs.html#e562e7ea6df51ae6" class="i field">referenceList</a>.<span class="i">Count</span> == 0)
                {
                    <span class="c">// we do not accept an empty list</span>
                    <span class="c">// Error at XPath {0} in file {1}: No type or condition is specified for applying the view.</span>
                    <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#db3c8d17c0ceaeb5" class="i method">ReportError</a>(<a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">EmptyAppliesTo</span>, <a href="XmlLoaderBase.cs.html#1b9e969885176790" class="i method">ComputeCurrentXPath</a>(), <a href="XmlLoaderBase.cs.html#6b0418522d2dfb04" class="i property">FilePath</a>));
                    <b>return</b> <b>null</b>;
                }
 
                <b>return</b> <span class="r181 r">appliesTo</span>;
            }
        }
 
        <b>private</b> <a href="displayDescriptionData.cs.html#ce3ec3d4f9138a8f" class="t t">TypeReference</a> <a id="0d813485df513a5b" href="../../../R/0d813485df513a5b.html" target="n" data-glyph="76,1" class="i method">LoadTypeReference</a>(<span class="i">XmlNode</span> <span id="r186 rd" class="r186 r">n</span>)
        {
            <b>string</b> <span id="r187 rd" class="r187 r">val</span> = <a href="XmlLoaderBase.cs.html#f3f79d66c29b9a5d" class="i method">GetMandatoryInnerText</a>(<span class="r186 r">n</span>);
 
            <b>if</b> (<span class="r187 r">val</span> != <b>null</b>)
            {
                <a href="displayDescriptionData.cs.html#ce3ec3d4f9138a8f" class="t t">TypeReference</a> <span id="r188 rd" class="r188 r">tr</span> = <b>new</b> <span class="t">TypeReference</span>();
                <span class="r188 r">tr</span>.<a href="displayDescriptionData.cs.html#df908891090d2c93" class="i field">name</a> = <span class="r187 r">val</span>;
                <b>return</b> <span class="r188 r">tr</span>;
            }
 
            <b>return</b> <b>null</b>;
        }
 
        <b>private</b> <a href="displayDescriptionData.cs.html#2be49cd264807a2a" class="t t">TypeGroupReference</a> <a id="2a27d4b80130f865" href="../../../R/2a27d4b80130f865.html" target="n" data-glyph="76,1" class="i method">LoadTypeGroupReference</a>(<span class="i">XmlNode</span> <span id="r189 rd" class="r189 r">n</span>)
        {
            <b>string</b> <span id="r190 rd" class="r190 r">val</span> = <a href="XmlLoaderBase.cs.html#f3f79d66c29b9a5d" class="i method">GetMandatoryInnerText</a>(<span class="r189 r">n</span>);
 
            <b>if</b> (<span class="r190 r">val</span> != <b>null</b>)
            {
                <a href="displayDescriptionData.cs.html#2be49cd264807a2a" class="t t">TypeGroupReference</a> <span id="r191 rd" class="r191 r">tgr</span> = <b>new</b> <span class="t">TypeGroupReference</span>();
                <span class="r191 r">tgr</span>.<a href="displayDescriptionData.cs.html#df908891090d2c93" class="i field">name</a> = <span class="r190 r">val</span>;
                <b>return</b> <span class="r191 r">tgr</span>;
            }
 
            <b>return</b> <b>null</b>;
        }
 
        <b>private</b> <a href="displayDescriptionData.cs.html#c83e340e0e2a174f" class="t t">TypeOrGroupReference</a> <a id="35f164de3edfee00" href="../../../R/35f164de3edfee00.html" target="n" data-glyph="76,1" class="i method">LoadSelectionConditionNode</a>(<span class="i">XmlNode</span> <span id="r192 rd" class="r192 r">selectionConditionNode</span>)
        {
            <b>using</b> (<a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#7e1b21c2c0328cf1" class="i method">StackFrame</a>(<span class="r192 r">selectionConditionNode</span>))
            {
                <a href="displayDescriptionData.cs.html#c83e340e0e2a174f" class="t t">TypeOrGroupReference</a> <span id="r193 rd" class="r193 r">retVal</span> = <b>null</b>;
 
                <b>bool</b> <span id="r194 rd" class="r194 r">expressionNodeFound</span> = <b>false</b>;       <span class="c">// cardinality 1</span>
 
                <span class="c">// these two nodes are mutually exclusive</span>
                <b>bool</b> <span id="r195 rd" class="r195 r">typeFound</span> = <b>false</b>;              <span class="c">// cardinality 0..1</span>
                <b>bool</b> <span id="r196 rd" class="r196 r">typeGroupFound</span> = <b>false</b>;              <span class="c">// cardinality 0..1</span>
 
                <a href="#9ab45ad03a1b9652" class="t t">ExpressionNodeMatch</a> <span id="r197 rd" class="r197 r">expressionMatch</span> = <b>new</b> <a href="#47bf07ddb2f96be5" class="t constructor">ExpressionNodeMatch</a>(<a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>);
 
                <b>foreach</b> (<span class="i">XmlNode</span> <span id="r198 rd" class="r198 r">n</span> <b>in</b> <span class="r192 r">selectionConditionNode</span>.<span class="i">ChildNodes</span>)
                {
                    <b>if</b> (<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r198 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#0bd82d59b88aa36d" class="i field">SelectionSetNameNode</a>))
                    {
                        <b>if</b> (<span class="r196 r">typeGroupFound</span>)
                        {
                            <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#1459768dbd46ad88" class="i method">ProcessDuplicateAlternateNode</a>(<span class="r198 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#0bd82d59b88aa36d" class="i field">SelectionSetNameNode</a>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#11b2946b532385b9" class="i field">TypeNameNode</a>);
                            <b>return</b> <b>null</b>;
                        }
 
                        <span class="r196 r">typeGroupFound</span> = <b>true</b>;
                        <a href="displayDescriptionData.cs.html#2be49cd264807a2a" class="t t">TypeGroupReference</a> <span id="r199 rd" class="r199 r">tgr</span> = <a href="#2a27d4b80130f865" class="i method">LoadTypeGroupReference</a>(<span class="r198 r">n</span>);
                        <b>if</b> (<span class="r199 r">tgr</span> != <b>null</b>)
                        {
                            <span class="r193 r">retVal</span> = <span class="r199 r">tgr</span>;
                        }
                        <b>else</b>
                        {
                            <b>return</b> <b>null</b>;
                        }
                    }
                    <b>else</b> <b>if</b> (<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r198 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#11b2946b532385b9" class="i field">TypeNameNode</a>))
                    {
                        <b>if</b> (<span class="r195 r">typeFound</span>)
                        {
                            <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#1459768dbd46ad88" class="i method">ProcessDuplicateAlternateNode</a>(<span class="r198 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#0bd82d59b88aa36d" class="i field">SelectionSetNameNode</a>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#11b2946b532385b9" class="i field">TypeNameNode</a>);
                            <b>return</b> <b>null</b>;
                        }
 
                        <span class="r195 r">typeFound</span> = <b>true</b>;
                        <a href="displayDescriptionData.cs.html#ce3ec3d4f9138a8f" class="t t">TypeReference</a> <span id="r200 rd" class="r200 r">tr</span> = <a href="#0d813485df513a5b" class="i method">LoadTypeReference</a>(<span class="r198 r">n</span>);
                        <b>if</b> (<span class="r200 r">tr</span> != <b>null</b>)
                        {
                            <span class="r193 r">retVal</span> = <span class="r200 r">tr</span>;
                        }
                        <b>else</b>
                        {
                            <b>return</b> <b>null</b>;
                        }
                    }
                    <b>else</b> <b>if</b> (<span class="r197 r">expressionMatch</span>.<a href="#254b72919346ba1a" class="i method">MatchNode</a>(<span class="r198 r">n</span>))
                    {
                        <b>if</b> (<span class="r194 r">expressionNodeFound</span>)
                        {
                            <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#92faf1fee4b3e75a" class="i method">ProcessDuplicateNode</a>(<span class="r198 r">n</span>);
                            <b>return</b> <b>null</b>; <span class="c">// fatal error</span>
                        }
 
                        <span class="r194 r">expressionNodeFound</span> = <b>true</b>;
                        <b>if</b> (!<span class="r197 r">expressionMatch</span>.<a href="#8027d8b516e8e931" class="i method">ProcessNode</a>(<span class="r198 r">n</span>))
                            <b>return</b> <b>null</b>; <span class="c">// fatal error</span>
                    }
                    <b>else</b>
                    {
                        <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#749fc461c72a3868" class="i method">ProcessUnknownNode</a>(<span class="r198 r">n</span>);
                    }
                }
 
                <b>if</b> (<span class="r195 r">typeFound</span> &amp;&amp; <span class="r196 r">typeGroupFound</span>)
                {
                    <span class="c">// Error at XPath {0} in file {1}: Cannot have SelectionSetName and TypeName at the same time.</span>
                    <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#db3c8d17c0ceaeb5" class="i method">ReportError</a>(<a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">SelectionSetNameAndTypeName</span>, <a href="XmlLoaderBase.cs.html#1b9e969885176790" class="i method">ComputeCurrentXPath</a>(), <a href="XmlLoaderBase.cs.html#6b0418522d2dfb04" class="i property">FilePath</a>));
                    <b>return</b> <b>null</b>; <span class="c">// fatal error</span>
                }
 
                <b>if</b> (<span class="r193 r">retVal</span> == <b>null</b>)
                {
                    <span class="c">// missing mandatory node</span>
                    <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#ee851d774f448639" class="i method">ReportMissingNodes</a>(<b>new</b> <b>string</b>[] { <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#0bd82d59b88aa36d" class="i field">SelectionSetNameNode</a>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#11b2946b532385b9" class="i field">TypeNameNode</a> });
                    <b>return</b> <b>null</b>;
                }
 
                <b>if</b> (<span class="r194 r">expressionNodeFound</span>)
                {
                    <span class="c">// mandatory node</span>
                    <span class="r193 r">retVal</span>.<a href="displayDescriptionData.cs.html#7458abca66781f2a" class="i field">conditionToken</a> = <span class="r197 r">expressionMatch</span>.<a href="#9a346fb6931ee4c6" class="i method">GenerateExpressionToken</a>();
                    <b>if</b> (<span class="r193 r">retVal</span>.<a href="displayDescriptionData.cs.html#7458abca66781f2a" class="i field">conditionToken</a> == <b>null</b>)
                    {
                        <b>return</b> <b>null</b>; <span class="c">// fatal error</span>
                    }
 
                    <b>return</b> <span class="r193 r">retVal</span>;
                }
                <span class="c">// failure: expression is mandatory</span>
                <span class="c">// Error at XPath {0} in file {1}: An expression is expected.</span>
                <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#db3c8d17c0ceaeb5" class="i method">ReportError</a>(<a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">ExpectExpression</span>, <a href="XmlLoaderBase.cs.html#1b9e969885176790" class="i method">ComputeCurrentXPath</a>(), <a href="XmlLoaderBase.cs.html#6b0418522d2dfb04" class="i property">FilePath</a>));
                <b>return</b> <b>null</b>;
            }
        }
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> GroupBy Loading
 
        <b>private</b> <a href="displayDescriptionData.cs.html#f90c963864abe441" class="t t">GroupBy</a> <a id="2c402330dd91da28" href="../../../R/2c402330dd91da28.html" target="n" data-glyph="76,1" class="i method">LoadGroupBySection</a>(<span class="i">XmlNode</span> <span id="r201 rd" class="r201 r">groupByNode</span>)
        {
            <b>using</b> (<a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#7e1b21c2c0328cf1" class="i method">StackFrame</a>(<span class="r201 r">groupByNode</span>))
            {
                <a href="#9ab45ad03a1b9652" class="t t">ExpressionNodeMatch</a> <span id="r202 rd" class="r202 r">expressionMatch</span> = <b>new</b> <a href="#47bf07ddb2f96be5" class="t constructor">ExpressionNodeMatch</a>(<a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>);
                <a href="#3b8022ab2e4285ea" class="t t">ComplexControlMatch</a> <span id="r203 rd" class="r203 r">controlMatch</span> = <b>new</b> <a href="#a598f9b26bf33b91" class="t constructor">ComplexControlMatch</a>(<a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>);
 
                <b>bool</b> <span id="r204 rd" class="r204 r">expressionNodeFound</span> = <b>false</b>;       <span class="c">// cardinality 0..1</span>
 
                <span class="c">// these two nodes are mutually exclusive</span>
                <b>bool</b> <span id="r205 rd" class="r205 r">controlFound</span> = <b>false</b>;              <span class="c">// cardinality 0..1</span>
                <b>bool</b> <span id="r206 rd" class="r206 r">labelFound</span> = <b>false</b>;              <span class="c">// cardinality 0..1</span>
 
                <a href="displayDescriptionData.cs.html#f90c963864abe441" class="t t">GroupBy</a> <span id="r207 rd" class="r207 r">groupBy</span> = <b>new</b> <span class="t">GroupBy</span>();
                <a href="displayDescriptionData.cs.html#9ea056dc3d88f871" class="t t">TextToken</a> <span id="r208 rd" class="r208 r">labelTextToken</span> = <b>null</b>;
 
                <b>foreach</b> (<span class="i">XmlNode</span> <span id="r209 rd" class="r209 r">n</span> <b>in</b> <span class="r201 r">groupByNode</span>)
                {
                    <b>if</b> (<span class="r202 r">expressionMatch</span>.<a href="#254b72919346ba1a" class="i method">MatchNode</a>(<span class="r209 r">n</span>))
                    {
                        <b>if</b> (<span class="r204 r">expressionNodeFound</span>)
                        {
                            <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#92faf1fee4b3e75a" class="i method">ProcessDuplicateNode</a>(<span class="r209 r">n</span>);
                            <b>return</b> <b>null</b>; <span class="c">// fatal error</span>
                        }
 
                        <span class="r204 r">expressionNodeFound</span> = <b>true</b>;
                        <b>if</b> (!<span class="r202 r">expressionMatch</span>.<a href="#8027d8b516e8e931" class="i method">ProcessNode</a>(<span class="r209 r">n</span>))
                            <b>return</b> <b>null</b>; <span class="c">// fatal error</span>
                    }
                    <b>else</b> <b>if</b> (<span class="r203 r">controlMatch</span>.<a href="#d4ef77edbc92d92c" class="i method">MatchNode</a>(<span class="r209 r">n</span>))
                    {
                        <b>if</b> (<span class="r205 r">controlFound</span>)
                        {
                            <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#1459768dbd46ad88" class="i method">ProcessDuplicateAlternateNode</a>(<span class="r209 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#6f16b1bc4b00bed7" class="i field">ComplexControlNode</a>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#422e040b0fccfe96" class="i field">ComplexControlNameNode</a>);
                            <b>return</b> <b>null</b>;
                        }
 
                        <span class="r205 r">controlFound</span> = <b>true</b>;
                        <b>if</b> (!<span class="r203 r">controlMatch</span>.<a href="#11842b87cce1cf4e" class="i method">ProcessNode</a>(<span class="r209 r">n</span>))
                            <b>return</b> <b>null</b>; <span class="c">// fatal error</span>
                    }
                    <b>else</b> <b>if</b> (<a href="XmlLoaderBase.cs.html#74ff44abe97d3d8d" class="i method">MatchNodeNameWithAttributes</a>(<span class="r209 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#f49af2befec332f6" class="i field">LabelNode</a>))
                    {
                        <b>if</b> (<span class="r206 r">labelFound</span>)
                        {
                            <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#1459768dbd46ad88" class="i method">ProcessDuplicateAlternateNode</a>(<span class="r209 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#6f16b1bc4b00bed7" class="i field">ComplexControlNode</a>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#422e040b0fccfe96" class="i field">ComplexControlNameNode</a>);
                            <b>return</b> <b>null</b>;
                        }
 
                        <span class="r206 r">labelFound</span> = <b>true</b>;
 
                        <span class="r208 r">labelTextToken</span> = <a href="#3e7dbb48e28d0d8b" class="i method">LoadLabel</a>(<span class="r209 r">n</span>);
                        <b>if</b> (<span class="r208 r">labelTextToken</span> == <b>null</b>)
                        {
                            <b>return</b> <b>null</b>; <span class="c">// fatal error</span>
                        }
                    }
                    <b>else</b>
                    {
                        <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#749fc461c72a3868" class="i method">ProcessUnknownNode</a>(<span class="r209 r">n</span>);
                    }
                }
 
                <b>if</b> (<span class="r205 r">controlFound</span> &amp;&amp; <span class="r206 r">labelFound</span>)
                {
                    <span class="c">// Error at XPath {0} in file {1}: Cannot have control and label at the same time.</span>
                    <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#db3c8d17c0ceaeb5" class="i method">ReportError</a>(<a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">ControlAndLabel</span>, <a href="XmlLoaderBase.cs.html#1b9e969885176790" class="i method">ComputeCurrentXPath</a>(), <a href="XmlLoaderBase.cs.html#6b0418522d2dfb04" class="i property">FilePath</a>));
                    <b>return</b> <b>null</b>; <span class="c">// fatal error</span>
                }
 
                <b>if</b> (<span class="r205 r">controlFound</span> || <span class="r206 r">labelFound</span>)
                {
                    <b>if</b> (!<span class="r204 r">expressionNodeFound</span>)
                    {
                        <span class="c">// Error at XPath {0} in file {1}: Cannot have control or label without an expression.</span>
                        <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#db3c8d17c0ceaeb5" class="i method">ReportError</a>(<a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">ControlLabelWithoutExpression</span>, <a href="XmlLoaderBase.cs.html#1b9e969885176790" class="i method">ComputeCurrentXPath</a>(), <a href="XmlLoaderBase.cs.html#6b0418522d2dfb04" class="i property">FilePath</a>));
                        <b>return</b> <b>null</b>; <span class="c">// fatal error</span>
                    }
 
                    <b>if</b> (<span class="r205 r">controlFound</span>)
                    {
                        <span class="r207 r">groupBy</span>.<a href="displayDescriptionData.cs.html#f54b39541eadad34" class="i field">startGroup</a>.<a href="displayDescriptionData.cs.html#923c0361be24ef70" class="i field">control</a> = <span class="r203 r">controlMatch</span>.<a href="#8b7c205f9188266c" class="i property">Control</a>;
                    }
                    <b>else</b> <b>if</b> (<span class="r206 r">labelFound</span>)
                    {
                        <span class="r207 r">groupBy</span>.<a href="displayDescriptionData.cs.html#f54b39541eadad34" class="i field">startGroup</a>.<a href="displayDescriptionData.cs.html#9103af8f3796e0b6" class="i field">labelTextToken</a> = <span class="r208 r">labelTextToken</span>;
                    }
                }
 
                <b>if</b> (<span class="r204 r">expressionNodeFound</span>)
                {
                    <span class="c">// we add only if we encountered one, since it&#39;s not mandatory</span>
                    <a href="displayDescriptionData.cs.html#82a5bbc134cdede1" class="t t">ExpressionToken</a> <span id="r210 rd" class="r210 r">expression</span> = <span class="r202 r">expressionMatch</span>.<a href="#9a346fb6931ee4c6" class="i method">GenerateExpressionToken</a>();
                    <b>if</b> (<span class="r210 r">expression</span> == <b>null</b>)
                    {
                        <b>return</b> <b>null</b>; <span class="c">// fatal error</span>
                    }
 
                    <span class="r207 r">groupBy</span>.<a href="displayDescriptionData.cs.html#f54b39541eadad34" class="i field">startGroup</a>.<a href="displayDescriptionData.cs.html#2e573193654fc040" class="i field">expression</a> = <span class="r210 r">expression</span>;
                    <b>return</b> <span class="r207 r">groupBy</span>;
                }
 
                <span class="c">// failure: expression is mandatory</span>
                <span class="c">// Error at XPath {0} in file {1}: An expression is expected.</span>
                <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#db3c8d17c0ceaeb5" class="i method">ReportError</a>(<a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">ExpectExpression</span>, <a href="XmlLoaderBase.cs.html#1b9e969885176790" class="i method">ComputeCurrentXPath</a>(), <a href="XmlLoaderBase.cs.html#6b0418522d2dfb04" class="i property">FilePath</a>));
                <b>return</b> <b>null</b>;
            }
        }
 
        <b>private</b> <a href="displayDescriptionData.cs.html#9ea056dc3d88f871" class="t t">TextToken</a> <a id="3e7dbb48e28d0d8b" href="../../../R/3e7dbb48e28d0d8b.html" target="n" data-glyph="76,1" class="i method">LoadLabel</a>(<span class="i">XmlNode</span> <span id="r211 rd" class="r211 r">textNode</span>)
        {
            <b>using</b> (<a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#7e1b21c2c0328cf1" class="i method">StackFrame</a>(<span class="r211 r">textNode</span>))
            {
                <b>return</b> <a href="#ecbe4d74e4bd5daf" class="i method">LoadTextToken</a>(<span class="r211 r">textNode</span>);
            }
        }
 
        <b>private</b> <a href="displayDescriptionData.cs.html#9ea056dc3d88f871" class="t t">TextToken</a> <a id="ecbe4d74e4bd5daf" href="../../../R/ecbe4d74e4bd5daf.html" target="n" data-glyph="76,1" class="i method">LoadTextToken</a>(<span class="i">XmlNode</span> <span id="r212 rd" class="r212 r">n</span>)
        {
            <a href="displayDescriptionData.cs.html#9ea056dc3d88f871" class="t t">TextToken</a> <span id="r213 rd" class="r213 r">tt</span> = <b>new</b> <span class="t">TextToken</span>();
 
            <b>if</b> (!<a href="#efe58aec5a9c4dfb" class="i method">LoadStringResourceReference</a>(<span class="r212 r">n</span>, <b>out</b> <span class="r213 r">tt</span>.<a href="displayDescriptionData.cs.html#ac95b0805c08e1bd" class="i field">resource</a>))
            {
                <b>return</b> <b>null</b>;
            }
 
            <b>if</b> (<span class="r213 r">tt</span>.<a href="displayDescriptionData.cs.html#ac95b0805c08e1bd" class="i field">resource</a> != <b>null</b>)
            {
                <span class="c">// inner text is optional</span>
                <span class="r213 r">tt</span>.<a href="displayDescriptionData.cs.html#7b4fb5ae800201aa" class="i field">text</a> = <span class="r212 r">n</span>.<span class="i">InnerText</span>;
                <b>return</b> <span class="r213 r">tt</span>;
            }
 
            <span class="c">// inner text is mandatory</span>
            <span class="r213 r">tt</span>.<a href="displayDescriptionData.cs.html#7b4fb5ae800201aa" class="i field">text</a> = <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#f3f79d66c29b9a5d" class="i method">GetMandatoryInnerText</a>(<span class="r212 r">n</span>);
 
            <b>if</b> (<span class="r213 r">tt</span>.<a href="displayDescriptionData.cs.html#7b4fb5ae800201aa" class="i field">text</a> == <b>null</b>)
                <b>return</b> <b>null</b>;
 
            <b>return</b> <span class="r213 r">tt</span>;
        }
 
        <b>private bool</b> <a id="efe58aec5a9c4dfb" href="../../../R/efe58aec5a9c4dfb.html" target="n" data-glyph="76,1" class="i method">LoadStringResourceReference</a>(<span class="i">XmlNode</span> <span id="r214 rd" class="r214 r">n</span>, <b>out</b> <a href="displayDescriptionData.cs.html#0b09a57fed0ae511" class="t t">StringResourceReference</a> <span id="r215 rd" class="r215 r">resource</span>)
        {
            <span class="r215 r">resource</span> = <b>null</b>;
            <span class="i">XmlElement</span> <span id="r216 rd" class="r216 r">e</span> = <span class="r214 r">n</span> <b>as</b> <span class="i">XmlElement</span>;
 
            <b>if</b> (<span class="r216 r">e</span> == <b>null</b>)
            {
                <span class="c">// Error at XPath {0} in file {1}: Node should be an XmlElement.</span>
                <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#db3c8d17c0ceaeb5" class="i method">ReportError</a>(<a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">NonXmlElementNode</span>, <a href="XmlLoaderBase.cs.html#1b9e969885176790" class="i method">ComputeCurrentXPath</a>(), <a href="XmlLoaderBase.cs.html#6b0418522d2dfb04" class="i property">FilePath</a>));
                <b>return</b> <b>false</b>;
            }
 
            <b>if</b> (<span class="r216 r">e</span>.<span class="i">Attributes</span>.<span class="i">Count</span> &lt;= 0)
            {
                <span class="c">// no resources to load</span>
                <b>return</b> <b>true</b>;
            }
 
            <span class="c">// need to find mandatory attributes</span>
            <span class="r215 r">resource</span> = <span class="i">LoadResourceAttributes</span>(<span class="r216 r">e</span>.<span class="i">Attributes</span>);
 
            <span class="c">// we committed to having resources, if not obtained, it&#39;s an error</span>
            <b>return</b> <span class="r215 r">resource</span> != <b>null</b>;
        }
 
        <b>private</b> <a href="displayDescriptionData.cs.html#0b09a57fed0ae511" class="t t">StringResourceReference</a> <a id="fc2d30f716d72a38" href="../../../R/../../0000000000.html" target="n" data-glyph="76,1" class="i method">LoadResourceAttributes</a>(<span class="i">XmlAttributeCollection</span> <span id="r217 rd" class="r217 r">attributes</span>)
        {
            <a href="displayDescriptionData.cs.html#0b09a57fed0ae511" class="t t">StringResourceReference</a> <span id="r218 rd" class="r218 r">resource</span> = <b>new</b> <span class="t">StringResourceReference</span>();
            <b>foreach</b> (<span class="i">XmlAttribute</span> <span id="r219 rd" class="r219 r">a</span> <b>in</b> <span class="r217 r">attributes</span>)
            {
                <b>if</b> (<a href="XmlLoaderBase.cs.html#338a275b9407d200" class="i method">MatchAttributeName</a>(<span class="r219 r">a</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#8286dd07c3503d19" class="i field">AssemblyNameAttribute</a>))
                {
                    <span class="r218 r">resource</span>.<a href="displayDescriptionData.cs.html#1414309ee6c0f9b0" class="i field">assemblyName</a> = <a href="XmlLoaderBase.cs.html#f3c7a861d03ac2f9" class="i method">GetMandatoryAttributeValue</a>(<span class="r219 r">a</span>);
                    <b>if</b> (<span class="r218 r">resource</span>.<a href="displayDescriptionData.cs.html#1414309ee6c0f9b0" class="i field">assemblyName</a> == <b>null</b>)
                        <b>return</b> <b>null</b>;
                }
                <b>else</b> <b>if</b> (<a href="XmlLoaderBase.cs.html#338a275b9407d200" class="i method">MatchAttributeName</a>(<span class="r219 r">a</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#d4efb0837f42a681" class="i field">BaseNameAttribute</a>))
                {
                    <span class="r218 r">resource</span>.<a href="displayDescriptionData.cs.html#d1212c6836c6595f" class="i field">baseName</a> = <a href="XmlLoaderBase.cs.html#f3c7a861d03ac2f9" class="i method">GetMandatoryAttributeValue</a>(<span class="r219 r">a</span>);
                    <b>if</b> (<span class="r218 r">resource</span>.<a href="displayDescriptionData.cs.html#d1212c6836c6595f" class="i field">baseName</a> == <b>null</b>)
                        <b>return</b> <b>null</b>;
                }
                <b>else</b> <b>if</b> (<a href="XmlLoaderBase.cs.html#338a275b9407d200" class="i method">MatchAttributeName</a>(<span class="r219 r">a</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#9e3fb3f7b5b39ebb" class="i field">ResourceIdAttribute</a>))
                {
                    <span class="r218 r">resource</span>.<a href="displayDescriptionData.cs.html#d3c79da6c2cb0068" class="i field">resourceId</a> = <a href="XmlLoaderBase.cs.html#f3c7a861d03ac2f9" class="i method">GetMandatoryAttributeValue</a>(<span class="r219 r">a</span>);
                    <b>if</b> (<span class="r218 r">resource</span>.<a href="displayDescriptionData.cs.html#d3c79da6c2cb0068" class="i field">resourceId</a> == <b>null</b>)
                        <b>return</b> <b>null</b>;
                }
                <b>else</b>
                {
                    <a href="XmlLoaderBase.cs.html#aea610805313c8de" class="i method">ProcessUnknownAttribute</a>(<span class="r219 r">a</span>);
                    <b>return</b> <b>null</b>;
                }
            }
 
            <span class="c">// make sure we got all the attributes, since allof them are mandatory</span>
            <b>if</b> (<span class="r218 r">resource</span>.<a href="displayDescriptionData.cs.html#1414309ee6c0f9b0" class="i field">assemblyName</a> == <b>null</b>)
            {
                <a href="XmlLoaderBase.cs.html#eaa34dc2457d41b9" class="i method">ReportMissingAttribute</a>(<a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#8286dd07c3503d19" class="i field">AssemblyNameAttribute</a>);
                <b>return</b> <b>null</b>;
            }
 
            <b>if</b> (<span class="r218 r">resource</span>.<a href="displayDescriptionData.cs.html#d1212c6836c6595f" class="i field">baseName</a> == <b>null</b>)
            {
                <a href="XmlLoaderBase.cs.html#eaa34dc2457d41b9" class="i method">ReportMissingAttribute</a>(<a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#d4efb0837f42a681" class="i field">BaseNameAttribute</a>);
                <b>return</b> <b>null</b>;
            }
 
            <b>if</b> (<span class="r218 r">resource</span>.<a href="displayDescriptionData.cs.html#d3c79da6c2cb0068" class="i field">resourceId</a> == <b>null</b>)
            {
                <a href="XmlLoaderBase.cs.html#eaa34dc2457d41b9" class="i method">ReportMissingAttribute</a>(<a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#9e3fb3f7b5b39ebb" class="i field">ResourceIdAttribute</a>);
                <b>return</b> <b>null</b>;
            }
 
            <span class="c">// success in loading</span>
            <span class="r218 r">resource</span>.<a href="displayDescriptionData.cs.html#996ca595b115024a" class="i field">loadingInfo</a> = <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#b5bb26d42e2bf240" class="i property">LoadingInfo</a>;
 
            <span class="c">// optional pre-load and binding verification</span>
            <b>if</b> (<a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#823c52d4ac6a34e3" class="i property">VerifyStringResources</a>)
            {
                <a href="displayResourceManagerCache.cs.html#28d15af07e34614e" class="t t">DisplayResourceManagerCache</a>.<a href="displayResourceManagerCache.cs.html#6c416e4ffae55da9" class="t t">LoadingResult</a> <span id="r220 rd" class="r220 r">result</span>;
                <a href="displayResourceManagerCache.cs.html#28d15af07e34614e" class="t t">DisplayResourceManagerCache</a>.<a href="displayResourceManagerCache.cs.html#1bcdf030f090525c" class="t t">AssemblyBindingStatus</a> <span id="r221 rd" class="r221 r">bindingStatus</span>;
                <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#e9cf356a3e6732d9" class="i field">displayResourceManagerCache</a>.<a href="displayResourceManagerCache.cs.html#745db7457e48a1f4" class="i method">VerifyResource</a>(<span class="r218 r">resource</span>, <b>out</b> <span class="r220 r">result</span>, <b>out</b> <span class="r221 r">bindingStatus</span>);
                <b>if</b> (<span class="r220 r">result</span> != <a href="displayResourceManagerCache.cs.html#28d15af07e34614e" class="t t">DisplayResourceManagerCache</a>.<a href="displayResourceManagerCache.cs.html#6c416e4ffae55da9" class="t t">LoadingResult</a>.<a href="displayResourceManagerCache.cs.html#faef0bbedc52ce8f" class="i field">NoError</a>)
                {
                    <a href="#2352ec7fffeb5798" class="i method">ReportStringResourceFailure</a>(<span class="r218 r">resource</span>, <span class="r220 r">result</span>, <span class="r221 r">bindingStatus</span>);
                    <b>return</b> <b>null</b>;
                }
            }
 
            <b>return</b> <span class="r218 r">resource</span>;
        }
 
        <b>private void</b> <a id="2352ec7fffeb5798" href="../../../R/2352ec7fffeb5798.html" target="n" data-glyph="76,1" class="i method">ReportStringResourceFailure</a>(<a href="displayDescriptionData.cs.html#0b09a57fed0ae511" class="t t">StringResourceReference</a> <span id="r222 rd" class="r222 r">resource</span>,
                                                    <a href="displayResourceManagerCache.cs.html#28d15af07e34614e" class="t t">DisplayResourceManagerCache</a>.<a href="displayResourceManagerCache.cs.html#6c416e4ffae55da9" class="t t">LoadingResult</a> <span id="r223 rd" class="r223 r">result</span>,
                                                    <a href="displayResourceManagerCache.cs.html#28d15af07e34614e" class="t t">DisplayResourceManagerCache</a>.<a href="displayResourceManagerCache.cs.html#1bcdf030f090525c" class="t t">AssemblyBindingStatus</a> <span id="r224 rd" class="r224 r">bindingStatus</span>)
        {
            <b>string</b> <span id="r225 rd" class="r225 r">assemblyDisplayName</span>;
            <b>switch</b> (<span class="r224 r">bindingStatus</span>)
            {
                <b>case</b> <a href="displayResourceManagerCache.cs.html#28d15af07e34614e" class="t t">DisplayResourceManagerCache</a>.<a href="displayResourceManagerCache.cs.html#1bcdf030f090525c" class="t t">AssemblyBindingStatus</a>.<a href="displayResourceManagerCache.cs.html#f6561008adf15df6" class="i field">FoundInPath</a>:
                    {
                        <span class="r225 r">assemblyDisplayName</span> = <span class="r222 r">resource</span>.<a href="displayDescriptionData.cs.html#20e11ad95447b614" class="i field">assemblyLocation</a>;
                    }
 
                    <b>break</b>;
                <b>case</b> <a href="displayResourceManagerCache.cs.html#28d15af07e34614e" class="t t">DisplayResourceManagerCache</a>.<a href="displayResourceManagerCache.cs.html#1bcdf030f090525c" class="t t">AssemblyBindingStatus</a>.<a href="displayResourceManagerCache.cs.html#604c26865adb5c7e" class="i field">FoundInGac</a>:
                    {
                        <span class="c">// &quot;(Global Assembly Cache) {0}&quot;</span>
                        <span class="r225 r">assemblyDisplayName</span> = <a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">AssemblyInGAC</span>, <span class="r222 r">resource</span>.<a href="displayDescriptionData.cs.html#1414309ee6c0f9b0" class="i field">assemblyName</a>);
                    }
 
                    <b>break</b>;
                <b>default</b>:
                    {
                        <span class="r225 r">assemblyDisplayName</span> = <span class="r222 r">resource</span>.<a href="displayDescriptionData.cs.html#1414309ee6c0f9b0" class="i field">assemblyName</a>;
                    }
 
                    <b>break</b>;
            }
 
            <b>string</b> <span id="r226 rd" class="r226 r">msg</span> = <b>null</b>;
            <b>switch</b> (<span class="r223 r">result</span>)
            {
                <b>case</b> <a href="displayResourceManagerCache.cs.html#28d15af07e34614e" class="t t">DisplayResourceManagerCache</a>.<a href="displayResourceManagerCache.cs.html#6c416e4ffae55da9" class="t t">LoadingResult</a>.<a href="displayResourceManagerCache.cs.html#0192106259cabbb7" class="i field">AssemblyNotFound</a>:
                    {
                        <span class="c">// Error at XPath {0} in file {1}: Assembly {2} is not found.</span>
                        <span class="r226 r">msg</span> = <a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">AssemblyNotFound</span>, <a href="XmlLoaderBase.cs.html#1b9e969885176790" class="i method">ComputeCurrentXPath</a>(), <a href="XmlLoaderBase.cs.html#6b0418522d2dfb04" class="i property">FilePath</a>, <span class="r225 r">assemblyDisplayName</span>);
                    }
 
                    <b>break</b>;
                <b>case</b> <a href="displayResourceManagerCache.cs.html#28d15af07e34614e" class="t t">DisplayResourceManagerCache</a>.<a href="displayResourceManagerCache.cs.html#6c416e4ffae55da9" class="t t">LoadingResult</a>.<a href="displayResourceManagerCache.cs.html#03a276e62e57f458" class="i field">ResourceNotFound</a>:
                    {
                        <span class="c">// Error at XPath {0} in file {1}: Resource {2} in assembly {3} is not found.</span>
                        <span class="r226 r">msg</span> = <a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">ResourceNotFound</span>, <a href="XmlLoaderBase.cs.html#1b9e969885176790" class="i method">ComputeCurrentXPath</a>(), <a href="XmlLoaderBase.cs.html#6b0418522d2dfb04" class="i property">FilePath</a>, <span class="r222 r">resource</span>.<a href="displayDescriptionData.cs.html#d1212c6836c6595f" class="i field">baseName</a>, <span class="r225 r">assemblyDisplayName</span>);
                    }
 
                    <b>break</b>;
                <b>case</b> <a href="displayResourceManagerCache.cs.html#28d15af07e34614e" class="t t">DisplayResourceManagerCache</a>.<a href="displayResourceManagerCache.cs.html#6c416e4ffae55da9" class="t t">LoadingResult</a>.<a href="displayResourceManagerCache.cs.html#bef3e7a36dedd9ce" class="i field">StringNotFound</a>:
                    {
                        <span class="c">// Error at XPath {0} in file {1}: String {2} from resource {3} in assembly {4} is not found.</span>
                        <span class="r226 r">msg</span> = <a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">StringResourceNotFound</span>, <a href="XmlLoaderBase.cs.html#1b9e969885176790" class="i method">ComputeCurrentXPath</a>(), <a href="XmlLoaderBase.cs.html#6b0418522d2dfb04" class="i property">FilePath</a>,
                            <span class="r222 r">resource</span>.<a href="displayDescriptionData.cs.html#d3c79da6c2cb0068" class="i field">resourceId</a>, <span class="r222 r">resource</span>.<a href="displayDescriptionData.cs.html#d1212c6836c6595f" class="i field">baseName</a>, <span class="r225 r">assemblyDisplayName</span>);
                    }
 
                    <b>break</b>;
            }
 
            <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#db3c8d17c0ceaeb5" class="i method">ReportError</a>(<span class="r226 r">msg</span>);
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Expression Loading
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Helper to verify the text of a string block and</span>
        <span class="c">///</span><span class="c"> log an error if an exception is thrown.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r227 r">scriptBlockText</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Script block string to verify.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">True if parsed correctly, false if failed.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>internal bool</b> <a id="26334d903983ef76" href="../../../R/26334d903983ef76.html" target="n" data-glyph="74,1" class="i method">VerifyScriptBlock</a>(<b>string</b> <span id="r227 rd" class="r227 r">scriptBlockText</span>)
        {
            <b>try</b>
            {
                <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#34cbdfcab9d0f1ed" class="i field">expressionFactory</a>.<a href="../Utilities/MshObjectUtil.cs.html#b42dc4dca2b927f7" class="i method">VerifyScriptBlockText</a>(<span class="r227 r">scriptBlockText</span>);
            }
            <b>catch</b> (<a href="../../../utils/ParserException.cs.html#89a0a90c9fc1219d" class="t t">ParseException</a> <span id="r228 rd" class="r228 r">e</span>)
            {
                <span class="c">// Error at XPath {0} in file {1}: Invalid script block &quot;{2}&quot;.</span>
                <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="k">this</a>.<a href="XmlLoaderBase.cs.html#db3c8d17c0ceaeb5" class="i method">ReportError</a>(<a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">InvalidScriptBlock</span>, <a href="XmlLoaderBase.cs.html#1b9e969885176790" class="i method">ComputeCurrentXPath</a>(), <a href="XmlLoaderBase.cs.html#6b0418522d2dfb04" class="i property">FilePath</a>, <span class="r228 r">e</span>.<a href="../../../utils/ParserException.cs.html#f8b287eab458b0b1" class="i property">Message</a>));
                <b>return</b> <b>false</b>;
            }
            <b>catch</b> (<span class="i">Exception</span> <span id="r229 rd" class="r229 r">e</span>) <span class="c">// will rethrow</span>
            {
                <a href="../../../utils/assert.cs.html#c04955255430d32f" class="t t">Diagnostics</a>.<span class="i">Assert</span>(<b>false</b>, <span class="s">&quot;TypeInfoBaseLoader.VerifyScriptBlock unexpected exception &quot;</span> + <span class="r229 r">e</span>.<span class="i">GetType</span>().<span class="i">FullName</span>);
                <b>throw</b>;
            }
 
            <b>return</b> <b>true</b>;
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Helper class to wrap the loading of a script block/property name alternative tag.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>private sealed class</b> <a id="9ab45ad03a1b9652" href="../../../R/9ab45ad03a1b9652.html" target="n" data-glyph="4,1" class="t t">ExpressionNodeMatch</a>
        {
            <b>internal</b> <a id="47bf07ddb2f96be5" href="../../../R/47bf07ddb2f96be5.html" target="n" data-glyph="74,2" class="t constructor">ExpressionNodeMatch</a>(<a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="t t">TypeInfoDataBaseLoader</a> <span id="r230 rd" class="r230 r">loader</span>)
            {
                <a href="#4b7fe2c09a929752" class="i field">_loader</a> = <span class="r230 r">loader</span>;
            }
 
            <b>internal bool</b> <a id="254b72919346ba1a" href="../../../R/254b72919346ba1a.html" target="n" data-glyph="74,2" class="i method">MatchNode</a>(<span class="i">XmlNode</span> <span id="r231 rd" class="r231 r">n</span>)
            {
                <b>return</b> <a href="#4b7fe2c09a929752" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r231 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#45cc29f50f75a4ef" class="i field">PropertyNameNode</a>) || <a href="#4b7fe2c09a929752" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r231 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#b0d88ea1df7f4454" class="i field">ScriptBlockNode</a>);
            }
 
            <b>internal bool</b> <a id="8027d8b516e8e931" href="../../../R/8027d8b516e8e931.html" target="n" data-glyph="74,2" class="i method">ProcessNode</a>(<span class="i">XmlNode</span> <span id="r232 rd" class="r232 r">n</span>)
            {
                <b>if</b> (<a href="#4b7fe2c09a929752" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r232 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#45cc29f50f75a4ef" class="i field">PropertyNameNode</a>))
                {
                    <b>if</b> (<a href="#350a09652527829d" class="i field">_token</a> != <b>null</b>)
                    {
                        <b>if</b> (<a href="#350a09652527829d" class="i field">_token</a>.<a href="displayDescriptionData.cs.html#0739e14437b19f5a" class="i field">isScriptBlock</a>)
                            <a href="#4b7fe2c09a929752" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#1459768dbd46ad88" class="i method">ProcessDuplicateAlternateNode</a>(<span class="r232 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#45cc29f50f75a4ef" class="i field">PropertyNameNode</a>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#b0d88ea1df7f4454" class="i field">ScriptBlockNode</a>);
                        <b>else</b>
                            <a href="#4b7fe2c09a929752" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#92faf1fee4b3e75a" class="i method">ProcessDuplicateNode</a>(<span class="r232 r">n</span>);
                        <b>return</b> <b>false</b>; <span class="c">// fatal error</span>
                    }
 
                    <a href="#350a09652527829d" class="i field">_token</a> = <b>new</b> <a href="displayDescriptionData.cs.html#c09e995e6761c462" class="t constructor">ExpressionToken</a>();
                    <a href="#350a09652527829d" class="i field">_token</a>.<a href="displayDescriptionData.cs.html#5d00f85462b58293" class="i field">expressionValue</a> = <a href="#4b7fe2c09a929752" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#f3f79d66c29b9a5d" class="i method">GetMandatoryInnerText</a>(<span class="r232 r">n</span>);
                    <b>if</b> (<a href="#350a09652527829d" class="i field">_token</a>.<a href="displayDescriptionData.cs.html#5d00f85462b58293" class="i field">expressionValue</a> == <b>null</b>)
                    {
                        <span class="c">// Error at XPath {0} in file {1}: Missing property.</span>
                        <a href="#4b7fe2c09a929752" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#db3c8d17c0ceaeb5" class="i method">ReportError</a>(<a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">NoProperty</span>, <a href="#4b7fe2c09a929752" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#1b9e969885176790" class="i method">ComputeCurrentXPath</a>(), <a href="#4b7fe2c09a929752" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#6b0418522d2dfb04" class="i property">FilePath</a>));
                        <a href="#072cf32596302279" class="i field">_fatalError</a> = <b>true</b>;
                        <b>return</b> <b>false</b>; <span class="c">// fatal error</span>
                    }
 
                    <b>return</b> <b>true</b>;
                }
                <b>else</b> <b>if</b> (<a href="#4b7fe2c09a929752" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r232 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#b0d88ea1df7f4454" class="i field">ScriptBlockNode</a>))
                {
                    <b>if</b> (<a href="#350a09652527829d" class="i field">_token</a> != <b>null</b>)
                    {
                        <b>if</b> (!<a href="#350a09652527829d" class="i field">_token</a>.<a href="displayDescriptionData.cs.html#0739e14437b19f5a" class="i field">isScriptBlock</a>)
                            <a href="#4b7fe2c09a929752" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#1459768dbd46ad88" class="i method">ProcessDuplicateAlternateNode</a>(<span class="r232 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#45cc29f50f75a4ef" class="i field">PropertyNameNode</a>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#b0d88ea1df7f4454" class="i field">ScriptBlockNode</a>);
                        <b>else</b>
                            <a href="#4b7fe2c09a929752" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#92faf1fee4b3e75a" class="i method">ProcessDuplicateNode</a>(<span class="r232 r">n</span>);
                        <b>return</b> <b>false</b>; <span class="c">// fatal error</span>
                    }
 
                    <a href="#350a09652527829d" class="i field">_token</a> = <b>new</b> <a href="displayDescriptionData.cs.html#c09e995e6761c462" class="t constructor">ExpressionToken</a>();
                    <a href="#350a09652527829d" class="i field">_token</a>.<a href="displayDescriptionData.cs.html#0739e14437b19f5a" class="i field">isScriptBlock</a> = <b>true</b>;
                    <a href="#350a09652527829d" class="i field">_token</a>.<a href="displayDescriptionData.cs.html#5d00f85462b58293" class="i field">expressionValue</a> = <a href="#4b7fe2c09a929752" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#f3f79d66c29b9a5d" class="i method">GetMandatoryInnerText</a>(<span class="r232 r">n</span>);
                    <b>if</b> (<a href="#350a09652527829d" class="i field">_token</a>.<a href="displayDescriptionData.cs.html#5d00f85462b58293" class="i field">expressionValue</a> == <b>null</b>)
                    {
                        <span class="c">// Error at XPath {0} in file {1}: Missing script block text.</span>
                        <a href="#4b7fe2c09a929752" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#db3c8d17c0ceaeb5" class="i method">ReportError</a>(<a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">NoScriptBlockText</span>, <a href="#4b7fe2c09a929752" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#1b9e969885176790" class="i method">ComputeCurrentXPath</a>(), <a href="#4b7fe2c09a929752" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#6b0418522d2dfb04" class="i property">FilePath</a>));
                        <a href="#072cf32596302279" class="i field">_fatalError</a> = <b>true</b>;
                        <b>return</b> <b>false</b>; <span class="c">// fatal error</span>
                    }
 
                    <b>if</b> ((!<a href="#4b7fe2c09a929752" class="i field">_loader</a>.<a href="#bd346651f1fd9ee0" class="i field">_suppressValidation</a>) &amp;&amp; (!<a href="#4b7fe2c09a929752" class="i field">_loader</a>.<a href="#26334d903983ef76" class="i method">VerifyScriptBlock</a>(<a href="#350a09652527829d" class="i field">_token</a>.<a href="displayDescriptionData.cs.html#5d00f85462b58293" class="i field">expressionValue</a>)))
                    {
                        <a href="#072cf32596302279" class="i field">_fatalError</a> = <b>true</b>;
                        <b>return</b> <b>false</b>; <span class="c">// fatal error</span>
                    }
 
                    <b>return</b> <b>true</b>;
                }
                <span class="c">// this should never happen if the API is used correctly</span>
                <a href="../../../P/6de812d1f374e1ae.html#6de812d1f374e1ae" class="t t">PSTraceSource</a>.<a href="../../../utils/MshTraceSource.cs.html#4f3f8175dd33a015" class="i method">NewInvalidOperationException</a>();
                <b>return</b> <b>false</b>;
            }
 
            <b>internal</b> <a href="displayDescriptionData.cs.html#82a5bbc134cdede1" class="t t">ExpressionToken</a> <a id="9a346fb6931ee4c6" href="../../../R/9a346fb6931ee4c6.html" target="n" data-glyph="74,2" class="i method">GenerateExpressionToken</a>()
            {
                <b>if</b> (<a href="#072cf32596302279" class="i field">_fatalError</a>)
                {
                    <span class="c">// we failed the loading already, just return</span>
                    <b>return</b> <b>null</b>;
                }
 
                <b>if</b> (<a href="#350a09652527829d" class="i field">_token</a> == <b>null</b>)
                {
                    <span class="c">// we do not have a token: we never got one</span>
                    <span class="c">// the user should have specified either a property or a script block</span>
                    <a href="#4b7fe2c09a929752" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#ee851d774f448639" class="i method">ReportMissingNodes</a>(<b>new</b> <b>string</b>[] { <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#45cc29f50f75a4ef" class="i field">PropertyNameNode</a>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#b0d88ea1df7f4454" class="i field">ScriptBlockNode</a> });
                    <b>return</b> <b>null</b>;
                }
 
                <b>return</b> <a href="#350a09652527829d" class="i field">_token</a>;
            }
 
            <b>private readonly</b> <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="t t">TypeInfoDataBaseLoader</a> <a id="4b7fe2c09a929752" href="../../../R/4b7fe2c09a929752.html" target="n" data-glyph="46,2" class="i field">_loader</a>;
            <b>private</b> <a href="displayDescriptionData.cs.html#82a5bbc134cdede1" class="t t">ExpressionToken</a> <a id="350a09652527829d" href="../../../R/350a09652527829d.html" target="n" data-glyph="46,2" class="i field">_token</a>;
            <b>private bool</b> <a id="072cf32596302279" href="../../../R/072cf32596302279.html" target="n" data-glyph="46,2" class="i field">_fatalError</a> = <b>false</b>;
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Helper class to wrap the loading of an expression (using ExpressionNodeMatch)</span>
        <span class="c">///</span><span class="c"> plus the formatting string and an alternative text node.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>private sealed class</b> <a id="f40077bfea161c79" href="../../../R/f40077bfea161c79.html" target="n" data-glyph="4,1" class="t t">ViewEntryNodeMatch</a>
        {
            <b>internal</b> <a id="5af73511970486d6" href="../../../R/5af73511970486d6.html" target="n" data-glyph="74,2" class="t constructor">ViewEntryNodeMatch</a>(<a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="t t">TypeInfoDataBaseLoader</a> <span id="r233 rd" class="r233 r">loader</span>)
            {
                <a href="#48a1941bbd59d798" class="i field">_loader</a> = <span class="r233 r">loader</span>;
            }
 
            <b>internal bool</b> <a id="8241b4dcac0f095f" href="../../../R/8241b4dcac0f095f.html" target="n" data-glyph="74,2" class="i method">ProcessExpressionDirectives</a>(<span class="i">XmlNode</span> <span id="r234 rd" class="r234 r">containerNode</span>, <span class="i">List</span>&lt;<span class="i">XmlNode</span>&gt; <span id="r235 rd" class="r235 r">unprocessedNodes</span>)
            {
                <b>if</b> (<span class="r234 r">containerNode</span> == <b>null</b>)
                    <b>throw</b> <a href="../../../P/6de812d1f374e1ae.html#6de812d1f374e1ae" class="t t">PSTraceSource</a>.<a href="../../../utils/MshTraceSource.cs.html#fbe67220ad7522a0" class="i method">NewArgumentNullException</a>(<b>nameof</b>(<span class="r234 r">containerNode</span>));
 
                <b>string</b> <span id="r236 rd" class="r236 r">formatString</span> = <b>null</b>;
                <a href="displayDescriptionData.cs.html#9ea056dc3d88f871" class="t t">TextToken</a> <span id="r237 rd" class="r237 r">textToken</span> = <b>null</b>;
                <a href="#9ab45ad03a1b9652" class="t t">ExpressionNodeMatch</a> <span id="r238 rd" class="r238 r">expressionMatch</span> = <b>new</b> <a href="#47bf07ddb2f96be5" class="t constructor">ExpressionNodeMatch</a>(<a href="#48a1941bbd59d798" class="i field">_loader</a>);
 
                <b>bool</b> <span id="r239 rd" class="r239 r">formatStringNodeFound</span> = <b>false</b>; <span class="c">// cardinality 0..1</span>
                <b>bool</b> <span id="r240 rd" class="r240 r">expressionNodeFound</span> = <b>false</b>;   <span class="c">// cardinality 0..1</span>
                <b>bool</b> <span id="r241 rd" class="r241 r">textNodeFound</span> = <b>false</b>;         <span class="c">// cardinality 0..1</span>
 
                <b>foreach</b> (<span class="i">XmlNode</span> <span id="r242 rd" class="r242 r">n</span> <b>in</b> <span class="r234 r">containerNode</span>.<span class="i">ChildNodes</span>)
                {
                    <b>if</b> (<span class="r238 r">expressionMatch</span>.<a href="#254b72919346ba1a" class="i method">MatchNode</a>(<span class="r242 r">n</span>))
                    {
                        <b>if</b> (<span class="r240 r">expressionNodeFound</span>)
                        {
                            <a href="#48a1941bbd59d798" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#92faf1fee4b3e75a" class="i method">ProcessDuplicateNode</a>(<span class="r242 r">n</span>);
                            <b>return</b> <b>false</b>; <span class="c">// fatal error</span>
                        }
 
                        <span class="r240 r">expressionNodeFound</span> = <b>true</b>;
                        <b>if</b> (!<span class="r238 r">expressionMatch</span>.<a href="#8027d8b516e8e931" class="i method">ProcessNode</a>(<span class="r242 r">n</span>))
                            <b>return</b> <b>false</b>; <span class="c">// fatal error</span>
                    }
                    <b>else</b> <b>if</b> (<a href="#48a1941bbd59d798" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r242 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#77acbdc1748a42b0" class="i field">FormatStringNode</a>))
                    {
                        <b>if</b> (<span class="r239 r">formatStringNodeFound</span>)
                        {
                            <a href="#48a1941bbd59d798" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#92faf1fee4b3e75a" class="i method">ProcessDuplicateNode</a>(<span class="r242 r">n</span>);
                            <b>return</b> <b>false</b>; <span class="c">// fatal error</span>
                        }
 
                        <span class="r239 r">formatStringNodeFound</span> = <b>true</b>;
                        <span class="r236 r">formatString</span> = <a href="#48a1941bbd59d798" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#f3f79d66c29b9a5d" class="i method">GetMandatoryInnerText</a>(<span class="r242 r">n</span>);
                        <b>if</b> (<span class="r236 r">formatString</span> == <b>null</b>)
                        {
                            <span class="c">// Error at XPath {0} in file {1}: Missing a format string.</span>
                            <a href="#48a1941bbd59d798" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#db3c8d17c0ceaeb5" class="i method">ReportError</a>(<a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">NoFormatString</span>, <a href="#48a1941bbd59d798" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#1b9e969885176790" class="i method">ComputeCurrentXPath</a>(), <a href="#48a1941bbd59d798" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#6b0418522d2dfb04" class="i property">FilePath</a>));
                            <b>return</b> <b>false</b>; <span class="c">// fatal error</span>
                        }
                    }
                    <b>else</b> <b>if</b> (<a href="#48a1941bbd59d798" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#74ff44abe97d3d8d" class="i method">MatchNodeNameWithAttributes</a>(<span class="r242 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#a29dd56afb350d6d" class="i field">TextNode</a>))
                    {
                        <b>if</b> (<span class="r241 r">textNodeFound</span>)
                        {
                            <a href="#48a1941bbd59d798" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#92faf1fee4b3e75a" class="i method">ProcessDuplicateNode</a>(<span class="r242 r">n</span>);
                            <b>return</b> <b>false</b>; <span class="c">// fatal error</span>
                        }
 
                        <span class="r241 r">textNodeFound</span> = <b>true</b>;
                        <span class="r237 r">textToken</span> = <a href="#48a1941bbd59d798" class="i field">_loader</a>.<a href="typeDataXmlLoader_Complex.cs.html#c9b3a75c78fc32be" class="i method">LoadText</a>(<span class="r242 r">n</span>);
                        <b>if</b> (<span class="r237 r">textToken</span> == <b>null</b>)
                        {
                            <span class="c">// Error at XPath {0} in file {1}: Invalid {2}.</span>
                            <a href="#48a1941bbd59d798" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#db3c8d17c0ceaeb5" class="i method">ReportError</a>(<a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">InvalidNode</span>, <a href="#48a1941bbd59d798" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#1b9e969885176790" class="i method">ComputeCurrentXPath</a>(), <a href="#48a1941bbd59d798" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#6b0418522d2dfb04" class="i property">FilePath</a>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#a29dd56afb350d6d" class="i field">TextNode</a>));
                            <b>return</b> <b>false</b>; <span class="c">// fatal error</span>
                        }
                    }
                    <b>else</b>
                    {
                        <span class="c">// for further processing by calling context</span>
                        <span class="r235 r">unprocessedNodes</span>.<span class="i">Add</span>(<span class="r242 r">n</span>);
                    }
                }
 
                <b>if</b> (<span class="r240 r">expressionNodeFound</span>)
                {
                    <span class="c">// RULE: cannot have a text node and an expression at the same time</span>
                    <b>if</b> (<span class="r241 r">textNodeFound</span>)
                    {
                        <span class="c">// Error at XPath {0} in file {1}: {2} cannot be specified with an expression.</span>
                        <a href="#48a1941bbd59d798" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#db3c8d17c0ceaeb5" class="i method">ReportError</a>(<a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">NodeWithExpression</span>, <a href="#48a1941bbd59d798" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#1b9e969885176790" class="i method">ComputeCurrentXPath</a>(),
                            <a href="#48a1941bbd59d798" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#6b0418522d2dfb04" class="i property">FilePath</a>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#a29dd56afb350d6d" class="i field">TextNode</a>));
                        <b>return</b> <b>false</b>; <span class="c">// fatal error</span>
                    }
 
                    <a href="displayDescriptionData.cs.html#82a5bbc134cdede1" class="t t">ExpressionToken</a> <span id="r243 rd" class="r243 r">expression</span> = <span class="r238 r">expressionMatch</span>.<a href="#9a346fb6931ee4c6" class="i method">GenerateExpressionToken</a>();
                    <b>if</b> (<span class="r243 r">expression</span> == <b>null</b>)
                    {
                        <b>return</b> <b>false</b>; <span class="c">// fatal error</span>
                    }
 
                    <span class="c">// set the output data</span>
                    <b>if</b> (!<b>string</b>.<span class="i">IsNullOrEmpty</span>(<span class="r236 r">formatString</span>))
                    {
                        <a href="#462f8f9dcdca4a86" class="i field">_formatString</a> = <span class="r236 r">formatString</span>;
                    }
 
                    <a href="#cdbb2ddd2fdae412" class="i field">_expression</a> = <span class="r243 r">expression</span>;
                }
                <b>else</b>
                {
                    <span class="c">// RULE: we cannot have a format string without an expression node</span>
                    <b>if</b> (<span class="r239 r">formatStringNodeFound</span>)
                    {
                        <span class="c">// Error at XPath {0} in file {1}: {2} cannot be specified without an expression.</span>
                        <a href="#48a1941bbd59d798" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#db3c8d17c0ceaeb5" class="i method">ReportError</a>(<a href="../../../utils/StringUtil.cs.html#9499fba345e707ac" class="t t">StringUtil</a>.<span class="i">Format</span>(<span class="i">FormatAndOutXmlLoadingStrings</span>.<span class="i">NodeWithoutExpression</span>, <a href="#48a1941bbd59d798" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#1b9e969885176790" class="i method">ComputeCurrentXPath</a>(),
                            <a href="#48a1941bbd59d798" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#6b0418522d2dfb04" class="i property">FilePath</a>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#77acbdc1748a42b0" class="i field">FormatStringNode</a>));
                        <b>return</b> <b>false</b>; <span class="c">// fatal error</span>
                    }
 
                    <span class="c">// we might have a text node</span>
                    <b>if</b> (<span class="r241 r">textNodeFound</span>)
                    {
                        <a href="#2938a762b2fed066" class="i field">_textToken</a> = <span class="r237 r">textToken</span>;
                    }
                }
 
                <b>return</b> <b>true</b>;
            }
 
            <b>internal string</b> <a id="4cb8dc027852ca47" href="../../../R/4cb8dc027852ca47.html" target="n" data-glyph="104,2" class="i property">FormatString</a> { <b>get</b> { <b>return</b> <a href="#462f8f9dcdca4a86" class="i field">_formatString</a>; } }
 
            <b>internal</b> <a href="displayDescriptionData.cs.html#9ea056dc3d88f871" class="t t">TextToken</a> <a id="fedf3534eb1e513e" href="../../../R/fedf3534eb1e513e.html" target="n" data-glyph="104,2" class="i property">TextToken</a> { <b>get</b> { <b>return</b> <a href="#2938a762b2fed066" class="i field">_textToken</a>; } }
 
            <b>internal</b> <a href="displayDescriptionData.cs.html#82a5bbc134cdede1" class="t t">ExpressionToken</a> <a id="385e84a1ef0ea182" href="../../../R/385e84a1ef0ea182.html" target="n" data-glyph="104,2" class="i property">Expression</a> { <b>get</b> { <b>return</b> <a href="#cdbb2ddd2fdae412" class="i field">_expression</a>; } }
 
            <b>private string</b> <a id="462f8f9dcdca4a86" href="../../../R/462f8f9dcdca4a86.html" target="n" data-glyph="46,2" class="i field">_formatString</a>;
            <b>private</b> <a href="displayDescriptionData.cs.html#9ea056dc3d88f871" class="t t">TextToken</a> <a id="2938a762b2fed066" href="../../../R/2938a762b2fed066.html" target="n" data-glyph="46,2" class="i field">_textToken</a>;
            <b>private</b> <a href="displayDescriptionData.cs.html#82a5bbc134cdede1" class="t t">ExpressionToken</a> <a id="cdbb2ddd2fdae412" href="../../../R/cdbb2ddd2fdae412.html" target="n" data-glyph="46,2" class="i field">_expression</a>;
 
            <b>private readonly</b> <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="t t">TypeInfoDataBaseLoader</a> <a id="48a1941bbd59d798" href="../../../R/48a1941bbd59d798.html" target="n" data-glyph="46,2" class="i field">_loader</a>;
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Complex Control Loading
 
        <b>private sealed class</b> <a id="3b8022ab2e4285ea" href="../../../R/3b8022ab2e4285ea.html" target="n" data-glyph="4,1" class="t t">ComplexControlMatch</a>
        {
            <b>internal</b> <a id="a598f9b26bf33b91" href="../../../R/a598f9b26bf33b91.html" target="n" data-glyph="74,2" class="t constructor">ComplexControlMatch</a>(<a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="t t">TypeInfoDataBaseLoader</a> <span id="r244 rd" class="r244 r">loader</span>)
            {
                <a href="#cb9ef26998d765ce" class="i field">_loader</a> = <span class="r244 r">loader</span>;
            }
 
            <b>internal bool</b> <a id="d4ef77edbc92d92c" href="../../../R/d4ef77edbc92d92c.html" target="n" data-glyph="74,2" class="i method">MatchNode</a>(<span class="i">XmlNode</span> <span id="r245 rd" class="r245 r">n</span>)
            {
                <b>return</b> <a href="#cb9ef26998d765ce" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r245 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#6f16b1bc4b00bed7" class="i field">ComplexControlNode</a>) ||
                        <a href="#cb9ef26998d765ce" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r245 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#422e040b0fccfe96" class="i field">ComplexControlNameNode</a>);
            }
 
            <b>internal bool</b> <a id="11842b87cce1cf4e" href="../../../R/11842b87cce1cf4e.html" target="n" data-glyph="74,2" class="i method">ProcessNode</a>(<span class="i">XmlNode</span> <span id="r246 rd" class="r246 r">n</span>)
            {
                <b>if</b> (<a href="#cb9ef26998d765ce" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r246 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#6f16b1bc4b00bed7" class="i field">ComplexControlNode</a>))
                {
                    <span class="c">// load an embedded complex control</span>
                    <a href="#9bf54e4ea691b92a" class="i field">_control</a> = <a href="#cb9ef26998d765ce" class="i field">_loader</a>.<a href="typeDataXmlLoader_Complex.cs.html#b982167add28d7f0" class="i method">LoadComplexControl</a>(<span class="r246 r">n</span>);
                    <b>return</b> <b>true</b>;
                }
                <b>else</b> <b>if</b> (<a href="#cb9ef26998d765ce" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#8fbb2729ca6b999a" class="i method">MatchNodeName</a>(<span class="r246 r">n</span>, <a href="#295af00f946a4221" class="t t">XmlTags</a>.<a href="#422e040b0fccfe96" class="i field">ComplexControlNameNode</a>))
                {
                    <b>string</b> <span id="r247 rd" class="r247 r">name</span> = <a href="#cb9ef26998d765ce" class="i field">_loader</a>.<a href="XmlLoaderBase.cs.html#f3f79d66c29b9a5d" class="i method">GetMandatoryInnerText</a>(<span class="r246 r">n</span>);
                    <b>if</b> (<span class="r247 r">name</span> == <b>null</b>)
                    {
                        <b>return</b> <b>false</b>;
                    }
 
                    <a href="displayDescriptionData.cs.html#d96b19e9f459881c" class="t t">ControlReference</a> <span id="r248 rd" class="r248 r">controlRef</span> = <b>new</b> <span class="t">ControlReference</span>();
                    <span class="r248 r">controlRef</span>.<a href="displayDescriptionData.cs.html#f3253e61fffee04d" class="i field">name</a> = <span class="r247 r">name</span>;
                    <span class="r248 r">controlRef</span>.<a href="displayDescriptionData.cs.html#e17a51c99fe16fa6" class="i field">controlType</a> = <b>typeof</b>(<a href="displayDescriptionData_Complex.cs.html#7a2c532347a3934e" class="t t">ComplexControlBody</a>);
                    <a href="#9bf54e4ea691b92a" class="i field">_control</a> = <span class="r248 r">controlRef</span>;
                    <b>return</b> <b>true</b>;
                }
                <span class="c">// this should never happen if the API is used correctly</span>
                <a href="../../../P/6de812d1f374e1ae.html#6de812d1f374e1ae" class="t t">PSTraceSource</a>.<a href="../../../utils/MshTraceSource.cs.html#4f3f8175dd33a015" class="i method">NewInvalidOperationException</a>();
                <b>return</b> <b>false</b>;
            }
 
            <b>internal</b> <a href="displayDescriptionData.cs.html#8f28d7f0c894b08f" class="t t">ControlBase</a> <a id="8b7c205f9188266c" href="../../../R/8b7c205f9188266c.html" target="n" data-glyph="104,2" class="i property">Control</a>
            {
                <b>get</b> { <b>return</b> <a href="#9bf54e4ea691b92a" class="i field">_control</a>; }
            }
 
            <b>private</b> <a href="displayDescriptionData.cs.html#8f28d7f0c894b08f" class="t t">ControlBase</a> <a id="9bf54e4ea691b92a" href="../../../R/9bf54e4ea691b92a.html" target="n" data-glyph="46,2" class="i field">_control</a>;
            <b>private readonly</b> <a href="../../../P/f7750b48b6924c50.html#f7750b48b6924c50" class="t t">TypeInfoDataBaseLoader</a> <a id="cb9ef26998d765ce" href="../../../R/cb9ef26998d765ce.html" target="n" data-glyph="46,2" class="i field">_loader</a>;
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
    }
}
</pre></td></tr></table></div></body></html>
